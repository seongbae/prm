import{i as I,H as u,c as C,w as b,o as r,a as o,t as l,b as a,d as g,j as m,h as d,n as f,l as w,F as S,k as T}from"./app-BmMnv7Hf.js";import{L as M}from"./Layout-Csq83W0y.js";import{P as V}from"./PrettyButton-DJ97II5T.js";import{P}from"./PrettySpan-DbeWKi_L.js";import{T as j}from"./TextInput-DPfNN3hz.js";import{E as A}from"./Errors-DkF-M9C7.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={components:{InertiaLink:I,Layout:M,PrettyButton:V,PrettySpan:P,TextInput:j,Errors:A},props:{layoutData:{type:Object,default:null},data:{type:Object,default:null}},data(){return{loadingState:"",createContactInformationTypeModalShown:!1,renameContactInformationTypeModalShownId:0,localContactInformationTypes:[],form:{name:"",protocol:"",errors:[]}}},mounted(){this.localContactInformationTypes=this.data.contact_information_types},methods:{showContactInformationTypeModal(){this.form.name="",this.form.protocol="",this.createContactInformationTypeModalShown=!0,this.renameContactInformationTypeModalShownId=0,this.$nextTick().then(()=>{this.$refs.newContactInformationType.focus()})},updateAdressTypeModal(t){this.form.name=t.name,this.form.protocol=t.protocol,this.renameContactInformationTypeModalShownId=t.id,this.createContactInformationTypeModalShown=!1,this.$nextTick().then(()=>{this.$refs.rename[0].focus()})},submit(){this.loadingState="loading",axios.post(this.data.url.contact_information_type_store,this.form).then(t=>{this.flash(this.$t("The contact information type has been created"),"success"),this.localContactInformationTypes.unshift(t.data.data),this.loadingState=null,this.createContactInformationTypeModalShown=!1}).catch(t=>{this.loadingState=null,this.form.errors=t.response.data})},update(t){this.loadingState="loading",axios.put(t.url.update,this.form).then(e=>{this.flash(this.$t("The contact information type has been updated"),"success"),this.localContactInformationTypes[this.localContactInformationTypes.findIndex(c=>c.id===t.id)]=e.data.data,this.loadingState=null,this.renameContactInformationTypeModalShownId=0}).catch(e=>{this.loadingState=null,this.form.errors=e.response.data})},destroy(t){confirm(this.$t("Are you sure? This will remove the contact information types from all contacts, but won’t delete the contacts themselves."))&&axios.delete(t.url.destroy).then(()=>{this.flash(this.$t("The contact information type has been deleted"),"success");var e=this.localContactInformationTypes.findIndex(c=>c.id===t.id);this.localContactInformationTypes.splice(e,1)}).catch(e=>{this.loadingState=null,this.form.errors=e.response.data})}}},E={class:"bg-white dark:bg-gray-900 sm:border-b"},L={class:"max-w-8xl mx-auto hidden px-4 py-2 sm:px-6 md:block"},N={class:"flex items-baseline justify-between space-x-6"},q={class:"text-sm"},D={class:"me-2 inline text-gray-600 dark:text-gray-400"},F={class:"me-2 inline"},K={class:"me-2 inline"},U={class:"inline"},z={class:"relative sm:mt-20"},O={class:"mx-auto max-w-3xl px-2 py-2 sm:px-6 sm:py-6 lg:px-8"},R={class:"mb-6 mt-8 items-center justify-between sm:mt-0 sm:flex"},H={class:"mb-4 sm:mb-0"},Y={class:"border-b border-gray-200 p-5 dark:border-gray-700"},G={class:"flex justify-between p-5"},J={key:1,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Q={key:0,class:"flex items-center justify-between px-5 py-2"},W={class:"text-base"},X={key:0,class:"code ms-3 text-xs"},Z={class:"text-sm"},ee=["onClick"],te=["onClick"],oe=["onSubmit"],ne={class:"border-b border-gray-200 p-5 dark:border-gray-700"},se={class:"flex justify-between p-5"},ae={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},re={class:"p-5 text-center"};function le(t,e,c,ie,n,p){const k=u("InertiaLink"),y=u("pretty-button"),v=u("errors"),h=u("text-input"),x=u("pretty-span"),_=u("layout");return r(),C(_,{"layout-data":c.layoutData},{default:b(()=>[o("nav",E,[o("div",L,[o("div",N,[o("ul",q,[o("li",D,l(t.$t("You are here:")),1),o("li",F,[a(k,{href:c.data.url.settings,class:"text-blue-500 hover:underline"},{default:b(()=>[g(l(t.$t("Settings")),1)]),_:1},8,["href"])]),e[11]||(e[11]=o("li",{class:"relative me-2 inline"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-breadcrumb relative inline h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1)),o("li",K,[a(k,{href:c.data.url.personalize,class:"text-blue-500 hover:underline"},{default:b(()=>[g(l(t.$t("Personalize your account")),1)]),_:1},8,["href"])]),e[12]||(e[12]=o("li",{class:"relative me-2 inline"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-breadcrumb relative inline h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1)),o("li",U,l(t.$t("Contact information types")),1)])])])]),o("main",z,[o("div",O,[o("div",R,[o("h3",H,[e[13]||(e[13]=o("span",{class:"me-1"}," ☎️ ",-1)),g(" "+l(t.$t("All the contact information types")),1)]),n.createContactInformationTypeModalShown?m("",!0):(r(),C(y,{key:0,text:t.$t("Add a type"),icon:"plus",onClick:p.showContactInformationTypeModal},null,8,["text","onClick"]))]),n.createContactInformationTypeModalShown?(r(),d("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900",onSubmit:e[5]||(e[5]=w(s=>p.submit(),["prevent"]))},[o("div",Y,[a(v,{errors:n.form.errors},null,8,["errors"]),a(h,{ref:"newContactInformationType",modelValue:n.form.name,"onUpdate:modelValue":e[0]||(e[0]=s=>n.form.name=s),label:t.$t("Name"),type:"text",autofocus:!0,"input-class":"block w-full mb-3",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:e[1]||(e[1]=s=>n.createContactInformationTypeModalShown=!1)},null,8,["modelValue","label"]),a(h,{modelValue:n.form.protocol,"onUpdate:modelValue":e[2]||(e[2]=s=>n.form.protocol=s),label:t.$t("Protocol"),type:"text",autofocus:!0,"input-class":"block w-full",required:!1,autocomplete:!1,maxlength:255,help:t.$t("A contact information can be clickable. For instance, a phone number can be clickable and launch the default application in your computer. If you do not know the protocol for the type you are adding, you can simply omit this field."),onEscKeyPressed:e[3]||(e[3]=s=>n.createContactInformationTypeModalShown=!1)},null,8,["modelValue","label","help"])]),o("div",G,[a(x,{text:t.$t("Cancel"),class:f("me-3"),onClick:e[4]||(e[4]=s=>n.createContactInformationTypeModalShown=!1)},null,8,["text"]),a(y,{text:t.$t("Add"),state:n.loadingState,icon:"plus",class:f("save")},null,8,["text","state"])])],32)):m("",!0),n.localContactInformationTypes.length>0?(r(),d("ul",J,[(r(!0),d(S,null,T(n.localContactInformationTypes,s=>(r(),d("li",{key:s.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[n.renameContactInformationTypeModalShownId!==s.id?(r(),d("div",Q,[o("div",null,[o("span",W,l(s.name),1),s.protocol?(r(),d("code",X,"["+l(t.$t("Protocol: :name",{name:s.protocol}))+"]",1)):m("",!0)]),o("ul",Z,[o("li",{class:"inline cursor-pointer text-blue-500 hover:underline",onClick:i=>p.updateAdressTypeModal(s)},l(t.$t("Rename")),9,ee),s.can_be_deleted?(r(),d("li",{key:0,class:"ms-4 inline cursor-pointer text-red-500 hover:text-red-900",onClick:i=>p.destroy(s)},l(t.$t("Delete")),9,te)):m("",!0)])])):m("",!0),n.renameContactInformationTypeModalShownId===s.id?(r(),d("form",{key:1,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800",onSubmit:w(i=>p.update(s),["prevent"])},[o("div",ne,[a(v,{errors:n.form.errors},null,8,["errors"]),a(h,{ref_for:!0,ref:"rename",modelValue:n.form.name,"onUpdate:modelValue":e[6]||(e[6]=i=>n.form.name=i),label:t.$t("Name"),type:"text",autofocus:!0,"input-class":"block w-full mb-3",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:e[7]||(e[7]=i=>n.renameContactInformationTypeModalShownId=0)},null,8,["modelValue","label"]),a(h,{modelValue:n.form.protocol,"onUpdate:modelValue":e[8]||(e[8]=i=>n.form.protocol=i),label:t.$t("Protocol"),type:"text",autofocus:!0,"input-class":"block w-full",required:!1,autocomplete:!1,maxlength:255,help:"A contact information can be clickable. For instance, a phone number can be clickable and we will launch the default application in your computer associated with a phone number. If you do not know the protocol for the type you are adding, you can simply omit this field.",onEscKeyPressed:e[9]||(e[9]=i=>n.createContactInformationTypeModalShown=!1)},null,8,["modelValue","label"])]),o("div",se,[a(x,{text:t.$t("Cancel"),class:f("me-3"),onClick:e[10]||(e[10]=w(i=>n.renameContactInformationTypeModalShownId=0,["prevent"]))},null,8,["text"]),a(y,{text:t.$t("Rename"),state:n.loadingState,icon:"check",class:f("save")},null,8,["text","state"])])],40,oe)):m("",!0)]))),128))])):m("",!0),n.localContactInformationTypes.length===0?(r(),d("div",ae,[o("p",re,l(t.$t("Are you sure? This will remove the contact information types from all contacts, but won’t delete the contacts themselves.")),1)])):m("",!0)])])]),_:1},8,["layout-data"])}const ye=$(B,[["render",le],["__scopeId","data-v-38a3f344"]]);export{ye as default};
