import{i as F,H as P,o as s,h as o,a as e,t as r,b as m,w as T,c as L,l as N,n as S,u as l,F as D,k as E,d as q,j as b,r as j,T as X,x as A,bP as H,P as ee,by as te,A as Q,m as J,p as B,y as oe,bQ as me,K as fe,O as be,q as ae}from"./app-BmMnv7Hf.js";import{_ as ve}from"./DialogModal-BdRnJ9VP.js";import{_ as he}from"./ConfirmationModal-Dcz2uZEg.js";import{_ as ke}from"./Button-BWK-thSE.js";import{_ as ye}from"./DangerButton-OSGRtkYA.js";import{_ as ie}from"./SecondaryButton-3_x4XnxO.js";import{L as _e}from"./Layout-Csq83W0y.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{A as ge}from"./index-BX-obcj7.js";import{_ as ue}from"./Avatar-D1zkgQk9.js";import{N as $e}from"./Notes-IJrS10Ho.js";import{T as G}from"./TextInput-DPfNN3hz.js";import{E as R}from"./Errors-DkF-M9C7.js";import{D as se}from"./style-ClCZSOx6.js";import{P as K}from"./PrettyButton-DJ97II5T.js";import{P as Y}from"./PrettySpan-DbeWKi_L.js";import{D as O}from"./Dropdown-fLyjUirY.js";import{L as we,F as xe,a as Ce}from"./LifeEvent-BfRsGJeS.js";import{T as le}from"./TextArea-Dl3jFH3I.js";import{C as re}from"./ContactSelector-DdCoQNmh.js";import{_ as pe}from"./ContactCard-CLKc-Ci_.js";import{P as Ve}from"./PrettyLink-DUWQkaT1.js";import{H as ne}from"./HoverMenu-Rxa0RyO0.js";import{U as ce}from"./Uploadcare-Chmni2Iq.js";import"./Modal-COqoaAX8.js";import"./Pagination-nQbjI23B.js";import"./omit-BpS3z5OW.js";const Me={components:{InertiaLink:F,ATooltip:ge},props:{data:{type:Object,default:null}},data(){return{localData:[]}},created(){this.localData=this.data},methods:{toggleFavorite(){axios.put(this.data.url.toggle_favorite).then(t=>{this.flash(this.$t("Changes saved"),"success"),this.localData=t.data.data}).catch(t=>{this.form.errors=t.response.data})}}},Se={class:"mb-4"},Ie={class:"mb-1 items-center justify-between border-b border-gray-200 dark:border-gray-700 sm:flex"},je={class:"mb-2 text-xs sm:mb-0"},Ue={class:"flex items-center justify-between text-xl font-bold"},Te={class:"me-2"};function Pe(t,a,f,_,u,$){const V=P("InertiaLink"),I=P("a-tooltip");return s(),o("div",Se,[e("div",Ie,[e("div",je,r(t.$t("Name")),1),m(V,{href:f.data.url.edit,class:"relative"},{default:T(()=>a[1]||(a[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-3 w-3 text-gray-300 hover:text-gray-600 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:1},8,["href"])]),e("h1",Ue,[e("span",Te,r(f.data.name),1),u.localData.is_favorite?(s(),o("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-yellow-500 hover:cursor-pointer",viewBox:"0 0 20 20",fill:"currentColor",onClick:a[0]||(a[0]=N((...C)=>$.toggleFavorite&&$.toggleFavorite(...C),["prevent"]))},a[3]||(a[3]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]))):(s(),L(I,{key:0,placement:"topLeft",title:t.$t("Set as favorite"),"arrow-point-at-center":"",onClick:N($.toggleFavorite,["prevent"])},{default:T(()=>a[2]||(a[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400 hover:cursor-pointer hover:text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})],-1)])),_:1},8,["title","onClick"]))])])}const Le=z(Me,[["render",Pe],["__scopeId","data-v-904f22b5"]]),qe={components:{Avatar:ue},props:{data:{type:Object,default:null}}};function De(t,a,f,_,u,$){const V=P("avatar");return s(),o("div",null,[m(V,{data:f.data.avatar,class:S("mx-auto mb-6 sm:w-1/2"),"img-classes":"rounded sm:w-72"},null,8,["data"])])}const Ee=z(qe,[["render",De]]),Ae={class:"mb-4 grid grid-cols-2 gap-4"},Ge={class:"mb-3 items-center justify-between border-b border-gray-200 dark:border-gray-700 sm:flex"},He={class:"mb-2 text-xs sm:mb-0"},Ke={key:0,class:"text-sm"},Ne={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},Be={class:"mb-3 items-center justify-between border-b border-gray-200 dark:border-gray-700 sm:flex"},ze={class:"mb-2 text-xs sm:mb-0"},Fe={key:0,class:"text-sm"},Re={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},Oe={__name:"GenderPronoun",props:{data:Object},setup(t){return(a,f)=>(s(),o("div",Ae,[e("div",null,[e("div",Ge,[e("div",He,r(a.$t("Gender")),1),m(l(F),{href:t.data.url.edit,class:"relative"},{default:T(()=>f[0]||(f[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-3 w-3 text-gray-300 hover:text-gray-600 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:1},8,["href"])]),t.data.gender?(s(),o("p",Ke,r(t.data.gender),1)):(s(),o("p",Ne,r(a.$t("Not set")),1))]),e("div",null,[e("div",Be,[e("div",ze,r(a.$t("Pronoun")),1),m(l(F),{href:t.data.url.edit,class:"relative"},{default:T(()=>f[1]||(f[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-3 w-3 text-gray-300 hover:text-gray-600 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:1},8,["href"])]),t.data.pronoun?(s(),o("p",Fe,r(t.data.pronoun),1)):(s(),o("p",Re,r(a.$t("Not set")),1))])]))}},Ye=z(Oe,[["__scopeId","data-v-9309ee94"]]),We={key:0,class:"mb-4"},Je={class:"mb-3 items-center justify-between border-b border-gray-200 dark:border-gray-700 sm:flex"},Ze={class:"mb-1 text-xs"},Qe={key:0,class:"flex"},Xe={key:1},et={key:2,class:"ms-2 text-xs text-gray-400"},tt={key:1,class:"flex"},st={key:1},ot={key:2,class:"ms-2 text-xs text-gray-400"},at={__name:"FamilySummary",props:{data:Object},setup(t){return(a,f)=>t.data.love_relationships.length!==0||t.data.family_relationships.length!==0?(s(),o("div",We,[e("div",Je,[e("div",Ze,r(a.$t("Family summary")),1)]),t.data.love_relationships.length>0?(s(),o("div",Qe,[f[0]||(f[0]=e("span",{class:"me-2 inline text-sm"}," â¤ï¸ ",-1)),e("ul",null,[(s(!0),o(D,null,E(t.data.love_relationships,_=>(s(),o("li",{key:_.id,class:"me-2 inline"},[_.contact.url.show?(s(),L(l(F),{key:0,href:_.contact.url.show,class:"text-blue-500 hover:underline"},{default:T(()=>[q(r(_.contact.name),1)]),_:2},1032,["href"])):(s(),o("span",Xe,r(_.contact.name),1)),_.contact.age?(s(),o("span",et,"("+r(_.contact.age)+")",1)):b("",!0)]))),128))])])):b("",!0),t.data.family_relationships.length>0?(s(),o("div",tt,[f[1]||(f[1]=e("span",{class:"me-2 inline text-sm"}," ðŸ‘ª ",-1)),e("ul",null,[(s(!0),o(D,null,E(t.data.family_relationships,_=>(s(),o("li",{key:_.id,class:"me-2 inline"},[_.contact.url.show?(s(),L(l(F),{key:0,href:_.contact.url.show,class:"text-blue-500 hover:underline"},{default:T(()=>[q(r(_.contact.name),1)]),_:2},1032,["href"])):(s(),o("span",st,r(_.contact.name),1)),_.contact.age?(s(),o("span",ot,"("+r(_.contact.age)+")",1)):b("",!0)]))),128))])])):b("",!0)])):b("",!0)}},rt={class:"mb-4"},lt={class:"mb-3 items-center justify-between border-b border-gray-200 dark:border-gray-700 sm:flex"},nt={class:"mb-2 text-xs sm:mb-0"},dt={class:"mb-1 flex items-center justify-between hover:bg-slate-50 dark:bg-slate-800 hover:dark:bg-slate-900"},it={class:"text-sm"},ut={class:"text-sm"},ct={key:0,class:"text-xs text-gray-400"},mt={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},bt={__name:"ImportantDates",props:{data:Object},setup(t){return(a,f)=>(s(),o("div",rt,[e("div",lt,[e("div",nt,r(a.$t("Important dates")),1),m(l(F),{href:t.data.url.edit,class:"relative"},{default:T(()=>f[0]||(f[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-3 w-3 text-gray-300 hover:text-gray-600 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:1},8,["href"])]),(s(!0),o(D,null,E(t.data.dates,_=>(s(),o("ul",{key:_.id},[e("li",dt,[e("span",it,r(_.label),1),e("span",ut,[q(r(_.date)+" ",1),_.age?(s(),o("span",ct,"("+r(_.age)+")",1)):b("",!0)])])]))),128)),t.data.dates.length===0?(s(),o("p",mt,r(a.$t("Not set")),1)):b("",!0)]))}},pt=z(bt,[["__scopeId","data-v-62959a6d"]]),ht={components:{InertiaLink:F,TextInput:G,Errors:R},props:{data:{type:Object,default:null}},data(){return{editLabelModalShown:!1,localLabels:[],localLabelsInVault:[],form:{search:"",name:"",errors:[]}}},computed:{filteredLabels(){return this.localLabelsInVault.filter(t=>t.name.toLowerCase().indexOf(this.form.search.toLowerCase())>-1)}},created(){this.localLabels=this.data.labels_in_contact,this.localLabelsInVault=this.data.labels_in_vault},methods:{showEditModal(){this.form.name="",this.editLabelModalShown=!0,this.$nextTick().then(()=>{this.$refs.label.focus()})},store(){this.form.name=this.form.search,axios.post(this.data.url.store,this.form).then(t=>{this.flash(this.$t("The label has been added"),"success"),this.form.search="",this.localLabelsInVault.push(t.data.data),this.localLabels.push(t.data.data)}).catch(t=>{this.form.errors=t.response.data})},set(t){if(t.taken){this.remove(t);return}axios.put(t.url.update).then(a=>{this.localLabelsInVault[this.localLabelsInVault.findIndex(f=>f.id===t.id)]=a.data.data,this.localLabels.push(a.data.data)}).catch(a=>{this.form.errors=a.response.data})},remove(t){axios.delete(t.url.destroy).then(a=>{this.localLabelsInVault[this.localLabelsInVault.findIndex(_=>_.id===t.id)]=a.data.data;var f=this.localLabels.findIndex(_=>_.id===t.id);this.localLabels.splice(f,1)}).catch(a=>{this.form.errors=a.response.data})}}},yt={class:"mb-4"},gt={class:"mb-3 items-center justify-between border-b border-gray-200 dark:border-gray-700 sm:flex"},ft={class:"mb-2 text-xs sm:mb-0"},vt={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},kt={class:"border-b border-gray-200 p-2 dark:border-gray-700"},_t=["onClick"],$t={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-green-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},wt={class:"italic"},xt={key:1,class:"border-b border-gray-200 px-3 py-2 text-sm text-gray-600 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:text-gray-400 hover:dark:bg-slate-800"},Ct={class:"flex flex-wrap"},Vt={key:1,class:"text-sm text-gray-600 dark:text-gray-400"};function Mt(t,a,f,_,u,$){const V=P("errors"),I=P("text-input"),C=P("InertiaLink");return s(),o("div",yt,[e("div",gt,[e("div",ft,r(t.$t("Labels")),1),u.editLabelModalShown?b("",!0):(s(),o("span",{key:0,class:"relative cursor-pointer",onClick:a[0]||(a[0]=(...d)=>$.showEditModal&&$.showEditModal(...d))},a[5]||(a[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-3 w-3 text-gray-300 hover:text-gray-600 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]))),u.editLabelModalShown?(s(),o("span",{key:1,class:"cursor-pointer text-xs text-gray-600 dark:text-gray-400",onClick:a[1]||(a[1]=d=>u.editLabelModalShown=!1)},r(t.$t("Close")),1)):b("",!0)]),u.editLabelModalShown?(s(),o("div",vt,[e("div",kt,[m(V,{errors:u.form.errors},null,8,["errors"]),m(I,{ref:"label",modelValue:u.form.search,"onUpdate:modelValue":a[2]||(a[2]=d=>u.form.search=d),type:"text",placeholder:t.$t("Filter list or create a new label"),autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,onEscKeyPressed:a[3]||(a[3]=d=>u.editLabelModalShown=!1)},null,8,["modelValue","placeholder"])]),e("ul",{class:S(["label-list overflow-auto bg-white dark:bg-gray-900",$.filteredLabels.length>0?"h-40":""])},[(s(!0),o(D,null,E($.filteredLabels,d=>(s(),o("li",{key:d.id,class:"flex cursor-pointer items-center justify-between border-b border-gray-200 px-3 py-2 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800",onClick:k=>$.set(d)},[e("div",null,[e("span",{class:S(["me-2 inline-block h-4 w-4 rounded-full",d.bg_color])},null,2),e("span",null,r(d.name),1)]),d.taken?(s(),o("svg",$t,a[6]||(a[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))):b("",!0)],8,_t))),128)),$.filteredLabels.length===0&&u.form.search.length!==""?(s(),o("li",{key:0,class:"cursor-pointer border-b border-gray-200 px-3 py-2 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800",onClick:a[4]||(a[4]=d=>$.store())},[q(r(t.$t("Create new label"))+" ",1),e("span",wt,'"'+r(u.form.search)+'"',1)])):b("",!0),$.filteredLabels.length===0&&u.form.search.length===""?(s(),o("li",xt,r(t.$t("Please type a few characters to create a new label.")),1)):b("",!0)],2)])):b("",!0),e("div",Ct,[(s(!0),o(D,null,E(u.localLabels,d=>(s(),o("span",{key:d.id,class:S(["mb-2 me-2 inline-block rounded px-2 py-1 text-xs font-semibold last:me-0",d.bg_color+" "+d.text_color])},[m(C,{href:d.url.show},{default:T(()=>[q(r(d.name),1)]),_:2},1032,["href"])],2))),128))]),u.localLabels.length===0?(s(),o("p",Vt,r(t.$t("Not set")),1)):b("",!0)])}const St=z(ht,[["render",Mt],["__scopeId","data-v-dd1ee9ef"]]),It={class:"mb-10"},jt={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},Ut={class:"mb-2 sm:mb-0"},Tt={class:"font-semibold"},Pt={class:"border-b border-gray-200 dark:border-gray-700"},Lt={key:0,class:"p-5"},qt={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Dt={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Et={class:"mb-2 flex items-center"},At={for:"full_date",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Gt={key:0,class:"mb-4 ms-6"},Ht=["value"],Kt={class:"flex items-center"},Nt={for:"month_day",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Bt={key:1,class:"ms-6 mt-2 flex"},zt={class:"p-5"},Ft={class:"mb-1"},Rt={class:"mb-1 text-sm text-gray-600 dark:text-gray-400"},Ot={class:"ms-4 mt-4"},Yt={class:"mb-2 flex items-center"},Wt={for:"one_time",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Jt={class:"mb-2 flex items-center"},Zt={for:"recurring",class:"ms-3 block flex cursor-pointer items-center text-sm font-medium text-gray-700 dark:text-gray-300"},Qt={class:"me-2"},Xt={class:"flex justify-between p-5"},es={key:1},ts={class:"mb-4 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},ss={class:"flex items-center justify-between px-3 py-2"},os={class:"flex items-center"},as={class:"me-2 text-sm text-gray-500"},rs={class:"me-2"},ls={class:"text-sm"},ns=["onClick"],ds=["onClick"],is=["onSubmit"],us={class:"border-b border-gray-200 dark:border-gray-700"},cs={key:0,class:"p-5"},ms={class:"border-b border-gray-200 p-5 dark:border-gray-700"},bs={class:"border-b border-gray-200 p-5 dark:border-gray-700"},ps={class:"mb-2 flex items-center"},hs={for:"full_date",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},ys={key:0,class:"mb-4 ms-6"},gs=["value"],fs={class:"flex items-center"},vs={for:"month_day",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},ks={key:1,class:"ms-6 mt-2 flex"},_s={class:"p-5"},$s={class:"mb-1"},ws={class:"mb-1 text-sm text-gray-600 dark:text-gray-400"},xs={class:"ms-4 mt-4"},Cs={class:"mb-2 flex items-center"},Vs={for:"one_time",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Ms={class:"mb-2 flex items-center"},Ss={for:"recurring",class:"ms-3 block flex cursor-pointer items-center text-sm font-medium text-gray-700 dark:text-gray-300"},Is={class:"me-2"},js={class:"flex justify-between p-5"},Us={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Ts=["alt"],Ps={class:"px-5 pb-5 pt-2 text-center"},Ls={__name:"Reminders",props:{data:Object},setup(t){const a=t,f=j(null),_=j([]),u=j(""),$=j(!1),V=j(a.data.reminders),I=j(0),C=j({modelValue:"YYYY-MM-DD"}),d=X({label:"",reminderChoice:"",day:"",month:"",choice:"",date:"",frequencyType:"",frequencyNumber:0,errors:[]}),k=()=>{d.errors=[],d.label="",d.choice="full_date",d.day="",d.month="",d.reminderChoice="recurring",d.date="",d.frequencyType="recurring_year",d.frequencyNumber=1,$.value=!0,Q().then(()=>f.value.focus())},w=y=>{d.errors=[],I.value=y.id,d.label=y.label,d.day=y.day,d.month=y.month,d.date=y.date,d.reminderChoice=y.reminder_choice,d.frequencyNumber=y.frequency_number,d.frequencyType=y.type,d.choice=y.choice,Q().then(()=>_.value[0].focus())},h=()=>{u.value="loading",axios.post(a.data.url.store,d).then(y=>{J(B("The reminder has been created"),"success"),V.value.unshift(y.data.data),u.value="",$.value=!1}).catch(y=>{u.value="",d.errors=y.response.data})},x=y=>{u.value="loading",axios.put(y.url.update,d).then(M=>{u.value="",J(B("The reminder has been edited"),"success"),V.value[V.value.findIndex(W=>W.id===y.id)]=M.data.data,I.value=0}).catch(M=>{u.value="",d.errors=M.response.data})},U=y=>{confirm(B("Are you sure? This action cannot be undone."))&&axios.delete(y.url.destroy).then(()=>{J(B("The reminder has been deleted"),"success");let M=V.value.findIndex(W=>W.id===y.id);V.value.splice(M,1)}).catch(M=>{u.value=null,d.errors=M.response.data})};return(y,M)=>{var W;return s(),o("div",It,[e("div",jt,[e("div",Ut,[M[25]||(M[25]=e("span",{class:"relative me-1"},[e("svg",{class:"icon-sidebar relative inline h-4 w-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M15 17C16.1046 17 17 16.1046 17 15C17 13.8954 16.1046 13 15 13C13.8954 13 13 13.8954 13 15C13 16.1046 13.8954 17 15 17Z",fill:"currentColor"}),e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 3C4.34315 3 3 4.34315 3 6V18C3 19.6569 4.34315 21 6 21H18C19.6569 21 21 19.6569 21 18V6C21 4.34315 19.6569 3 18 3H6ZM5 18V7H19V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z",fill:"currentColor"})])],-1)),e("span",Tt,r(y.$t("Reminders")),1)]),m(K,{text:y.$t("Add a reminder"),icon:"plus",class:S("w-full sm:w-fit"),onClick:k},null,8,["text"])]),$.value?(s(),o("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:M[12]||(M[12]=N(v=>h(),["prevent"]))},[e("div",Pt,[l(d).errors.length>0?(s(),o("div",Lt,[m(R,{errors:l(d).errors},null,8,["errors"])])):b("",!0),e("div",qt,[m(G,{ref_key:"label",ref:f,modelValue:l(d).label,"onUpdate:modelValue":M[0]||(M[0]=v=>l(d).label=v),label:y.$t("Name of the reminder"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:M[1]||(M[1]=v=>$.value=!1)},null,8,["modelValue","label"])]),e("div",Dt,[e("div",Et,[A(e("input",{id:"full_date","onUpdate:modelValue":M[2]||(M[2]=v=>l(d).choice=v),value:"full_date",name:"date",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(d).choice]]),e("label",At,r(y.$t("I know the exact date, including the year")),1)]),l(d).choice==="full_date"?(s(),o("div",Gt,[m(l(se),{modelValue:l(d).date,"onUpdate:modelValue":M[3]||(M[3]=v=>l(d).date=v),modelModifiers:{string:!0},class:"inline-block h-full",masks:C.value,locale:(W=y.$page.props.auth.user)==null?void 0:W.locale_ietf,"is-dark":y.isDark()},{default:T(({inputValue:v,inputEvents:c})=>[e("input",ee({class:"rounded border bg-white px-2 py-1 dark:bg-gray-900",value:v},te(c,!0)),null,16,Ht)]),_:1},8,["modelValue","masks","locale","is-dark"])])):b("",!0),e("div",Kt,[A(e("input",{id:"month_day","onUpdate:modelValue":M[4]||(M[4]=v=>l(d).choice=v),value:"month_day",name:"date",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(d).choice]]),e("label",Nt,r(y.$t("I only know the day and month, not the year")),1)]),l(d).choice==="month_day"?(s(),o("div",Bt,[m(O,{modelValue:l(d).month,"onUpdate:modelValue":M[5]||(M[5]=v=>l(d).month=v),data:t.data.months,required:!0,class:S("mb-5 me-2"),placeholder:y.$t("Choose a value"),"dropdown-class":"block w-full",label:y.$t("Month")},null,8,["modelValue","data","placeholder","label"]),m(O,{modelValue:l(d).day,"onUpdate:modelValue":M[6]||(M[6]=v=>l(d).day=v),data:t.data.days,required:!0,class:S("mb-5"),placeholder:y.$t("Choose a value"),"dropdown-class":"block w-full",label:y.$t("Day")},null,8,["modelValue","data","placeholder","label"])])):b("",!0)]),e("div",zt,[e("p",Ft,r(y.$t("How often should we remind you about this date?")),1),e("p",Rt,r(y.$t("If the date is in the past, the next occurence of the date will be next year.")),1),e("div",Ot,[e("div",Yt,[A(e("input",{id:"one_time","onUpdate:modelValue":M[7]||(M[7]=v=>l(d).reminderChoice=v),value:"one_time",name:"reminder-frequency",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(d).reminderChoice]]),e("label",Wt,r(y.$t("Only once, when the next occurence of the date occurs.")),1)]),e("div",Jt,[A(e("input",{id:"recurring","onUpdate:modelValue":M[8]||(M[8]=v=>l(d).reminderChoice=v),value:"recurring",name:"reminder-frequency",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(d).reminderChoice]]),e("label",Zt,[e("span",Qt,r(y.$t("Every")),1),m(O,{id:"frequency-number",modelValue:l(d).frequencyNumber,"onUpdate:modelValue":M[9]||(M[9]=v=>l(d).frequencyNumber=v),"dropdown-class":"me-2",required:y.required,data:[1,2,3,4,5,6,7,8,9,10]},null,8,["modelValue","required"]),m(O,{id:"frequency-type",modelValue:l(d).frequencyType,"onUpdate:modelValue":M[10]||(M[10]=v=>l(d).frequencyType=v),"dropdown-class":"me-2",required:y.required,data:[{id:"recurring_day",name:y.$t("day")},{id:"recurring_month",name:y.$t("month")},{id:"recurring_year",name:y.$t("year")}]},null,8,["modelValue","required","data"]),e("span",null,r(y.$t("after the next occurence of the date.")),1)])])])])]),e("div",Xt,[m(Y,{text:y.$t("Cancel"),class:S("me-3"),onClick:M[11]||(M[11]=v=>$.value=!1)},null,8,["text"]),m(K,{text:y.$t("Add date"),state:u.value,icon:"plus",class:S("save")},null,8,["text","state"])])],32)):b("",!0),V.value.length>0?(s(),o("div",es,[e("ul",ts,[(s(!0),o(D,null,E(V.value,v=>{var c;return s(),o("li",{key:v.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[e("div",ss,[e("div",os,[e("span",as,r(v.date),1),e("span",rs,r(v.label),1),v.type!=="one_time"?(s(),L(l(ge),{key:0,placement:"topLeft",title:"Recurring","arrow-point-at-center":""},{default:T(()=>M[26]||(M[26]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])),_:1})):b("",!0)]),e("ul",ls,[e("li",{class:"me-4 inline cursor-pointer text-blue-500 hover:underline",onClick:n=>w(v)},r(y.$t("Edit")),9,ns),e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:n=>U(v)},r(y.$t("Delete")),9,ds)])]),I.value===v.id?(s(),o("form",{key:0,class:"bg-gray-50 dark:bg-gray-900",onSubmit:N(n=>x(v),["prevent"])},[e("div",us,[l(d).errors.length>0?(s(),o("div",cs,[m(R,{errors:l(d).errors},null,8,["errors"])])):b("",!0),e("div",ms,[m(G,{ref_for:!0,ref_key:"labels",ref:_,modelValue:l(d).label,"onUpdate:modelValue":M[13]||(M[13]=n=>l(d).label=n),label:y.$t("Name of the reminder"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:M[14]||(M[14]=n=>$.value=!1)},null,8,["modelValue","label"])]),e("div",bs,[e("div",ps,[A(e("input",{id:"full_date","onUpdate:modelValue":M[15]||(M[15]=n=>l(d).choice=n),value:"full_date",name:"date",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(d).choice]]),e("label",hs,r(y.$t("I know the exact date, including the year")),1)]),l(d).choice==="full_date"?(s(),o("div",ys,[m(l(se),{modelValue:l(d).date,"onUpdate:modelValue":M[16]||(M[16]=n=>l(d).date=n),modelModifiers:{string:!0},class:"inline-block h-full",masks:C.value,locale:(c=y.$page.props.auth.user)==null?void 0:c.locale_ietf,"is-dark":y.isDark()},{default:T(({inputValue:n,inputEvents:i})=>[e("input",ee({class:"rounded border bg-white px-2 py-1 dark:bg-gray-900",value:n},te(i,!0)),null,16,gs)]),_:1},8,["modelValue","masks","locale","is-dark"])])):b("",!0),e("div",fs,[A(e("input",{id:"month_day","onUpdate:modelValue":M[17]||(M[17]=n=>l(d).choice=n),value:"month_day",name:"date",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(d).choice]]),e("label",vs,r(y.$t("I only know the day and month, not the year")),1)]),l(d).choice==="month_day"?(s(),o("div",ks,[m(O,{modelValue:l(d).month,"onUpdate:modelValue":M[18]||(M[18]=n=>l(d).month=n),data:t.data.months,required:!0,class:S("me-2"),placeholder:y.$t("Choose a value"),"dropdown-class":"block w-full",label:y.$t("Month")},null,8,["modelValue","data","placeholder","label"]),m(O,{modelValue:l(d).day,"onUpdate:modelValue":M[19]||(M[19]=n=>l(d).day=n),data:t.data.days,required:!0,placeholder:y.$t("Choose a value"),"dropdown-class":"block w-full",label:y.$t("Day")},null,8,["modelValue","data","placeholder","label"])])):b("",!0)]),e("div",_s,[e("p",$s,r(y.$t("How often should we remind you about this date?")),1),e("p",ws,r(y.$t("If the date is in the past, the next occurence of the date will be next year.")),1),e("div",xs,[e("div",Cs,[A(e("input",{id:"one_time","onUpdate:modelValue":M[20]||(M[20]=n=>l(d).reminderChoice=n),value:"one_time",name:"reminder-frequency",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(d).reminderChoice]]),e("label",Vs,r(y.$t("Only once, when the next occurence of the date occurs.")),1)]),e("div",Ms,[A(e("input",{id:"recurring","onUpdate:modelValue":M[21]||(M[21]=n=>l(d).reminderChoice=n),value:"recurring",name:"reminder-frequency",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(d).reminderChoice]]),e("label",Ss,[e("span",Is,r(y.$t("Every")),1),m(O,{id:"frequency-number",modelValue:l(d).frequencyNumber,"onUpdate:modelValue":M[22]||(M[22]=n=>l(d).frequencyNumber=n),"dropdown-class":"me-2",required:y.required,data:[1,2,3,4,5,6,7,8,9,10]},null,8,["modelValue","required"]),m(O,{id:"frequency-type",modelValue:l(d).frequencyType,"onUpdate:modelValue":M[23]||(M[23]=n=>l(d).frequencyType=n),"dropdown-class":"me-2",required:y.required,data:[{id:"recurring_day",name:y.$t("day")},{id:"recurring_month",name:y.$t("month")},{id:"recurring_year",name:y.$t("year")}]},null,8,["modelValue","required","data"]),e("span",null,r(y.$t("after the next occurence of the date.")),1)])])])])]),e("div",js,[m(Y,{text:y.$t("Cancel"),class:S("me-3"),onClick:M[24]||(M[24]=n=>I.value=0)},null,8,["text"]),m(K,{text:y.$t("Save"),state:u.value,icon:"check",class:S("save")},null,8,["text","state"])])],40,is)):b("",!0)])}),128))])])):b("",!0),V.value.length===0?(s(),o("div",Us,[e("img",{src:"/img/dashboard_blank_reminders.svg",alt:y.$t("Reminders"),class:"mx-auto mt-4 h-14 w-14"},null,8,Ts),e("p",Ps,r(y.$t("There are no reminders yet.")),1)])):b("",!0)])}}},qs=z(Ls,[["__scopeId","data-v-0e97a87a"]]),Ds={class:"mb-10"},Es={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},As={class:"mb-2 sm:mb-0"},Gs={class:"font-semibold"},Hs={class:"border-b border-gray-200 dark:border-gray-700"},Ks={class:"border-b border-gray-200 px-5 pb-3 pt-5 dark:border-gray-700"},Ns={class:"me-5 inline-block"},Bs={class:"flex items-center"},zs={for:"object",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Fs={class:"me-5 inline-block"},Rs={class:"flex items-center"},Os={for:"monetary",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Ys={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Ws={key:0,class:"flex border-b border-gray-200 p-5 dark:border-gray-700"},Js={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Zs={class:"mb-2 block text-sm"},Qs=["value"],Xs={class:"flex items-center items-stretch border-b border-gray-200 dark:border-gray-700"},eo={class:"p-5"},to={key:0,class:"p-5"},so={key:1,class:"border-b p-3"},oo={class:"flex justify-between p-5"},ao={key:0,class:"me-3 flex items-center"},ro={class:"flex -space-x-2 overflow-hidden"},lo={key:1,class:"item-list w-full rounded-lg border border-gray-200 bg-white hover:bg-slate-50 dark:border-gray-700 dark:bg-gray-900 hover:dark:bg-slate-800"},no={class:"border-b border-gray-200 px-3 py-2 dark:border-gray-700"},io={class:"flex items-center justify-between"},uo={class:"me-2 block"},co={key:0,class:"me-2"},mo={key:0},bo={key:0,class:"me-2 text-sm text-gray-500"},po={class:"flex items-center justify-between px-3 py-2"},ho={class:"text-sm"},yo=["onClick"],go=["onClick"],fo=["onClick"],vo=["onClick"],ko=["onSubmit"],_o={class:"border-b border-gray-200 dark:border-gray-700"},$o={class:"border-b border-gray-200 px-5 pb-3 pt-5 dark:border-gray-700"},wo={class:"me-5 inline-block"},xo={class:"flex items-center"},Co={for:"object",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Vo={class:"me-5 inline-block"},Mo={class:"flex items-center"},So={for:"monetary",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Io={class:"border-b border-gray-200 p-5 dark:border-gray-700"},jo={key:0,class:"flex border-b border-gray-200 p-5 dark:border-gray-700"},Uo={class:"border-b border-gray-200 p-5 dark:border-gray-700"},To={class:"mb-2 block text-sm"},Po=["value"],Lo={class:"flex items-center items-stretch border-b border-gray-200 dark:border-gray-700"},qo={class:"p-5"},Do={key:0,class:"p-5"},Eo={key:1,class:"border-b p-3"},Ao={class:"flex justify-between p-5"},Go={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Ho=["alt"],Ko={class:"px-5 pb-5 pt-2 text-center"},No={__name:"Loans",props:{layoutData:Object,data:Object},setup(t){const a=t,f=j(null),_=j(""),u=j(!1),$=j(a.data.loans),V=j([]),I=j(0),C=j(""),d=X({type:"object",name:"",description:"",loaned_at:a.data.current_date,amount_lent:"",currency_id:"",loaners:[],loanees:[],errors:[]}),k=j({modelValue:"YYYY-MM-DD"}),w=()=>{x(),d.errors=[],d.type="object",d.name="",d.description="",d.amount_lent="",d.currency_id="",u.value=!0,Q().then(()=>f.value.focus())},h=v=>{x(),d.errors=[],d.type=v.amount_lent_input?"monetary":"object",d.name=v.name,d.description=v.description,d.loaned_at=v.loaned_at,d.amount_lent=v.amount_lent_input,d.currency_id=v.currency_id,d.loaners=v.loaners,d.loanees=v.loanees,I.value=v.id},x=()=>{V.value.length===0&&axios.get(a.data.url.currencies,d).then(v=>{V.value=v.data.data})},U=()=>{if(d.loaners.length===0||d.loanees.length===0){C.value=B("Please indicate the contacts");return}_.value="loading",axios.post(a.data.url.store,d).then(v=>{J(B("The loan has been created"),"success"),$.value.unshift(v.data.data),_.value="",u.value=!1}).catch(v=>{_.value="",d.errors=v.response.data})},y=v=>{_.value="loading",axios.put(v.url.update,d).then(c=>{_.value="",J(B("The loan has been edited"),"success"),$.value[$.value.findIndex(n=>n.id===v.id)]=c.data.data,I.value=0}).catch(c=>{_.value="",d.errors=c.response.data})},M=v=>{confirm(B("Are you sure? This action cannot be undone."))&&axios.delete(v.url.destroy).then(()=>{J(B("The loan has been deleted"),"success");let c=$.value.findIndex(n=>n.id===v.id);$.value.splice(c,1)}).catch(c=>{_.value=null,d.errors=c.response.data})},W=v=>{axios.put(v.url.toggle,d).then(c=>{J(B("The loan has been settled"),"success"),$.value[$.value.findIndex(n=>n.id===v.id)]=c.data.data}).catch(c=>{d.errors=c.response.data})};return(v,c)=>{var n;return s(),o("div",Ds,[e("div",Es,[e("div",As,[c[25]||(c[25]=e("span",{class:"relative me-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("span",Gs,r(v.$t("Loans")),1)]),m(K,{text:v.$t("Record a loan"),icon:"plus",class:S("w-full sm:w-fit"),onClick:w},null,8,["text"])]),e("div",null,[u.value?(s(),o("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:c[12]||(c[12]=N(i=>U(),["prevent"]))},[e("div",Hs,[e("div",Ks,[e("ul",null,[e("li",Ns,[e("div",Bs,[A(e("input",{id:"object","onUpdate:modelValue":c[0]||(c[0]=i=>l(d).type=i),value:"object",name:"name-order",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(d).type]]),e("label",zs,r(v.$t("The loan is an object")),1)])]),e("li",Fs,[e("div",Rs,[A(e("input",{id:"monetary","onUpdate:modelValue":c[1]||(c[1]=i=>l(d).type=i),value:"monetary",name:"name-order",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(d).type]]),e("label",Os,r(v.$t("The loan is monetary")),1)])])])]),e("div",Ys,[m(G,{ref_key:"nameInput",ref:f,modelValue:l(d).name,"onUpdate:modelValue":c[2]||(c[2]=i=>l(d).name=i),label:v.$t("What is the loan?"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:c[3]||(c[3]=i=>u.value=!1)},null,8,["modelValue","label"])]),l(d).type==="monetary"?(s(),o("div",Ws,[m(G,{ref:"label",modelValue:l(d).amount_lent,"onUpdate:modelValue":c[4]||(c[4]=i=>l(d).amount_lent=i),label:v.$t("How much money was lent?"),help:v.$t("Write the amount with a dot if you need decimals, like 100.50"),type:"number",autofocus:!0,"input-class":"w-full",required:!1,min:0,max:1e7,autocomplete:!1,onEscKeyPressed:c[5]||(c[5]=i=>u.value=!1)},null,8,["modelValue","label","help"]),m(O,{modelValue:l(d).currency_id,"onUpdate:modelValue":c[6]||(c[6]=i=>l(d).currency_id=i),data:V.value,required:!1,class:S("mb-5 ms-3"),placeholder:v.$t("Choose a value"),"dropdown-class":"block",label:v.$t("Currency")},null,8,["modelValue","data","placeholder","label"])])):b("",!0),e("div",Js,[e("p",Zs,r(v.$t("When was the loan made?")),1),m(l(se),{modelValue:l(d).loaned_at,"onUpdate:modelValue":c[7]||(c[7]=i=>l(d).loaned_at=i),modelModifiers:{string:!0},class:"inline-block h-full",masks:k.value,locale:(n=v.$page.props.auth.user)==null?void 0:n.locale_ietf,"is-dark":v.isDark()},{default:T(({inputValue:i,inputEvents:p})=>[e("input",ee({class:"rounded border bg-white px-2 py-1 dark:bg-gray-900",value:i},te(p,!0)),null,16,Qs)]),_:1},8,["modelValue","masks","locale","is-dark"])]),e("div",Xs,[m(re,{modelValue:l(d).loaners,"onUpdate:modelValue":c[8]||(c[8]=i=>l(d).loaners=i),"search-url":t.layoutData.vault.url.search_contacts_only,"most-consulted-contacts-url":t.layoutData.vault.url.get_most_consulted_contacts,"display-most-consulted-contacts":!1,label:v.$t("Who makes the loan?"),"add-multiple-contacts":!0,required:!0,class:S("flex-1 border-e border-gray-200 p-5 dark:border-gray-700")},null,8,["modelValue","search-url","most-consulted-contacts-url","label"]),m(re,{modelValue:l(d).loanees,"onUpdate:modelValue":c[9]||(c[9]=i=>l(d).loanees=i),"search-url":t.layoutData.vault.url.search_contacts_only,"most-consulted-contacts-url":t.layoutData.vault.url.get_most_consulted_contacts,"display-most-consulted-contacts":!0,label:v.$t("Who the loan is for?"),"add-multiple-contacts":!0,required:!0,class:S("flex-1 p-5")},null,8,["modelValue","search-url","most-consulted-contacts-url","label"])]),e("div",eo,[m(le,{modelValue:l(d).description,"onUpdate:modelValue":c[10]||(c[10]=i=>l(d).description=i),label:v.$t("Description"),maxlength:255,"textarea-class":"block w-full"},null,8,["modelValue","label"])])]),l(d).errors.length>0?(s(),o("div",to,[m(R,{errors:l(d).errors},null,8,["errors"])])):b("",!0),C.value!==""?(s(),o("div",so,"âš ï¸ "+r(C.value),1)):b("",!0),e("div",oo,[m(Y,{text:v.$t("Cancel"),class:S("me-3"),onClick:c[11]||(c[11]=i=>u.value=!1)},null,8,["text"]),m(K,{text:v.$t("Add loan"),state:_.value,icon:"plus",class:S("save")},null,8,["text","state"])])],32)):b("",!0),(s(!0),o(D,null,E($.value,i=>{var p;return s(),o("div",{key:i.id,class:"mb-5 flex"},[I.value!==i.id?(s(),o("div",ao,[e("div",ro,[(s(!0),o(D,null,E(i.loaners,g=>(s(),o("div",{key:g.id},[m(pe,{contact:g,"avatar-classes":"h-7 w-7 rounded-full me-2","display-name":!1},null,8,["contact"])]))),128))]),c[26]||(c[26]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)),(s(!0),o(D,null,E(i.loanees,g=>(s(),o("div",{key:g.id},[m(pe,{contact:g,"avatar-classes":"h-7 w-7 rounded-full me-2","display-name":!1},null,8,["contact"])]))),128))])):b("",!0),I.value!==i.id?(s(),o("div",lo,[e("div",no,[e("div",io,[e("div",null,[e("span",uo,[i.amount_full?(s(),o("span",co,[q(r(i.amount_full)+" ",1),c[27]||(c[27]=e("span",{class:"ms-2"}," â€¢ ",-1))])):b("",!0),q(" "+r(i.name),1)]),i.description?(s(),o("span",mo,r(i.description),1)):b("",!0)]),i.loaned_at_human_format?(s(),o("span",bo,r(i.loaned_at_human_format),1)):b("",!0)])]),e("div",po,[e("ul",ho,[i.settled?(s(),o("li",{key:1,class:"me-4 inline cursor-pointer text-blue-500 hover:underline",onClick:g=>W(i)},r(v.$t("Revert")),9,go)):(s(),o("li",{key:0,class:"me-4 inline cursor-pointer text-blue-500 hover:underline",onClick:g=>W(i)},r(v.$t("Settle")),9,yo)),e("li",{class:"me-4 inline cursor-pointer text-blue-500 hover:underline",onClick:g=>h(i)},r(v.$t("Edit")),9,fo),e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:g=>M(i)},r(v.$t("Delete")),9,vo)])])])):b("",!0),I.value===i.id?(s(),o("form",{key:2,class:"mb-6 w-full rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:N(g=>y(i),["prevent"])},[e("div",_o,[e("div",$o,[e("ul",null,[e("li",wo,[e("div",xo,[A(e("input",{id:"object","onUpdate:modelValue":c[13]||(c[13]=g=>l(d).type=g),value:"object",name:"name-order",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(d).type]]),e("label",Co,r(v.$t("The loan is an object")),1)])]),e("li",Vo,[e("div",Mo,[A(e("input",{id:"monetary","onUpdate:modelValue":c[14]||(c[14]=g=>l(d).type=g),value:"monetary",name:"name-order",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(d).type]]),e("label",So,r(v.$t("The loan is monetary")),1)])])])]),e("div",Io,[m(G,{ref_for:!0,ref:"name",modelValue:l(d).name,"onUpdate:modelValue":c[15]||(c[15]=g=>l(d).name=g),label:v.$t("What is the loan?"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:c[16]||(c[16]=g=>u.value=!1)},null,8,["modelValue","label"])]),l(d).type==="monetary"?(s(),o("div",jo,[m(G,{ref_for:!0,ref:"label",modelValue:l(d).amount_lent,"onUpdate:modelValue":c[17]||(c[17]=g=>l(d).amount_lent=g),label:v.$t("How much was lent?"),help:v.$t("Write the amount with a dot if you need decimals, like 100.50"),type:"number",autofocus:!0,"input-class":"w-full",required:!1,min:0,max:1e7,autocomplete:!1,onEscKeyPressed:c[18]||(c[18]=g=>u.value=!1)},null,8,["modelValue","label","help"]),m(O,{modelValue:l(d).currency_id,"onUpdate:modelValue":c[19]||(c[19]=g=>l(d).currency_id=g),data:V.value,required:!1,class:S("mb-5 ms-3"),placeholder:v.$t("Choose a value"),"dropdown-class":"block",label:v.$t("Currency")},null,8,["modelValue","data","placeholder","label"])])):b("",!0),e("div",Uo,[e("p",To,r(v.$t("When was the loan made?")),1),m(l(se),{modelValue:l(d).loaned_at,"onUpdate:modelValue":c[20]||(c[20]=g=>l(d).loaned_at=g),modelModifiers:{string:!0},class:"inline-block h-full",masks:k.value,locale:(p=v.$page.props.auth.user)==null?void 0:p.locale_ietf,"is-dark":v.isDark()},{default:T(({inputValue:g,inputEvents:Z})=>[e("input",ee({class:"rounded border bg-white px-2 py-1 dark:bg-gray-900",value:g},te(Z,!0)),null,16,Po)]),_:1},8,["modelValue","masks","locale","is-dark"])]),e("div",Lo,[m(re,{modelValue:l(d).loaners,"onUpdate:modelValue":c[21]||(c[21]=g=>l(d).loaners=g),"search-url":t.layoutData.vault.url.search_contacts_only,"most-consulted-contacts-url":t.layoutData.vault.url.get_most_consulted_contacts,"display-most-consulted-contacts":!1,label:v.$t("Who makes the loan?"),"add-multiple-contacts":!0,required:!0,class:S("flex-1 border-e border-gray-200 p-5 dark:border-gray-700")},null,8,["modelValue","search-url","most-consulted-contacts-url","label"]),m(re,{modelValue:l(d).loanees,"onUpdate:modelValue":c[22]||(c[22]=g=>l(d).loanees=g),"search-url":t.layoutData.vault.url.search_contacts_only,"most-consulted-contacts-url":t.layoutData.vault.url.get_most_consulted_contacts,"display-most-consulted-contacts":!0,label:v.$t("Who the loan is for?"),"add-multiple-contacts":!0,required:!0,class:S("flex-1 p-5")},null,8,["modelValue","search-url","most-consulted-contacts-url","label"])]),e("div",qo,[m(le,{modelValue:l(d).description,"onUpdate:modelValue":c[23]||(c[23]=g=>l(d).description=g),label:v.$t("Description"),maxlength:255,"textarea-class":"block w-full"},null,8,["modelValue","label"])])]),l(d).errors.length>0?(s(),o("div",Do,[m(R,{errors:l(d).errors},null,8,["errors"])])):b("",!0),C.value!==""?(s(),o("div",Eo,"âš ï¸ "+r(C.value),1)):b("",!0),e("div",Ao,[m(Y,{text:v.$t("Cancel"),class:S("me-3"),onClick:c[24]||(c[24]=g=>I.value=0)},null,8,["text"]),m(K,{text:v.$t("Save"),state:_.value,icon:"plus",class:S("save")},null,8,["text","state"])])],40,ko)):b("",!0)])}),128))]),$.value.length===0?(s(),o("div",Go,[e("img",{src:"/img/contact_blank_loan.svg",alt:v.$t("Loans"),class:"mx-auto mt-4 h-14 w-14"},null,8,Ho),e("p",Ko,r(v.$t("There are no loans yet.")),1)])):b("",!0)])}}},Bo=z(No,[["__scopeId","data-v-7f4c25f8"]]),zo={components:{TextInput:G,Errors:R,Dropdown:O,PrettySpan:Y,PrettyButton:K},props:{data:{type:Object,default:null}},data(){return{loadingState:"",showDropdownCompanies:!1,showCreateCompanyLink:!1,showCreateCompanyField:!1,editJobInformation:!1,localCompanies:[],company_name:"",form:{job_position:"",company_name:"",company_id:0,errors:[]}}},created(){this.form.job_position=this.data.job_position,this.form.company_id=this.data.company?this.data.company.id:null,this.company_name=this.data.company?this.data.company.name:null},methods:{showEditModal(){this.showDropdownCompanies=!0,this.showCreateCompanyLink=!0,this.showCreateCompanyField=!1,this.editJobInformation=!0,this.getCompanies()},showCreateCompany(){this.showCreateCompanyLink=!1,this.showDropdownCompanies=!1,this.showCreateCompanyField=!0,this.form.company_name="",this.$nextTick().then(()=>{this.$refs.name.focus()})},getCompanies(){this.localCompanies.length>0||axios.get(this.data.url.index).then(t=>{this.localCompanies=t.data.data,this.localCompanies.length===0&&(this.showDropdownCompanies=!1,this.showCreateCompanyLink=!1,this.showCreateCompanyField=!0)}).catch(t=>{this.form.errors=t.response.data})},update(){this.loadingState="loading",axios.put(this.data.url.update,this.form).then(t=>{this.flash(this.$t("The job information has been saved"),"success"),this.editJobInformation=!1,this.loadingState="",this.company_name=t.data.data.company.name,this.localCompanies.push(t.data.data)}).catch(t=>{this.loadingState="",this.form.errors=t.response.data})},reset(){axios.delete(this.data.url.destroy).then(()=>{this.editJobInformation=!1,this.company_name=""}).catch(t=>{this.form.errors=t.response.data})}}},Fo={class:"mb-4"},Ro={class:"mb-3 items-center justify-between border-b border-gray-200 dark:border-gray-700 sm:flex"},Oo={class:"mb-2 text-xs sm:mb-0"},Yo={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900"},Wo={class:"border-b border-gray-200 p-2 dark:border-gray-700"},Jo={class:"border-b border-gray-200 p-2 dark:border-gray-700"},Zo={class:"flex justify-between p-2"},Qo={class:"border-t border-gray-200 p-2 dark:border-gray-700"},Xo={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},ea={key:2},ta={key:0},sa={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},oa={key:1};function aa(t,a,f,_,u,$){const V=P("errors"),I=P("dropdown"),C=P("text-input"),d=P("pretty-span"),k=P("pretty-button");return s(),o("div",Fo,[e("div",Ro,[e("div",Oo,r(t.$t("Job information")),1),u.editJobInformation?b("",!0):(s(),o("span",{key:0,class:"relative cursor-pointer",onClick:a[0]||(a[0]=(...w)=>$.showEditModal&&$.showEditModal(...w))},a[9]||(a[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-3 w-3 text-gray-300 hover:text-gray-600 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]))),u.editJobInformation?(s(),o("span",{key:1,class:"cursor-pointer text-xs text-gray-600 dark:text-gray-400",onClick:a[1]||(a[1]=w=>u.editJobInformation=!1)},r(t.$t("Close")),1)):b("",!0)]),u.editJobInformation?(s(),o("div",Yo,[e("form",{onSubmit:a[8]||(a[8]=N((...w)=>$.update&&$.update(...w),["prevent"]))},[e("div",Wo,[m(V,{errors:u.form.errors},null,8,["errors"]),u.showDropdownCompanies?(s(),L(I,{key:0,modelValue:u.form.company_id,"onUpdate:modelValue":a[2]||(a[2]=w=>u.form.company_id=w),modelModifiers:{number:!0},data:u.localCompanies,required:!1,class:S("mb-2"),placeholder:t.$t("Choose a value"),"dropdown-class":"block w-full",label:t.$t("Existing company")},null,8,["modelValue","data","placeholder","label"])):b("",!0),u.showCreateCompanyLink?(s(),o("p",{key:1,class:"cursor-pointer text-sm text-blue-500 hover:underline",onClick:a[3]||(a[3]=w=>$.showCreateCompany())},r(t.$t("Or create a new one")),1)):b("",!0),u.showCreateCompanyField?(s(),L(C,{key:2,ref:"name",modelValue:u.form.company_name,"onUpdate:modelValue":a[4]||(a[4]=w=>u.form.company_name=w),label:t.$t("Company name"),type:"text",autofocus:!0,"input-class":"block w-full",required:!1,autocomplete:!1,maxlength:255},null,8,["modelValue","label"])):b("",!0)]),e("div",Jo,[m(C,{modelValue:u.form.job_position,"onUpdate:modelValue":a[5]||(a[5]=w=>u.form.job_position=w),label:t.$t("Job position"),type:"text",autofocus:!0,"input-class":"block w-full",required:!1,autocomplete:!1,maxlength:255},null,8,["modelValue","label"])]),e("div",Zo,[m(d,{text:t.$t("Cancel"),class:S("me-3"),onClick:a[6]||(a[6]=w=>u.editJobInformation=!1)},null,8,["text"]),m(k,{href:"data.url.vault.create",text:t.$t("Save"),state:u.loadingState,icon:"check",class:S("save")},null,8,["text","state"])]),e("div",Qo,[e("p",{class:"cursor-pointer text-sm text-blue-500 hover:underline",onClick:a[7]||(a[7]=w=>$.reset())},r(t.$t("Or reset the fields")),1)])],32)])):b("",!0),!u.form.job_position&&!u.company_name?(s(),o("p",Xo,r(t.$t("Not set")),1)):(s(),o("p",ea,[u.form.job_position?(s(),o("span",ta,[q(r(u.form.job_position)+" ",1),u.company_name?(s(),o("span",sa,r(t.$t("at ")),1)):b("",!0)])):b("",!0),u.company_name?(s(),o("span",oa,r(u.company_name),1)):b("",!0)]))])}const ra=z(zo,[["render",aa],["__scopeId","data-v-eff8d505"]]),la={components:{InertiaLink:F,PrettyLink:Ve,Avatar:ue},props:{data:{type:Object,default:null}},data(){return{localRelationships:[]}},created(){this.localRelationships=this.data.relationship_group_types},methods:{destroy(t){confirm(this.$t("Are you sure? This action cannot be undone."))&&axios.put(t.url.update).then(a=>{this.flash(this.$t("The relationship has been deleted"),"success"),this.localRelationships=a.data.data.relationship_group_types}).catch(a=>{this.form.errors=a.response.data})}}},na={class:"mb-10"},da={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},ia={class:"mb-2 sm:mb-0"},ua={class:"font-semibold"},ca={key:0,class:"mb-1 font-semibold"},ma={key:1,class:"mb-4 rounded-lg border border-gray-200 last:mb-0 dark:border-gray-700"},ba={class:"flex"},pa={class:"me-2 flex items-center"},ha={key:1},ya={key:2,class:"ms-2 text-xs text-gray-400"},ga={class:"me-2 text-gray-400"},fa={class:"text-sm"},va=["onClick"],ka={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},_a=["alt"],$a={class:"px-5 pb-5 pt-2 text-center"};function wa(t,a,f,_,u,$){const V=P("pretty-link"),I=P("avatar"),C=P("InertiaLink");return s(),o("div",na,[e("div",da,[e("div",ia,[a[0]||(a[0]=e("span",{class:"relative me-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),e("span",ua,r(t.$t("Relationships")),1)]),m(V,{text:t.$t("Add a relationship"),icon:"plus",href:f.data.url.create,class:S("w-full sm:w-fit")},null,8,["text","href"])]),e("div",null,[(s(!0),o(D,null,E(u.localRelationships,d=>(s(),o("div",{key:d.id,class:"mb-4"},[d.relationship_types.length>0?(s(),o("h3",ca,r(d.name),1)):b("",!0),d.relationship_types.length>0?(s(),o("ul",ma,[(s(!0),o(D,null,E(d.relationship_types,k=>(s(),o("li",{key:k.id,class:"item-list flex items-center justify-between border-b border-gray-200 px-5 py-2 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[e("div",ba,[e("div",pa,[m(I,{data:k.contact.avatar,class:S("me-2 h-5 w-5")},null,8,["data"]),k.contact.url.show?(s(),L(C,{key:0,href:k.contact.url.show,class:"text-blue-500 hover:underline"},{default:T(()=>[q(r(k.contact.name),1)]),_:2},1032,["href"])):(s(),o("span",ha,r(k.contact.name),1)),k.contact.age?(s(),o("span",ya,"("+r(k.contact.age)+")",1)):b("",!0)]),e("span",ga,r(k.relationship_type.name),1)]),e("ul",fa,[e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:w=>$.destroy(k)},r(t.$t("Remove")),9,va)])]))),128))])):b("",!0)]))),128))]),f.data.number_of_defined_relations===0?(s(),o("div",ka,[e("img",{src:"/img/contact_blank_relationship.svg",alt:t.$t("Relationships"),class:"mx-auto mt-4 h-14 w-14"},null,8,_a),e("p",$a,r(t.$t("There are no relationships yet.")),1)])):b("",!0)])}const xa=z(la,[["render",wa],["__scopeId","data-v-f51fa016"]]),Ca={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Va={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Ma={class:"flex items-center"},Sa={for:"reminder",class:"ms-2 block cursor-pointer text-sm text-gray-900 dark:text-gray-50"},Ia={key:0,class:"ms-4 mt-4"},ja=["value"],Ua={class:"flex justify-between p-5"},Ta={__name:"CreateOrEditTask",props:{data:Object,task:Object},emits:["close","created","update:task"],setup(t,{expose:a,emit:f}){const _=f,u=t,$=j(""),V=j(null),I=j({modelValue:"YYYY-MM-DD"}),C=X({label:"",due_at:"",due_at_checked:!1,errors:[]}),d=()=>{u.task?(C.label=u.task.label,C.due_at=u.task.due_at!==null?u.task.due_at.value:null,C.due_at_checked=u.task.due_at!==null):(C.label="",C.due_at="",C.due_at_checked=!1),Q().then(()=>V.value.focus())},k=()=>{$.value="loading";let w={method:"post",url:u.data.url.store,data:C},h="created";u.task&&(w.method="put",w.url=u.task.url.update,h="update:task"),axios.request(w).then(x=>{$.value="",_(h,x.data.data)}).catch(x=>{$.value="",C.errors=x.response.data})};return a({reset:()=>d()}),(w,h)=>{var x;return s(),o("form",{class:"rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:h[5]||(h[5]=N(U=>k(),["prevent"]))},[e("div",Ca,[m(R,{errors:l(C).errors},null,8,["errors"]),m(G,{ref_key:"labelInput",ref:V,modelValue:l(C).label,"onUpdate:modelValue":h[0]||(h[0]=U=>l(C).label=U),label:w.$t("Title"),type:"text","input-class":"block w-full mb-3",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:h[1]||(h[1]=U=>w.$emit("close"))},null,8,["modelValue","label"])]),e("div",Va,[e("div",Ma,[A(e("input",{id:"reminder","onUpdate:modelValue":h[2]||(h[2]=U=>l(C).due_at_checked=U),name:"reminder",type:"checkbox",class:"focus:ring-3 relative h-4 w-4 rounded border border-gray-300 bg-gray-50 focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 focus:dark:ring-blue-600"},null,512),[[oe,l(C).due_at_checked]]),e("label",Sa,r(w.$t("Add a due date")),1)]),l(C).due_at_checked?(s(),o("div",Ia,[m(l(se),{modelValue:l(C).due_at,"onUpdate:modelValue":h[3]||(h[3]=U=>l(C).due_at=U),modelModifiers:{string:!0},class:"inline-block h-full",masks:I.value,locale:(x=w.$page.props.auth.user)==null?void 0:x.locale_ietf,"is-dark":w.isDark()},{default:T(({inputValue:U,inputEvents:y})=>[e("input",ee({class:"rounded border bg-white px-2 py-1 dark:bg-gray-900",value:U},te(y,!0)),null,16,ja)]),_:1},8,["modelValue","masks","locale","is-dark"])])):b("",!0)]),e("div",Ua,[m(Y,{text:w.$t("Cancel"),class:S("me-3"),onClick:h[4]||(h[4]=U=>w.$emit("close"))},null,8,["text"]),m(K,{text:w.$t("Save"),state:$.value,icon:"check",class:S("save")},null,8,["text","state"])])],32)}}},de=z(Ta,[["__scopeId","data-v-e09502d6"]]),Pa={class:"mb-10"},La={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},qa={class:"mb-2 sm:mb-0"},Da={class:"font-semibold"},Ea={key:1,class:"mb-2 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Aa={key:0,class:"flex items-center justify-between p-3"},Ga={class:"flex items-center"},Ha=["id","onUpdate:modelValue","name","onChange"],Ka=["for"],Na={key:3,class:"mx-4 text-xs"},Ba={key:0,class:"flex items-center justify-between p-3"},za={class:"flex items-center"},Fa=["id","onUpdate:modelValue","name","onChange"],Ra=["for"],Oa={key:0,class:"ms-2 flex items-center rounded-full bg-sky-400/10 px-2 py-0.5 text-xs font-medium leading-5 text-sky-600 dark:text-sky-400"},Ya={key:4,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Wa=["alt"],Ja={class:"px-5 pb-5 pt-2 text-center"},Za={__name:"Tasks",props:{data:Object},setup(t){const a=t,f=j(null),_=j([]),u=j([]),$=j(!1),V=j(!1),I=j(a.data.tasks),C=j([]),d=j(0),k=j(0),w=()=>{$.value=!0,Q().then(()=>f.value.reset())},h=n=>{d.value=n.id,Q().then(()=>_.value[0].reset())},x=n=>{k.value=n.id,Q().then(()=>u.value[0].reset())},U=()=>{axios.get(a.data.url.completed).then(n=>{C.value=n.data.data,V.value=!0})},y=n=>{J(B("The task has been created"),"success"),I.value.unshift(n),$.value=!1},M=n=>{J(B("The task has been edited"),"success"),I.value[I.value.findIndex(i=>i.id===n.id)]=n,d.value=0},W=n=>{J(B("The task has been edited"),"success"),C.value[C.value.findIndex(i=>i.id===n.id)]=n,k.value=0},v=n=>{axios.put(n.url.toggle).catch(i=>{form.errors=i.response.data})},c=n=>{confirm(B("Are you sure? This action cannot be undone."))&&axios.delete(n.url.destroy).then(()=>{J(B("The task has been deleted"),"success");var i=I.value.findIndex(p=>p.id===n.id);I.value.splice(i,1)}).catch(i=>{form.errors=i.response.data})};return(n,i)=>(s(),o("div",Pa,[e("div",La,[e("div",qa,[i[5]||(i[5]=e("span",{class:"relative me-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})])],-1)),e("span",Da,r(n.$t("Tasks")),1)]),m(K,{text:n.$t("Add a task"),icon:"plus",class:S("w-full sm:w-fit"),onClick:i[0]||(i[0]=p=>w())},null,8,["text"])]),$.value?(s(),L(de,{key:0,class:"mb-6",data:t.data,ref_key:"createTaskForm",ref:f,onCreated:y,onClose:i[1]||(i[1]=p=>$.value=!1)},null,8,["data"])):b("",!0),I.value.length>0?(s(),o("ul",Ea,[(s(!0),o(D,null,E(I.value,p=>(s(),o("li",{key:p.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[d.value!==p.id?(s(),o("div",Aa,[e("div",Ga,[A(e("input",{id:p.id,"onUpdate:modelValue":g=>p.completed=g,name:p.id,type:"checkbox",class:"focus:ring-3 relative h-4 w-4 rounded border border-gray-300 bg-gray-50 focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 focus:dark:ring-blue-600",onChange:g=>v(p)},null,40,Ha),[[oe,p.completed]]),e("label",{for:p.id,class:"ms-2 flex cursor-pointer text-gray-900 dark:text-gray-50"},[q(r(p.label)+" ",1),p.due_at!==null?(s(),o("span",{key:0,class:S([p.due_at.is_late?"bg-red-400/10 text-red-600 dark:bg-red-600/10 dark:text-red-400":"bg-sky-400/10 text-sky-600 dark:bg-sky-600/10 dark:text-sky-400","ms-2 flex items-center rounded-full px-2 py-0.5 text-xs font-medium leading-5"])},[i[6]||(i[6]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"me-1 h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",null,r(p.due_at.formatted),1)],2)):b("",!0)],8,Ka)]),m(ne,{"show-edit":!0,"show-delete":!0,onEdit:g=>h(p),onDelete:g=>c(p)},null,8,["onEdit","onDelete"])])):b("",!0),d.value===p.id?(s(),L(de,{key:1,class:"mb-3",ref_for:!0,ref_key:"updateTaskForm",ref:_,data:t.data,task:p,"onUpdate:task":M,onClose:i[2]||(i[2]=g=>d.value=0)},null,8,["data","task"])):b("",!0)]))),128))])):b("",!0),t.data.completed_tasks_count>0&&!V.value?(s(),o("p",{key:2,class:"mx-4 mb-6 cursor-pointer text-xs text-blue-500 hover:underline",onClick:i[3]||(i[3]=p=>U())},r(n.$t("Show completed tasks (:count)",{count:t.data.completed_tasks_count})),1)):b("",!0),V.value?(s(),o("div",Na,[(s(!0),o(D,null,E(C.value,p=>(s(),o("ul",{key:p.id,class:"mb-2 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},[e("li",null,[k.value!==p.id?(s(),o("div",Ba,[e("div",za,[A(e("input",{id:p.id,"onUpdate:modelValue":g=>p.completed=g,name:p.id,type:"checkbox",class:"focus:ring-3 relative h-4 w-4 rounded border border-gray-300 bg-gray-50 focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 focus:dark:ring-blue-600",onChange:g=>v(p)},null,40,Fa),[[oe,p.completed]]),e("label",{for:p.id,class:"ms-2 flex cursor-pointer items-center text-gray-900 dark:text-gray-50"},[q(r(p.label)+" ",1),p.due_at!==null?(s(),o("span",Oa,[i[7]||(i[7]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"me-1 h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",null,r(p.due_at.formatted),1)])):b("",!0)],8,Ra)]),m(ne,{"show-edit":!0,"show-delete":!0,onEdit:g=>x(p),onDelete:g=>c(p)},null,8,["onEdit","onDelete"])])):b("",!0),k.value===p.id?(s(),L(de,{key:1,ref_for:!0,ref_key:"updateCompletedTaskForm",ref:u,data:t.data,task:p,"onUpdate:task":W,onClose:i[4]||(i[4]=g=>k.value=0)},null,8,["data","task"])):b("",!0)])]))),128))])):b("",!0),I.value.length===0?(s(),o("div",Ya,[e("img",{src:"/img/dashboard_blank_tasks.svg",alt:n.$t("Tasks"),class:"mx-auto mt-4 h-14 w-14"},null,8,Wa),e("p",Ja,r(n.$t("There are no tasks yet.")),1)])):b("",!0)]))}},Qa=z(Za,[["__scopeId","data-v-db921e1c"]]),Xa={class:"mb-10"},er={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},tr={class:"mb-2 sm:mb-0"},sr={class:"font-semibold"},or={key:0,class:"p-5"},ar={class:"flex border-b border-gray-200 dark:border-gray-700"},rr={class:"p-5"},lr={class:"mb-2 block text-sm"},nr=["value"],dr={class:"border-e border-gray-200 p-5 dark:border-gray-700"},ir={class:"mb-2 block text-sm"},ur={class:"flex"},cr={class:"me-6 flex items-center"},mr={for:"audio",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},br={class:"flex items-center"},pr={for:"video",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},hr={class:"border-b border-gray-200 p-5 dark:border-gray-700"},yr={class:"mb-2 block text-sm"},gr={class:"mb-4 flex"},fr={class:"me-6 flex items-center"},vr={for:"me",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},kr={class:"flex items-center"},_r={for:"me_not_answered",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},$r={class:"flex"},wr={class:"me-6 flex items-center"},xr={for:"contact",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Cr={class:"flex items-center"},Vr={for:"contact_not_answered",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Mr={key:1,class:"border-b border-gray-200 p-5 dark:border-gray-700"},Sr={key:2,class:"border-b border-gray-200 p-5 dark:border-gray-700"},Ir={class:"mb-2 block text-sm"},jr=["label"],Ur=["value"],Tr={key:3,class:"border-b border-gray-200 p-5 dark:border-gray-700"},Pr={class:"mb-2"},Lr=["id","value"],qr=["for"],Dr={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Er={class:"flex justify-between p-5"},Ar={key:1,class:"mb-2 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Gr={key:0,class:"flex items-center justify-between p-3"},Hr={class:"flex items-center"},Kr={key:0,xmlns:"http://www.w3.org/2000/svg",class:"me-2 h-4 w-4 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Nr={key:1,xmlns:"http://www.w3.org/2000/svg",class:"me-2 h-4 w-4 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Br={class:"me-2 text-sm text-gray-500"},zr={key:0,class:"me-2 rounded border border-neutral-200 px-2 py-1 text-xs font-semibold text-neutral-800"},Fr={key:1,class:"me-2 rounded border border-neutral-200 px-2 py-1 text-xs font-semibold text-neutral-800"},Rr={key:2},Or={key:3,class:"text-xs text-gray-600 dark:text-gray-400"},Yr=["onSubmit"],Wr={class:"border-b border-gray-200 dark:border-gray-700"},Jr={class:"flex border-b border-gray-200 dark:border-gray-700"},Zr={class:"p-5"},Qr=["value"],Xr={class:"border-e border-gray-200 p-5 dark:border-gray-700"},el={class:"mb-2 block text-sm"},tl={class:"flex"},sl={class:"me-6 flex items-center"},ol={for:"audio",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},al={class:"flex items-center"},rl={for:"video",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},ll={class:"border-b border-gray-200 p-5 dark:border-gray-700"},nl={class:"mb-2 block text-sm"},dl={class:"mb-4 flex"},il={class:"me-6 flex items-center"},ul={for:"me",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},cl={class:"flex items-center"},ml={for:"me_not_answered",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},bl={class:"flex"},pl={class:"me-6 flex items-center"},hl={for:"contact",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},yl={class:"flex items-center"},gl={for:"contact_not_answered",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},fl={key:0,class:"border-b border-gray-200 p-5 dark:border-gray-700"},vl={key:1,class:"border-b border-gray-200 p-5 dark:border-gray-700"},kl={class:"mb-2 block text-sm"},_l=["label"],$l=["value"],wl={key:2,class:"border-b border-gray-200 p-5 dark:border-gray-700"},xl={class:"mb-2"},Cl=["id","value"],Vl=["for"],Ml={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Sl={class:"flex justify-between p-5"},Il={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},jl=["alt"],Ul={class:"px-5 pb-5 pt-2 text-center"},Tl={__name:"Calls",props:{data:Object},setup(t){const a=t,f=j(!1),_=j(a.data.calls),u=j(""),$=j(0),V=j(!1),I=j(!1),C=j(!1),d=j({modelValue:"YYYY-MM-DD"}),k=X({who_initiated:"me",called_at:"",call_reason_id:0,description:"",emotion_id:0,type:"audio",errors:[]}),w=()=>{V.value=!0,k.description=""},h=()=>{I.value=!0,k.call_reason_id=""},x=()=>{C.value=!0,k.emotion_id=1},U=()=>{k.errors=[],V.value=!1,I.value=!1,f.value=!0},y=c=>{k.errors=[],k.description=c.description,c.description&&(V.value=!0),k.type=c.type,!c.answered&&c.who_initiated==="me"?k.who_initiated="me_not_answered":c.answered&&c.who_initiated==="me"?k.who_initiated="me":c.answered&&c.who_initiated==="contact"?k.who_initiated="contact":!c.answered&&c.who_initiated==="contact"&&(k.who_initiated="contact_not_answered"),c.reason?(k.call_reason_id=c.reason.id,I.value=!0):(k.call_reason_id=0,I.value=!1),c.emotion?(k.emotion_id=c.emotion.id,C.value=!0):(k.emotion_id=0,C.value=!1),k.called_at=c.called_at,$.value=c.id},M=()=>{u.value="loading",axios.post(a.data.url.store,k).then(c=>{u.value="",J(B("The call has been created"),"success"),_.value.unshift(c.data.data),f.value=!1}).catch(c=>{u.value="",k.errors=c.response.data})},W=c=>{u.value="loading",axios.put(c.url.update,k).then(n=>{u.value="",J(B("The call has been edited"),"success"),_.value[_.value.findIndex(i=>i.id===c.id)]=n.data.data,$.value=0}).catch(n=>{u.value="",k.errors=n.response.data})},v=c=>{confirm(B("Are you sure? This action cannot be undone."))&&axios.delete(c.url.destroy).then(()=>{J(B("The call has been deleted"),"success");let n=_.value.findIndex(i=>i.id===c.id);_.value.splice(n,1)}).catch(n=>{k.errors=n.response.data})};return(c,n)=>{var i;return s(),o("div",Xa,[e("div",er,[e("div",tr,[n[24]||(n[24]=e("span",{class:"relative me-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})])],-1)),e("span",sr,r(c.$t("Calls")),1)]),m(K,{text:c.$t("Log a call"),icon:"plus",class:S("w-full sm:w-fit"),onClick:n[0]||(n[0]=p=>U())},null,8,["text"])]),f.value?(s(),o("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:n[12]||(n[12]=N(p=>M(),["prevent"]))},[e("div",null,[l(k).errors.length>0?(s(),o("div",or,[m(R,{errors:l(k).errors},null,8,["errors"])])):b("",!0),e("div",ar,[e("div",rr,[e("p",lr,r(c.$t("When did the call happened?")),1),m(l(se),{modelValue:l(k).called_at,"onUpdate:modelValue":n[1]||(n[1]=p=>l(k).called_at=p),modelModifiers:{string:!0},class:"inline-block h-full",masks:d.value,locale:(i=c.$page.props.auth.user)==null?void 0:i.locale_ietf,"is-dark":c.isDark(),"max-date":new Date},{default:T(({inputValue:p,inputEvents:g})=>[e("input",ee({class:"rounded border bg-white px-2 py-1 dark:bg-gray-900",value:p},te(g,!0)),null,16,nr)]),_:1},8,["modelValue","masks","locale","is-dark","max-date"])]),e("div",dr,[e("p",ir,r(c.$t("Nature of the call")),1),e("div",ur,[e("div",cr,[A(e("input",{id:"audio","onUpdate:modelValue":n[2]||(n[2]=p=>l(k).type=p),value:"audio",name:"type",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(k).type]]),e("label",mr,r(c.$t("Audio-only call")),1)]),e("div",br,[A(e("input",{id:"video","onUpdate:modelValue":n[3]||(n[3]=p=>l(k).type=p),value:"video",name:"type",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(k).type]]),e("label",pr,r(c.$t("Video call")),1)])])])]),e("div",hr,[e("p",yr,r(c.$t("Who called?")),1),e("div",gr,[e("div",fr,[A(e("input",{id:"me","onUpdate:modelValue":n[4]||(n[4]=p=>l(k).who_initiated=p),value:"me",name:"who_initiated",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(k).who_initiated]]),e("label",vr,r(c.$t("I called")),1)]),e("div",kr,[A(e("input",{id:"me_not_answered","onUpdate:modelValue":n[5]||(n[5]=p=>l(k).who_initiated=p),value:"me_not_answered",name:"who_initiated",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(k).who_initiated]]),e("label",_r,r(c.$t("I called, but :name didnâ€™t answer",{name:t.data.contact_name})),1)])]),e("div",$r,[e("div",wr,[A(e("input",{id:"contact","onUpdate:modelValue":n[6]||(n[6]=p=>l(k).who_initiated=p),value:"contact",name:"who_initiated",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(k).who_initiated]]),e("label",xr,r(c.$t(":Name called",{name:t.data.contact_name})),1)]),e("div",Cr,[A(e("input",{id:"contact_not_answered","onUpdate:modelValue":n[7]||(n[7]=p=>l(k).who_initiated=p),value:"contact_not_answered",name:"who_initiated",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(k).who_initiated]]),e("label",Vr,r(c.$t(":Name called, but I didnâ€™t answer",{name:t.data.contact_name})),1)])])]),V.value?(s(),o("div",Mr,[m(le,{modelValue:l(k).description,"onUpdate:modelValue":n[8]||(n[8]=p=>l(k).description=p),label:c.$t("Description"),rows:10,required:!1,maxlength:65535,"textarea-class":"block w-full mb-3"},null,8,["modelValue","label"])])):b("",!0),I.value?(s(),o("div",Sr,[e("p",Ir,r(c.$t("Was there a reason for the call?")),1),A(e("select",{id:"types","onUpdate:modelValue":n[9]||(n[9]=p=>l(k).call_reason_id=p),name:"types",class:"w-full rounded-md border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-indigo-300 focus:outline-none focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-900 sm:text-sm"},[(s(!0),o(D,null,E(t.data.call_reason_types,p=>(s(),o("optgroup",{key:p.id,label:p.label},[(s(!0),o(D,null,E(p.reasons,g=>(s(),o("option",{key:g.id,value:g.id},r(g.label),9,Ur))),128))],8,jr))),128))],512),[[me,l(k).call_reason_id]])])):b("",!0),C.value?(s(),o("div",Tr,[e("p",Pr,r(c.$t("How did you feel?")),1),(s(!0),o(D,null,E(t.data.emotions,p=>(s(),o("div",{key:p.id,class:"mb-2 flex items-center"},[A(e("input",{id:p.type,"onUpdate:modelValue":n[10]||(n[10]=g=>l(k).emotion_id=g),value:p.id,name:"emotion",type:"radio",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,Lr),[[H,l(k).emotion_id]]),e("label",{for:p.type,class:"ms-2 block cursor-pointer font-medium text-gray-700 dark:text-gray-300"},r(p.name),9,qr)]))),128))])):b("",!0),e("div",Dr,[V.value?b("",!0):(s(),o("span",{key:0,class:"me-2 inline-block cursor-pointer rounded-lg border bg-slate-200 px-1 py-1 text-xs hover:bg-slate-300",onClick:w},r(c.$t("+ add description")),1)),I.value?b("",!0):(s(),o("span",{key:1,class:"me-2 inline-block cursor-pointer rounded-lg border bg-slate-200 px-1 py-1 text-xs hover:bg-slate-300",onClick:h},r(c.$t("+ add reason")),1)),C.value?b("",!0):(s(),o("span",{key:2,class:"inline-block cursor-pointer rounded-lg border bg-slate-200 px-1 py-1 text-xs hover:bg-slate-300",onClick:x},r(c.$t("+ add emotion")),1))])]),e("div",Er,[m(Y,{text:c.$t("Cancel"),class:S("me-3"),onClick:n[11]||(n[11]=p=>f.value=!1)},null,8,["text"]),m(K,{text:c.$t("Save"),state:u.value,icon:"plus",class:S("save")},null,8,["text","state"])])],32)):b("",!0),_.value.length>0?(s(),o("ul",Ar,[(s(!0),o(D,null,E(_.value,p=>(s(),o("li",{key:p.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[$.value!==p.id?(s(),o("div",Gr,[e("div",Hr,[e("div",null,[p.answered?b("",!0):(s(),o("svg",Kr,n[25]||(n[25]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 8l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M5 3a2 2 0 00-2 2v1c0 8.284 6.716 15 15 15h1a2 2 0 002-2v-3.28a1 1 0 00-.684-.948l-4.493-1.498a1 1 0 00-1.21.502l-1.13 2.257a11.042 11.042 0 01-5.516-5.517l2.257-1.128a1 1 0 00.502-1.21L9.228 3.683A1 1 0 008.279 3H5z"},null,-1)]))),p.answered?(s(),o("svg",Nr,n[26]||(n[26]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"},null,-1)]))):b("",!0)]),e("span",Br,r(p.called_at),1),p.who_initiated==="me"?(s(),o("span",zr,r(c.$t("I called")),1)):(s(),o("span",Fr,r(c.$t(":Name called",{name:t.data.contact_name})),1)),p.reason?(s(),o("span",Rr,r(p.reason.label),1)):b("",!0),p.emotion?(s(),o("div",Or,r(p.emotion.name),1)):b("",!0)]),m(ne,{"show-edit":!0,"show-delete":!0,onEdit:g=>y(p),onDelete:g=>v(p)},null,8,["onEdit","onDelete"])])):b("",!0),$.value===p.id?(s(),o("form",{key:1,class:"bg-gray-50 dark:bg-gray-900",onSubmit:N(g=>W(p),["prevent"])},[m(R,{errors:l(k).errors},null,8,["errors"]),e("div",Wr,[e("div",Jr,[e("div",Zr,[n[27]||(n[27]=e("p",{class:"mb-2 block text-sm"},"When did the call happened?",-1)),m(l(se),{modelValue:l(k).called_at,"onUpdate:modelValue":n[13]||(n[13]=g=>l(k).called_at=g),modelModifiers:{string:!0},class:"inline-block h-full",masks:d.value,"is-dark":c.isDark(),"max-date":new Date},{default:T(({inputValue:g,inputEvents:Z})=>[e("input",ee({class:"rounded border bg-white px-2 py-1 dark:bg-gray-900",value:g},te(Z,!0)),null,16,Qr)]),_:1},8,["modelValue","masks","is-dark","max-date"])]),e("div",Xr,[e("p",el,r(c.$t("Nature of the call")),1),e("div",tl,[e("div",sl,[A(e("input",{id:"audio","onUpdate:modelValue":n[14]||(n[14]=g=>l(k).type=g),value:"audio",name:"type",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(k).type]]),e("label",ol,r(c.$t("Audio-only call")),1)]),e("div",al,[A(e("input",{id:"video","onUpdate:modelValue":n[15]||(n[15]=g=>l(k).type=g),value:"video",name:"type",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(k).type]]),e("label",rl,r(c.$t("Video call")),1)])])])]),e("div",ll,[e("p",nl,r(c.$t("Who called?")),1),e("div",dl,[e("div",il,[A(e("input",{id:"me","onUpdate:modelValue":n[16]||(n[16]=g=>l(k).who_initiated=g),value:"me",name:"who_initiated",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(k).who_initiated]]),e("label",ul,r(c.$t("I called")),1)]),e("div",cl,[A(e("input",{id:"me_not_answered","onUpdate:modelValue":n[17]||(n[17]=g=>l(k).who_initiated=g),value:"me_not_answered",name:"who_initiated",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(k).who_initiated]]),e("label",ml,r(c.$t("I called, but :name didnâ€™t answer",{name:t.data.contact_name})),1)])]),e("div",bl,[e("div",pl,[A(e("input",{id:"contact","onUpdate:modelValue":n[18]||(n[18]=g=>l(k).who_initiated=g),value:"contact",name:"who_initiated",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(k).who_initiated]]),e("label",hl,r(c.$t(":Name called",{name:t.data.contact_name})),1)]),e("div",yl,[A(e("input",{id:"contact_not_answered","onUpdate:modelValue":n[19]||(n[19]=g=>l(k).who_initiated=g),value:"contact_not_answered",name:"who_initiated",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[H,l(k).who_initiated]]),e("label",gl,r(c.$t(":Name called, but I didnâ€™t answer",{name:t.data.contact_name})),1)])])]),V.value?(s(),o("div",fl,[m(le,{modelValue:l(k).description,"onUpdate:modelValue":n[20]||(n[20]=g=>l(k).description=g),label:c.$t("Description"),rows:10,required:!1,maxlength:65535,"textarea-class":"block w-full mb-3"},null,8,["modelValue","label"])])):b("",!0),I.value?(s(),o("div",vl,[e("p",kl,r(c.$t("Was there a reason for the call?")),1),A(e("select",{id:"types","onUpdate:modelValue":n[21]||(n[21]=g=>l(k).call_reason_id=g),name:"types",class:"w-full rounded-md border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-indigo-300 focus:outline-none focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-900 sm:text-sm"},[(s(!0),o(D,null,E(t.data.call_reason_types,g=>(s(),o("optgroup",{key:g.id,label:g.label},[(s(!0),o(D,null,E(g.reasons,Z=>(s(),o("option",{key:Z.id,value:Z.id},r(Z.label),9,$l))),128))],8,_l))),128))],512),[[me,l(k).call_reason_id]])])):b("",!0),C.value?(s(),o("div",wl,[e("p",xl,r(c.$t("How did you feel?")),1),(s(!0),o(D,null,E(t.data.emotions,g=>(s(),o("div",{key:g.id,class:"mb-2 flex items-center"},[A(e("input",{id:g.type,"onUpdate:modelValue":n[22]||(n[22]=Z=>l(k).emotion_id=Z),value:g.id,name:"emotion",type:"radio",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,Cl),[[H,l(k).emotion_id]]),e("label",{for:g.type,class:"ms-2 block cursor-pointer font-medium text-gray-700 dark:text-gray-300"},r(g.name),9,Vl)]))),128))])):b("",!0),e("div",Ml,[V.value?b("",!0):(s(),o("span",{key:0,class:"me-2 inline-block cursor-pointer rounded-lg border bg-slate-200 px-1 py-1 text-xs hover:bg-slate-300",onClick:w},r(c.$t("+ add description")),1)),I.value?b("",!0):(s(),o("span",{key:1,class:"me-2 inline-block cursor-pointer rounded-lg border bg-slate-200 px-1 py-1 text-xs hover:bg-slate-300",onClick:h},r(c.$t("+ add reason")),1)),C.value?b("",!0):(s(),o("span",{key:2,class:"inline-block cursor-pointer rounded-lg border bg-slate-200 px-1 py-1 text-xs hover:bg-slate-300",onClick:x},r(c.$t("+ add emotion")),1))])]),e("div",Sl,[m(Y,{text:c.$t("Cancel"),class:S("me-3"),onClick:n[23]||(n[23]=g=>$.value=0)},null,8,["text"]),m(K,{text:c.$t("Update"),state:u.value,icon:"check",class:S("save")},null,8,["text","state"])])],40,Yr)):b("",!0)]))),128))])):b("",!0),_.value.length===0?(s(),o("div",Il,[e("img",{src:"/img/contact_blank_call.svg",alt:c.$t("Calls"),class:"mx-auto mt-4 h-20 w-20"},null,8,jl),e("p",Ul,r(c.$t("There are no calls logged yet.")),1)])):b("",!0)])}}},Pl=z(Tl,[["__scopeId","data-v-fc62af8c"]]),Ll={components:{PrettyButton:K,PrettySpan:Y,TextInput:G,Dropdown:O,Errors:R},props:{data:{type:Object,default:null}},data(){return{loadingState:"",addPetModalShown:!1,localPets:[],editedPetId:0,form:{name:"",pet_category_id:0,errors:[]}}},created(){this.localPets=this.data.pets},methods:{showCreatePetModal(){this.addPetModalShown=!0,this.form.errors=[],this.form.name="",this.form.pet_category_id=0,this.$nextTick().then(()=>{this.$refs.newName.focus()})},showEditPetModal(t){this.form.errors=[],this.editedPetId=t.id,this.form.pet_category_id=t.pet_category.id,this.form.name=t.name},submit(){this.loadingState="loading",axios.post(this.data.url.store,this.form).then(t=>{this.flash(this.$t("The pet has been added"),"success"),this.localPets.unshift(t.data.data),this.loadingState="",this.addPetModalShown=!1}).catch(t=>{this.loadingState="",this.form.errors=t.response.data})},update(t){this.loadingState="loading",axios.put(t.url.update,this.form).then(a=>{this.loadingState="",this.flash(this.$t("The pet has been edited"),"success"),this.localPets[this.localPets.findIndex(f=>f.id===t.id)]=a.data.data,this.editedPetId=0}).catch(a=>{this.loadingState="",this.form.errors=a.response.data})},destroy(t){confirm(this.$t("Are you sure? This action cannot be undone."))&&axios.delete(t.url.destroy).then(()=>{this.flash(this.$t("The pet has been deleted"),"success");var a=this.localPets.findIndex(f=>f.id===t.id);this.localPets.splice(a,1)}).catch(a=>{this.loadingState=null,this.form.errors=a.response.data})}}},ql={class:"mb-10"},Dl={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},El={class:"mb-2 sm:mb-0"},Al={class:"relative me-1"},Gl={class:"relative me-1"},Hl={class:"icon-sidebar relative inline h-4 w-4",style:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Kl={class:"font-semibold"},Nl={class:"border-b border-gray-200 dark:border-gray-700"},Bl={key:0,class:"p-5"},zl={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Fl={class:"p-5"},Rl={class:"flex justify-between p-5"},Ol={key:1},Yl={class:"mb-4 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Wl={key:0,class:"flex items-center justify-between px-3 py-2"},Jl={class:"flex items-center"},Zl={class:"me-2 text-sm text-gray-500"},Ql={class:"me-2"},Xl={class:"text-sm"},en=["onClick"],tn={class:"cursor-pointer text-blue-500 hover:underline"},sn=["onClick"],on=["onSubmit"],an={class:"border-b border-gray-200 dark:border-gray-700"},rn={key:0,class:"p-5"},ln={class:"border-b border-gray-200 p-5 dark:border-gray-700"},nn={class:"p-5"},dn={class:"flex justify-between p-5"},un={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},cn=["alt"],mn={class:"px-5 pb-5 pt-2 text-center"};function bn(t,a,f,_,u,$){const V=P("pretty-button"),I=P("errors"),C=P("text-input"),d=P("dropdown"),k=P("pretty-span");return s(),o("div",ql,[e("div",Dl,[e("div",El,[e("span",Al,[e("span",Gl,[(s(),o("svg",Hl,a[9]||(a[9]=[e("path",{d:"M927.3 453c-21.1-55.3-51.7-109.1-88.4-155.5-41.1-51.9-88.3-93.2-140.1-122.6-58.6-33.2-121.3-50.1-186.4-50.1-65.9 0-129.2 16.7-188.1 49.7-52.2 29.2-99.5 70.3-140.7 122-36.7 46.1-67.3 99.7-88.3 154.9-20.3 53.1-31 105.4-31 151.1 0 41.7 9.2 76.8 26.5 101.5 19.6 28 49.4 42.8 86.1 42.8 27.4 0 51-6.6 69.7-18.6 24.1 51.8 75.7 85 132.9 85 17.8 0 34.9-3.2 50.7-9.1v14.1c0 44.1 35.9 80 80 80s80-35.9 80-80v-14.8c16.3 6.3 33.9 9.8 52.3 9.8 57.5 0 109.1-33.6 133-86 18.9 12.6 43 19.5 71.1 19.5 36.4 0 66-14.6 85.4-42.2 17.2-24.4 26.2-59.1 26.2-100.3 0.2-45.5-10.6-97.9-30.9-151.2zM560.2 818.4c0 27.6-22.4 50-50 50s-50-22.4-50-50V789c13.8-9.2 26-20.7 36-33.9v45.8c0 8.3 6.7 15 15 15s15-6.7 15-15v-45.7c9.5 12.6 21 23.6 34 32.5v30.7z m-49.1-167.6h-0.2l-73-40.8 20.8-29.8h104.4l20.8 29.8-72.8 40.8z m396.5 36.6c-13.8 19.6-34.2 29.5-60.9 29.5-26.1 0-47.8-7.2-62.9-20.9-15.7-14.2-23.6-34.7-23.6-60.8 0-57.3-0.4-130.2-0.7-183.5-0.2-34.3-0.4-61.4-0.4-75 0-8.3-6.7-15-15-15s-15 6.7-15 15c0 13.7 0.2 40.8 0.4 75.1 0.3 53.2 0.7 126.2 0.7 183.3 0 28.5 8.1 52.8 22.7 71.4-1.2 1.3-2.2 2.8-2.9 4.5-18.1 43.9-60.3 72.3-107.4 72.3-60.6 0-110.5-47.1-115.9-107l74.1-41.5c6.8-3.8 11.7-10.4 13.5-18 1.7-7.6 0.2-15.6-4.3-22L587 562c-5.2-7.4-13.7-11.8-22.7-11.8H457.6c-9.1 0-17.6 4.4-22.7 11.8l-23 32.9c-4.5 6.4-6 14.4-4.3 22 1.7 7.6 6.6 14.2 13.4 18l74.7 41.9c-5.5 59.7-55.5 106.6-116.2 106.6-47 0-89.2-28.2-107.5-71.8-0.6-1.4-1.4-2.7-2.3-3.8 15.3-18.7 23.7-43.4 23.7-72.6 0-57.2 0.4-130.1 0.7-183.3 0.2-34.3 0.4-61.5 0.4-75.1 0-8.3-6.7-15-15-15s-15 6.7-15 15c0 13.6-0.2 40.7-0.4 75-0.3 53.3-0.7 126.2-0.7 183.5 0 26.1-8 46.6-23.6 60.8-15.1 13.7-36.8 20.9-62.9 20.9-26.9 0-47.6-10.1-61.5-30-13.8-19.6-21-48.8-21-84.3 0-42.2 10-90.7 29-140.5 20-52.4 48.9-103.1 83.8-146.9 38.7-48.7 83.1-87.2 131.9-114.5 54.4-30.5 112.7-45.9 173.4-45.9 59.9 0 117.6 15.5 171.6 46.2 48.5 27.5 92.7 66.2 131.4 115.1 68.7 86.8 113 199.9 113 288.2-0.1 35-7.3 63.7-20.9 83z"},null,-1),e("path",{d:"M383.2 480.9m-25 0a25 25 0 1 0 50 0 25 25 0 1 0-50 0Z"},null,-1),e("path",{d:"M639.2 480.9m-25 0a25 25 0 1 0 50 0 25 25 0 1 0-50 0Z"},null,-1)])))])]),e("span",Kl,r(t.$t("Pets")),1)]),m(V,{text:t.$t("Add a pet"),icon:"plus",class:S("w-full sm:w-fit"),onClick:$.showCreatePetModal},null,8,["text","onClick"])]),u.addPetModalShown?(s(),o("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:a[4]||(a[4]=N(w=>$.submit(),["prevent"]))},[e("div",Nl,[u.form.errors.length>0?(s(),o("div",Bl,[m(I,{errors:u.form.errors},null,8,["errors"])])):b("",!0),e("div",zl,[m(C,{ref:"newName",modelValue:u.form.name,"onUpdate:modelValue":a[0]||(a[0]=w=>u.form.name=w),label:t.$t("Name of the pet"),type:"text",autofocus:!0,"input-class":"block w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:a[1]||(a[1]=w=>u.addPetModalShown=!1)},null,8,["modelValue","label"])]),e("div",Fl,[m(d,{modelValue:u.form.pet_category_id,"onUpdate:modelValue":a[2]||(a[2]=w=>u.form.pet_category_id=w),modelModifiers:{number:!0},data:f.data.pet_categories,required:!0,placeholder:t.$t("Choose a value"),"dropdown-class":"block w-full",label:t.$t("Pet category")},null,8,["modelValue","data","placeholder","label"])])]),e("div",Rl,[m(k,{text:t.$t("Cancel"),class:S("me-3"),onClick:a[3]||(a[3]=w=>u.addPetModalShown=!1)},null,8,["text"]),m(V,{text:t.$t("Save"),state:u.loadingState,icon:"plus",class:S("save")},null,8,["text","state"])])],32)):b("",!0),u.localPets.length>0?(s(),o("div",Ol,[e("ul",Yl,[(s(!0),o(D,null,E(u.localPets,w=>(s(),o("li",{key:w.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[u.editedPetId!==w.id?(s(),o("div",Wl,[e("div",Jl,[e("span",Zl,r(w.pet_category.name),1),e("span",Ql,r(w.name),1)]),e("ul",Xl,[e("li",{class:"me-4 inline",onClick:h=>$.showEditPetModal(w)},[e("span",tn,r(t.$t("Edit")),1)],8,en),e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:h=>$.destroy(w)},r(t.$t("Delete")),9,sn)])])):b("",!0),u.editedPetId===w.id?(s(),o("form",{key:1,class:"bg-gray-50 dark:bg-gray-900",onSubmit:N(h=>$.update(w),["prevent"])},[e("div",an,[u.form.errors.length>0?(s(),o("div",rn,[m(I,{errors:u.form.errors},null,8,["errors"])])):b("",!0),e("div",ln,[m(C,{ref_for:!0,ref:"label",modelValue:u.form.name,"onUpdate:modelValue":a[5]||(a[5]=h=>u.form.name=h),label:t.$t("Name of the pet"),type:"text",autofocus:!0,"input-class":"block w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:a[6]||(a[6]=h=>u.addPetModalShown=!1)},null,8,["modelValue","label"])]),e("div",nn,[m(d,{modelValue:u.form.pet_category_id,"onUpdate:modelValue":a[7]||(a[7]=h=>u.form.pet_category_id=h),modelModifiers:{number:!0},data:f.data.pet_categories,required:!0,placeholder:t.$t("Choose a value"),"dropdown-class":"block w-full",label:t.$t("Pet category")},null,8,["modelValue","data","placeholder","label"])])]),e("div",dn,[m(k,{text:t.$t("Cancel"),class:S("me-3"),onClick:a[8]||(a[8]=h=>u.editedPetId=0)},null,8,["text"]),m(V,{text:t.$t("Save"),state:u.loadingState,icon:"check",class:S("save")},null,8,["text","state"])])],40,on)):b("",!0)]))),128))])])):b("",!0),u.localPets.length===0?(s(),o("div",un,[e("img",{src:"/img/contact_blank_pet.svg",alt:t.$t("Pets"),class:"mx-auto mt-4 h-16 w-16"},null,8,cn),e("p",mn,r(t.$t("There are no pets yet.")),1)])):b("",!0)])}const pn=z(Ll,[["render",bn],["__scopeId","data-v-4035ff0f"]]),hn={components:{InertiaLink:F,PrettyButton:K,PrettySpan:Y,TextInput:G,Errors:R},props:{data:{type:Object,default:null}},data(){return{loadingState:"",localGoals:[],editedGoalId:0,createGoalModalShown:!1,form:{name:"",errors:[]}}},created(){this.localGoals=this.data.active_goals},methods:{showCreateGoalModal(){this.form.errors=[],this.form.name="",this.createGoalModalShown=!0,this.$nextTick().then(()=>{this.$refs.newName.focus()})},showEditGoalModal(t){this.editedGoalId=t.id,this.form.name=t.name},submit(){axios.post(this.data.url.store,this.form).then(t=>{this.flash(this.$t("The goal has been created"),"success"),this.localGoals.unshift(t.data.data),this.createGoalModalShown=!1}).catch(t=>{this.form.errors=t.response.data})},toggleStreak(t,a){this.form.happened_at=a.happened_at,axios.put(t.url.streak_update,this.form).then(f=>{this.flash(this.$t("The goal has been edited"),"success"),this.localGoals[this.localGoals.findIndex(_=>_.id===t.id)]=f.data.data,this.editedGoalId=0}).catch(f=>{this.form.errors=f.response.data})},destroy(t){confirm(this.$t("Are you sure? This action cannot be undone."))&&axios.delete(t.url.destroy).then(()=>{this.flash(this.$t("The goal has been deleted"),"success");var a=this.localGoals.findIndex(f=>f.id===t.id);this.localGoals.splice(a,1)}).catch(a=>{this.loadingState=null,this.form.errors=a.response.data})}}},yn={class:"mb-10"},gn={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},fn={class:"mb-2 sm:mb-0"},vn={class:"font-semibold"},kn={class:"border-b border-gray-200 p-5 dark:border-gray-700"},_n={class:"flex justify-between p-5"},$n={key:1},wn={key:0},xn={class:"flex items-center justify-between border-b border-gray-200 p-3 dark:border-gray-700"},Cn={class:"font-semibold text-gray-600 dark:text-gray-400"},Vn={class:"flex flex-col sm:flex-row sm:justify-between"},Mn={class:"flex flex-col p-0 sm:flex-row sm:p-3"},Sn={class:"mb-0 me-2 block text-xs font-semibold sm:me-0"},In={class:"me-2 sm:me-0"},jn=["onClick"],Un=["onClick"],Tn={class:"flex justify-between p-3"},Pn={class:"me-6 flex items-center"},Ln={class:"me-3 w-14 text-right text-sm text-gray-500"},qn={class:"text-4xl"},Dn={class:"flex items-center"},En={class:"me-3 w-14 text-right text-sm text-gray-500"},An={class:"text-4xl"},Gn={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Hn=["alt"],Kn={class:"px-5 pb-5 pt-2 text-center"};function Nn(t,a,f,_,u,$){const V=P("pretty-button"),I=P("errors"),C=P("text-input"),d=P("pretty-span"),k=P("InertiaLink");return s(),o("div",yn,[e("div",gn,[e("div",fn,[a[4]||(a[4]=e("span",{class:"relative me-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5M12 21l-2-1m2 1l2-1m-2 1v-2.5M6 18l-2-1v-2.5M18 18l2-1v-2.5"})])],-1)),e("span",vn,r(t.$t("Goals")),1)]),m(V,{text:t.$t("Add a goal"),icon:"plus",class:S("w-full sm:w-fit"),onClick:$.showCreateGoalModal},null,8,["text","onClick"])]),u.createGoalModalShown?(s(),o("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:a[3]||(a[3]=N(w=>$.submit(),["prevent"]))},[e("div",kn,[m(I,{errors:u.form.errors},null,8,["errors"]),m(C,{ref:"newName",modelValue:u.form.name,"onUpdate:modelValue":a[0]||(a[0]=w=>u.form.name=w),label:t.$t("Name"),type:"text","input-class":"block w-full mb-3",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:a[1]||(a[1]=w=>u.createGoalModalShown=!1)},null,8,["modelValue","label"])]),e("div",_n,[m(d,{text:t.$t("Cancel"),class:S("me-3"),onClick:a[2]||(a[2]=w=>u.createGoalModalShown=!1)},null,8,["text"]),m(V,{text:t.$t("Save"),state:u.loadingState,icon:"check",class:S("save")},null,8,["text","state"])])],32)):b("",!0),u.localGoals.length>0?(s(),o("div",$n,[(s(!0),o(D,null,E(u.localGoals,w=>(s(),o("div",{key:w.id,class:"mb-4 rounded border border-gray-200 last:mb-0 dark:border-gray-700 dark:bg-gray-900"},[u.editedGoalId!==w.id?(s(),o("div",wn,[e("div",xn,[e("div",Cn,r(w.name),1),e("div",null,[m(k,{href:w.url.show,class:"text-sm text-blue-500 hover:underline"},{default:T(()=>[q(r(t.$t("View details")),1)]),_:2},1032,["href"])])]),e("div",Vn,[e("div",Mn,[(s(!0),o(D,null,E(w.last_7_days,h=>(s(),o("div",{key:h.id,class:S(["me-0 flex flex-row items-center justify-between border-b border-gray-200 p-3 text-center dark:border-gray-700 sm:mb-0 sm:me-7 sm:w-9 sm:flex-col sm:border-0 sm:p-0",{"text-gray-500":!h.active}])},[e("div",null,[e("span",Sn,r(h.day),1),e("span",In,r(h.day_number),1)]),h.active?(s(),o("span",{key:0,class:"me-2 cursor-pointer text-2xl sm:me-0",onClick:x=>$.toggleStreak(w,h)},"ðŸ‘",8,jn)):(s(),o("span",{key:1,class:"me-2 cursor-pointer text-center text-2xl sm:me-0",onClick:x=>$.toggleStreak(w,h)},a[5]||(a[5]=[fe('<div class="rounded-md border border-gray-200 bg-slate-100 px-2 py-1 dark:border-gray-700 dark:bg-slate-900" data-v-fcd8ae3c><svg class="z-50" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-fcd8ae3c><g clip-path="url(#clip0_522_316)" data-v-fcd8ae3c><path fill-rule="evenodd" clip-rule="evenodd" d="M1.6875 9C1.6875 7.0606 2.45792 5.20064 3.82928 3.82928C5.20064 2.45792 7.0606 1.6875 9 1.6875C10.9394 1.6875 12.7994 2.45792 14.1707 3.82928C15.5421 5.20064 16.3125 7.0606 16.3125 9C16.3125 10.9394 15.5421 12.7994 14.1707 14.1707C12.7994 15.5421 10.9394 16.3125 9 16.3125C7.0606 16.3125 5.20064 15.5421 3.82928 14.1707C2.45792 12.7994 1.6875 10.9394 1.6875 9ZM9 0C6.61305 0 4.32387 0.948212 2.63604 2.63604C0.948212 4.32387 0 6.61305 0 9C0 11.3869 0.948212 13.6761 2.63604 15.364C4.32387 17.0518 6.61305 18 9 18C11.3869 18 13.6761 17.0518 15.364 15.364C17.0518 13.6761 18 11.3869 18 9C18 6.61305 17.0518 4.32387 15.364 2.63604C13.6761 0.948212 11.3869 0 9 0V0ZM5.625 9C5.92337 9 6.20952 8.88147 6.4205 8.6705C6.63147 8.45952 6.75 8.17337 6.75 7.875C6.75 7.57663 6.63147 7.29048 6.4205 7.0795C6.20952 6.86853 5.92337 6.75 5.625 6.75C5.32663 6.75 5.04048 6.86853 4.8295 7.0795C4.61853 7.29048 4.5 7.57663 4.5 7.875C4.5 8.17337 4.61853 8.45952 4.8295 8.6705C5.04048 8.88147 5.32663 9 5.625 9ZM13.5 7.875C13.5 8.17337 13.3815 8.45952 13.1705 8.6705C12.9595 8.88147 12.6734 9 12.375 9C12.0766 9 11.7905 8.88147 11.5795 8.6705C11.3685 8.45952 11.25 8.17337 11.25 7.875C11.25 7.57663 11.3685 7.29048 11.5795 7.0795C11.7905 6.86853 12.0766 6.75 12.375 6.75C12.6734 6.75 12.9595 6.86853 13.1705 7.0795C13.3815 7.29048 13.5 7.57663 13.5 7.875ZM5.985 10.8405C6.16651 10.7134 6.39072 10.6628 6.60922 10.6997C6.82771 10.7365 7.02294 10.8578 7.15275 11.0374L7.16062 11.0475C7.2765 11.1802 7.40813 11.2972 7.55438 11.3962C7.85138 11.5965 8.32275 11.8125 9 11.8125C9.67725 11.8125 10.1475 11.5965 10.4456 11.3951C10.5919 11.2961 10.7235 11.1791 10.8394 11.0464L10.8472 11.0374C10.9115 10.9471 10.9929 10.8704 11.0868 10.8116C11.1808 10.7528 11.2853 10.713 11.3946 10.6947C11.5039 10.6763 11.6157 10.6796 11.7237 10.7044C11.8317 10.7293 11.9337 10.7751 12.024 10.8394C12.1143 10.9036 12.191 10.9851 12.2498 11.079C12.3086 11.1729 12.3483 11.2775 12.3667 11.3867C12.3851 11.496 12.3818 11.6078 12.357 11.7158C12.3321 11.8238 12.2863 11.9259 12.222 12.0161L11.5312 11.5312C12.222 12.015 12.222 12.0161 12.2209 12.0161V12.0173L12.2198 12.0195L12.2175 12.0229L12.2119 12.0308L12.1961 12.0521C12.1329 12.1368 12.0637 12.2169 11.9891 12.2917C11.8091 12.4785 11.6089 12.6473 11.3929 12.7924C10.6841 13.2626 9.85163 13.5101 9 13.5C7.93575 13.5 7.1415 13.1535 6.60825 12.7913C6.30535 12.5856 6.03433 12.3366 5.80387 12.0521L5.78813 12.0296L5.7825 12.0229L5.78025 12.0195V12.0173H5.77913L6.46875 11.5312L5.778 12.015C5.64971 11.8319 5.59933 11.6054 5.63793 11.3852C5.67653 11.1649 5.80095 10.969 5.98387 10.8405H5.985Z" fill="#CFCFCF" data-v-fcd8ae3c></path></g><defs data-v-fcd8ae3c><clipPath id="clip0_522_316" data-v-fcd8ae3c><rect width="18" height="18" fill="white" data-v-fcd8ae3c></rect></clipPath></defs></svg></div>',1)]),8,Un))],2))),128))]),e("div",Tn,[e("div",Pn,[e("div",Ln,r(t.$t("Current streak")),1),e("div",qn,r(w.streaks_statistics.current_streak),1)]),e("div",Dn,[e("div",En,r(t.$t("Longest streak")),1),e("div",An,r(w.streaks_statistics.max_streak),1)])])])])):b("",!0)]))),128))])):b("",!0),u.localGoals.length===0?(s(),o("div",Gn,[e("img",{src:"/img/contact_blank_goal.svg",alt:t.$t("Goals"),class:"mx-auto mt-4 h-14 w-14"},null,8,Hn),e("p",Kn,r(t.$t("There are no goals yet.")),1)])):b("",!0)])}const Bn=z(hn,[["render",Nn],["__scopeId","data-v-fcd8ae3c"]]),zn={class:"mb-10"},Fn={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},Rn={class:"mb-2 sm:mb-0"},On={class:"font-semibold"},Yn={key:0,class:"mb-2 border-b border-gray-200 p-5 dark:border-gray-700"},Wn={class:"mb-2 flex items-center"},Jn=["checked"],Zn={for:"chooseExisting",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Qn={class:"flex items-center"},Xn=["checked"],ed={for:"createNew",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},td={key:1,class:"h-40 overflow-auto border-b border-gray-200 p-3 dark:border-gray-700"},sd={class:"rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},od={class:"flex items-center"},ad=["id","value"],rd=["for"],ld={key:2,class:"border-b border-gray-200 dark:border-gray-700"},nd={key:0,class:"p-5"},dd={class:"grid grid-cols-2 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},id={class:"grid gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},ud={class:"grid grid-cols-2 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},cd={class:"grid grid-cols-3 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},md={class:"p-5"},bd=["id","name"],pd=["for"],hd={class:"flex justify-between p-5"},yd={key:1,class:"mb-2 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},gd={key:0,class:"flex items-center justify-between p-3"},fd={key:0,class:"mb-2 text-sm font-semibold"},vd={key:0},kd={key:1},_d={key:2},$d={key:3},wd={class:"text-sm"},xd={class:"me-2 inline"},Cd=["href"],Vd=["onClick"],Md=["onClick"],Sd=["onSubmit"],Id={class:"border-b border-gray-200 dark:border-gray-700"},jd={key:0,class:"p-5"},Ud={class:"grid grid-cols-2 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},Td={class:"grid gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},Pd={class:"grid grid-cols-2 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},Ld={class:"grid grid-cols-3 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},qd={class:"p-5"},Dd=["id","name"],Ed=["for"],Ad={class:"flex justify-between p-5"},Gd={key:2,class:"mb-2 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Hd=["alt"],Kd={class:"px-5 pb-5 pt-2 text-center"},Nd={key:4,class:"mx-4 mb-4 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Bd={key:0,class:"flex items-center justify-between p-3"},zd={key:0,class:"mb-2 text-sm font-semibold"},Fd={key:0},Rd={key:1},Od={key:2},Yd={key:3},Wd={class:"text-sm"},Jd={class:"me-2 inline"},Zd=["href"],Qd=["onClick"],Xd=["onClick"],ei=["onSubmit"],ti={class:"border-b border-gray-200 dark:border-gray-700"},si={key:0,class:"p-5"},oi={class:"grid grid-cols-2 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},ai={class:"grid gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},ri={class:"grid grid-cols-2 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},li={class:"grid grid-cols-3 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},ni={class:"p-5"},di={for:"is_past_address",class:"ms-2 cursor-pointer text-gray-900 dark:text-gray-100"},ii={class:"flex justify-between p-5"},ui={__name:"Addresses",props:{layoutData:Object,data:Object},setup(t){const a=t,f=j(""),_=j(!1),u=j(!1),$=j(a.data.active_addresses),V=j(a.data.inactive_addresses),I=j(0),C=j(a.data.active_addresses.length>0),d=j(!1),k=j(!1),w=j(null),h=X({existing_address:!1,existing_address_id:0,type:"",address_type_id:0,is_past_address:!1,line_1:"",line_2:"",city:"",province:"",postal_code:"",country:"",errors:[]}),x=()=>{h.errors=[],h.is_past_address=!1,h.address_type_id=0,h.line_1="",h.line_2="",h.city="",h.province="",h.postal_code="",h.country="",_.value=!0},U=()=>{u.value=!u.value},y=n=>{I.value=n.id,h.errors=[],h.is_past_address=n.is_past_address,h.address_type_id=n.type?n.type.id:0,h.line_1=n.line_1,h.line_2=n.line_2,h.city=n.city,h.province=n.province,h.postal_code=n.postal_code,h.country=n.country},M=n=>{w.value=n,d.value=!0},W=()=>{f.value="loading",h.existing_address=C.value,axios.post(a.data.url.store,h).then(n=>{h.is_past_address?V.value.unshift(n.data.data):$.value.unshift(n.data.data),f.value="",_.value=!1}).catch(n=>{f.value="",h.errors=n.response.data})},v=n=>{f.value="loading",axios.put(n.url.update,h).then(i=>{f.value="",h.is_past_address?V.value[V.value.findIndex(p=>p.id===n.id)]=i.data.data:$.value[$.value.findIndex(p=>p.id===n.id)]=i.data.data,I.value=0}).catch(i=>{f.value="",h.errors=i.response.data})},c=()=>{k.value=!0,axios.delete(w.value.url.destroy).then(()=>{if(k.value=!1,w.value.is_past_address){const n=V.value.findIndex(i=>i.id===w.value.id);V.value.splice(n,1)}else{const n=$.value.findIndex(i=>i.id===w.value.id);$.value.splice(n,1)}d.value=!1}).catch(n=>{f.value=null,h.errors=n.response.data})};return(n,i)=>(s(),o("div",zn,[e("div",Fn,[e("div",Rn,[i[52]||(i[52]=e("span",{class:"relative me-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})])],-1)),e("span",On,r(n.$t("Addresses")),1)]),m(K,{text:n.$t("Add an address"),icon:"plus",class:S("w-full sm:w-fit"),onClick:x},null,8,["text"])]),e("div",null,[_.value?(s(),o("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:i[18]||(i[18]=N(p=>W(),["prevent"]))},[t.data.addresses_in_vault.length>0?(s(),o("div",Yn,[e("div",Wn,[e("input",{id:"chooseExisting",checked:C.value,onChange:i[0]||(i[0]=p=>C.value=!0),name:"exist",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,40,Jn),e("label",Zn,r(n.$t("Choose an existing address")),1)]),e("div",Qn,[e("input",{id:"createNew",checked:!C.value,onChange:i[1]||(i[1]=p=>C.value=!1),name:"exist",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,40,Xn),e("label",ed,r(n.$t("Create a new address")),1)])])):b("",!0),C.value&&a.data.addresses_in_vault.length>0?(s(),o("div",td,[e("ul",sd,[(s(!0),o(D,null,E(a.data.addresses_in_vault,p=>(s(),o("li",{key:p.id,class:"item-list border-b border-gray-200 px-3 py-2 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[e("div",od,[A(e("input",{id:"address-"+p.id,"onUpdate:modelValue":i[2]||(i[2]=g=>l(h).existing_address_id=g),value:p.id,name:"date-format",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,8,ad),[[H,l(h).existing_address_id]]),e("label",{for:"address-"+p.id,class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},r(p.address),9,rd)])]))),128))])])):b("",!0),!C.value||a.data.addresses_in_vault.length===0?(s(),o("div",ld,[l(h).errors.length>0?(s(),o("div",nd,[m(R,{errors:l(h).errors},null,8,["errors"])])):b("",!0),e("div",dd,[m(O,{modelValue:l(h).address_type_id,"onUpdate:modelValue":i[3]||(i[3]=p=>l(h).address_type_id=p),modelModifiers:{number:!0},data:t.data.address_types,required:!1,placeholder:n.$t("Choose a value"),"dropdown-class":"block w-full",label:n.$t("Address type")},null,8,["modelValue","data","placeholder","label"])]),e("div",id,[m(G,{ref:"line_1",modelValue:l(h).line_1,"onUpdate:modelValue":i[4]||(i[4]=p=>l(h).line_1=p),label:n.$t("Address"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[5]||(i[5]=p=>_.value=!1)},null,8,["modelValue","label"])]),e("div",ud,[m(G,{ref:"line_2",modelValue:l(h).line_2,"onUpdate:modelValue":i[6]||(i[6]=p=>l(h).line_2=p),label:n.$t("Apartment, suite, etcâ€¦"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[7]||(i[7]=p=>_.value=!1)},null,8,["modelValue","label"]),m(G,{modelValue:l(h).city,"onUpdate:modelValue":i[8]||(i[8]=p=>l(h).city=p),label:n.$t("City"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[9]||(i[9]=p=>_.value=!1)},null,8,["modelValue","label"])]),e("div",cd,[m(G,{modelValue:l(h).province,"onUpdate:modelValue":i[10]||(i[10]=p=>l(h).province=p),label:n.$t("Province"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[11]||(i[11]=p=>_.value=!1)},null,8,["modelValue","label"]),m(G,{modelValue:l(h).postal_code,"onUpdate:modelValue":i[12]||(i[12]=p=>l(h).postal_code=p),label:n.$t("Postal code"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[13]||(i[13]=p=>_.value=!1)},null,8,["modelValue","label"]),m(G,{modelValue:l(h).country,"onUpdate:modelValue":i[14]||(i[14]=p=>l(h).country=p),label:n.$t("Country"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[15]||(i[15]=p=>_.value=!1)},null,8,["modelValue","label"])]),e("div",md,[A(e("input",{id:l(h).is_past_address,"onUpdate:modelValue":i[16]||(i[16]=p=>l(h).is_past_address=p),name:l(h).is_past_address,type:"checkbox",class:"focus:ring-3 relative h-4 w-4 rounded border border-gray-300 bg-gray-50 focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 focus:dark:ring-blue-600"},null,8,bd),[[oe,l(h).is_past_address]]),e("label",{for:l(h).is_past_address,class:"ms-2 cursor-pointer text-gray-900 dark:text-gray-100"},r(n.$t("This address is not active anymore")),9,pd)])])):b("",!0),e("div",hd,[m(Y,{text:n.$t("Cancel"),class:S("me-3"),onClick:i[17]||(i[17]=p=>_.value=!1)},null,8,["text"]),m(K,{text:n.$t("Save"),state:f.value,icon:"plus",class:S("save")},null,8,["text","state"])])],32)):b("",!0),$.value.length>0?(s(),o("div",yd,[(s(!0),o(D,null,E($.value,p=>(s(),o("div",{key:p.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[p.id!==I.value?(s(),o("div",gd,[e("div",null,[p.type?(s(),o("p",fd,r(p.type.name),1)):b("",!0),e("div",null,[p.line_1?(s(),o("p",vd,r(p.line_1),1)):b("",!0),p.line_2?(s(),o("p",kd,r(p.line_2),1)):b("",!0),p.postal_code||p.city?(s(),o("p",_d,r(p.postal_code)+" "+r(p.city),1)):b("",!0),p.country?(s(),o("p",$d,r(p.country),1)):b("",!0)])]),e("ul",wd,[e("li",xd,[e("a",{href:p.url.show,target:"_blank",class:"me-2 text-sm text-blue-500 hover:underline"},r(n.$t("View on map")),9,Cd)]),e("li",{class:"inline cursor-pointer text-blue-500 hover:underline",onClick:g=>y(p)},r(n.$t("Edit")),9,Vd),e("li",{class:"ms-4 inline cursor-pointer text-red-500 hover:text-red-900",onClick:g=>M(p)},r(n.$t("Delete")),9,Md)])])):b("",!0),p.id===I.value?(s(),o("form",{key:1,class:"bg-gray-50 dark:bg-gray-900",onSubmit:N(g=>v(p),["prevent"])},[e("div",Id,[l(h).errors.length>0?(s(),o("div",jd,[m(R,{errors:l(h).errors},null,8,["errors"])])):b("",!0),e("div",Ud,[m(O,{modelValue:l(h).address_type_id,"onUpdate:modelValue":i[19]||(i[19]=g=>l(h).address_type_id=g),modelModifiers:{number:!0},data:t.data.address_types,required:!1,placeholder:n.$t("Choose a value"),"dropdown-class":"block w-full",label:n.$t("Address type")},null,8,["modelValue","data","placeholder","label"])]),e("div",Td,[m(G,{ref_for:!0,ref:"line_1",modelValue:l(h).line_1,"onUpdate:modelValue":i[20]||(i[20]=g=>l(h).line_1=g),label:n.$t("Address"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[21]||(i[21]=g=>_.value=!1)},null,8,["modelValue","label"])]),e("div",Pd,[m(G,{ref_for:!0,ref:"line_2",modelValue:l(h).line_2,"onUpdate:modelValue":i[22]||(i[22]=g=>l(h).line_2=g),label:n.$t("Apartment, suite, etcâ€¦"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[23]||(i[23]=g=>_.value=!1)},null,8,["modelValue","label"]),m(G,{modelValue:l(h).city,"onUpdate:modelValue":i[24]||(i[24]=g=>l(h).city=g),label:n.$t("City"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[25]||(i[25]=g=>_.value=!1)},null,8,["modelValue","label"])]),e("div",Ld,[m(G,{modelValue:l(h).province,"onUpdate:modelValue":i[26]||(i[26]=g=>l(h).province=g),label:n.$t("Province"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[27]||(i[27]=g=>_.value=!1)},null,8,["modelValue","label"]),m(G,{modelValue:l(h).postal_code,"onUpdate:modelValue":i[28]||(i[28]=g=>l(h).postal_code=g),label:n.$t("Postal code"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[29]||(i[29]=g=>_.value=!1)},null,8,["modelValue","label"]),m(G,{modelValue:l(h).country,"onUpdate:modelValue":i[30]||(i[30]=g=>l(h).country=g),label:n.$t("Country"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[31]||(i[31]=g=>_.value=!1)},null,8,["modelValue","label"])]),e("div",qd,[A(e("input",{id:l(h).is_past_address,"onUpdate:modelValue":i[32]||(i[32]=g=>l(h).is_past_address=g),name:l(h).is_past_address,type:"checkbox",class:"focus:ring-3 relative h-4 w-4 rounded border border-gray-300 bg-gray-50 focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 focus:dark:ring-blue-600"},null,8,Dd),[[oe,l(h).is_past_address]]),e("label",{for:l(h).is_past_address,class:"ms-2 cursor-pointer text-gray-900 dark:text-gray-100"},r(n.$t("This address is not active anymore")),9,Ed)])]),e("div",Ad,[m(Y,{text:n.$t("Cancel"),class:S("me-3"),onClick:i[33]||(i[33]=g=>I.value=0)},null,8,["text"]),m(K,{text:n.$t("Save"),state:f.value,icon:"plus",class:S("save")},null,8,["text","state"])])],40,Sd)):b("",!0)]))),128))])):b("",!0),$.value.length===0?(s(),o("div",Gd,[e("img",{src:"/img/contact_blank_address.svg",alt:n.$t("Addresses"),class:"mx-auto mt-4 h-14 w-14"},null,8,Hd),e("p",Kd,r(n.$t("There are no active addresses yet.")),1)])):b("",!0),V.value.length>0?(s(),o("p",{key:3,class:"mx-4 mb-2 cursor-pointer text-xs text-blue-500 hover:underline",onClick:U},r(n.$t("Previous addresses"))+" ("+r(V.value.length)+") ",1)):b("",!0),V.value.length>0&&u.value?(s(),o("div",Nd,[(s(!0),o(D,null,E(V.value,p=>(s(),o("div",{key:p.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[p.id!==I.value?(s(),o("div",Bd,[e("div",null,[p.type?(s(),o("p",zd,r(p.type.name),1)):b("",!0),e("div",null,[p.line_1?(s(),o("p",Fd,r(p.line_1),1)):b("",!0),p.line_2?(s(),o("p",Rd,r(p.line_2),1)):b("",!0),p.postal_code||p.city?(s(),o("p",Od,r(p.postal_code)+" "+r(p.city),1)):b("",!0),p.country?(s(),o("p",Yd,r(p.country),1)):b("",!0)])]),e("ul",Wd,[e("li",Jd,[e("a",{href:p.url.show,target:"_blank",class:"me-2 text-sm text-blue-500 hover:underline"},r(n.$t("View on map")),9,Zd)]),e("li",{class:"inline cursor-pointer text-blue-500 hover:underline",onClick:g=>y(p)},r(n.$t("Edit")),9,Qd),e("li",{class:"ms-4 inline cursor-pointer text-red-500 hover:text-red-900",onClick:g=>c()},r(n.$t("Delete")),9,Xd)])])):b("",!0),p.id===I.value?(s(),o("form",{key:1,class:"bg-gray-50 dark:bg-gray-900",onSubmit:N(g=>v(p),["prevent"])},[e("div",ti,[l(h).errors.length>0?(s(),o("div",si,[m(R,{errors:l(h).errors},null,8,["errors"])])):b("",!0),e("div",oi,[m(O,{modelValue:l(h).address_type_id,"onUpdate:modelValue":i[34]||(i[34]=g=>l(h).address_type_id=g),modelModifiers:{number:!0},data:t.data.address_types,required:!1,placeholder:n.$t("Choose a value"),"dropdown-class":"block w-full",label:n.$t("Address type")},null,8,["modelValue","data","placeholder","label"])]),e("div",ai,[m(G,{ref_for:!0,ref:"line_1",modelValue:l(h).line_1,"onUpdate:modelValue":i[35]||(i[35]=g=>l(h).line_1=g),label:n.$t("Address"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[36]||(i[36]=g=>_.value=!1)},null,8,["modelValue","label"])]),e("div",ri,[m(G,{ref_for:!0,ref:"line_2",modelValue:l(h).line_2,"onUpdate:modelValue":i[37]||(i[37]=g=>l(h).line_2=g),label:n.$t("Apartment, suite, etcâ€¦"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[38]||(i[38]=g=>_.value=!1)},null,8,["modelValue","label"]),m(G,{modelValue:l(h).city,"onUpdate:modelValue":i[39]||(i[39]=g=>l(h).city=g),label:n.$t("City"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[40]||(i[40]=g=>_.value=!1)},null,8,["modelValue","label"])]),e("div",li,[m(G,{modelValue:l(h).province,"onUpdate:modelValue":i[41]||(i[41]=g=>l(h).province=g),label:n.$t("Province"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[42]||(i[42]=g=>_.value=!1)},null,8,["modelValue","label"]),m(G,{modelValue:l(h).postal_code,"onUpdate:modelValue":i[43]||(i[43]=g=>l(h).postal_code=g),label:n.$t("Postal code"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[44]||(i[44]=g=>_.value=!1)},null,8,["modelValue","label"]),m(G,{modelValue:l(h).country,"onUpdate:modelValue":i[45]||(i[45]=g=>l(h).country=g),label:n.$t("Country"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[46]||(i[46]=g=>_.value=!1)},null,8,["modelValue","label"])]),e("div",ni,[A(e("input",{id:"is_past_address","onUpdate:modelValue":i[47]||(i[47]=g=>l(h).is_past_address=g),name:"is_past_address",type:"checkbox",class:"focus:ring-3 relative h-4 w-4 rounded border border-gray-300 bg-gray-50 focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 focus:dark:ring-blue-600"},null,512),[[oe,l(h).is_past_address]]),e("label",di,r(n.$t("This address is not active anymore")),1)])]),e("div",ii,[m(Y,{text:n.$t("Cancel"),class:S("me-3"),onClick:i[48]||(i[48]=g=>I.value=0)},null,8,["text"]),m(K,{text:n.$t("Save"),state:f.value,icon:"plus",class:S("save")},null,8,["text","state"])])],40,ei)):b("",!0)]))),128))])):b("",!0)]),m(he,{show:d.value,onClose:i[51]||(i[51]=p=>d.value=!1)},{title:T(()=>[q(r(n.$t("Delete the address")),1)]),content:T(()=>[q(r(n.$t("Are you sure? The address will be deleted immediately.")),1)]),footer:T(()=>[m(ie,{onClick:i[49]||(i[49]=p=>d.value=!1)},{default:T(()=>[q(r(n.$t("Cancel")),1)]),_:1}),m(ye,{class:S(["ms-3",{"opacity-25":k.value}]),disabled:k.value,onClick:i[50]||(i[50]=p=>c())},{default:T(()=>[q(r(n.$t("Delete")),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}},ci=z(ui,[["__scopeId","data-v-fe9cb65d"]]),mi={components:{InertiaLink:F,PrettyButton:K,PrettySpan:Y,TextInput:G,Dropdown:O,Errors:R,Avatar:ue},props:{data:{type:Object,default:null}},data(){return{loadingState:null,localGroups:[],localAvailableGroups:[],localGroupTypeRoles:[],addGroupMode:!1,nameInputShown:!1,chooseGroupTypeShown:!1,chooseGroupTypeRoleShown:!1,form:{search:"",group_id:-1,group_type_id:"",group_type_role_id:0,name:"",errors:[]}}},computed:{filteredGroups(){return this.localGroups.filter(t=>t.id>0)}},created(){this.localGroups=this.data.groups,this.localAvailableGroups=this.data.available_groups},methods:{toggleCreateGroup(){this.form.name="",this.form.group_id===0?this.createAddGroupModal():this.chooseExistingGroupModal()},createAddGroupModal(){this.nameInputShown=!0,this.chooseGroupTypeShown=!0,this.chooseGroupTypeRoleShown=!1},chooseExistingGroupModal(){this.nameInputShown=!1,this.chooseGroupTypeShown=!1,this.chooseGroupTypeRoleShown=!0;var t=this.localAvailableGroups.findIndex(a=>a.id===this.form.group_id);this.form.group_type_id=this.localAvailableGroups[t].type.id,this.loadGroupTypeRoles()},loadGroupTypeRoles(){for(let t=0;t<this.data.group_types.length;t++)this.data.group_types[t].id===this.form.group_type_id&&(this.localGroupTypeRoles=this.data.group_types[t].roles)},submit(){this.loadingState="loading",axios.post(this.data.url.store,this.form).then(t=>{this.flash(this.$t("The group has been added"),"success"),this.localGroups.unshift(t.data.data),this.loadingState=null,this.addGroupMode=!1}).catch(t=>{this.loadingState=null,this.form.errors=t.response.data})},destroy(t){confirm(this.$t("Are you sure? This action cannot be undone."))&&axios.delete(t.url.destroy).then(()=>{this.flash(this.$t("The contact has been removed from the group"),"success");var a=this.localGroups.findIndex(f=>f.id===t.id);this.localGroups.splice(a,1)}).catch(a=>{this.loadingState=null,this.form.errors=a.response.data})}}},bi={class:"mb-10"},pi={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},hi={class:"mb-2 sm:mb-0"},yi={class:"font-semibold"},gi={class:"border-b border-gray-200 dark:border-gray-700"},fi={key:0,class:"p-5"},vi={class:"border-b border-gray-200 p-5 dark:border-gray-700"},ki={key:1,class:"border-b border-gray-200 p-5 dark:border-gray-700"},_i={key:2,class:"border-b border-gray-200 p-5 dark:border-gray-700"},$i={key:3,class:"p-5"},wi={class:"flex justify-between p-5"},xi={key:1,class:"mb-4 rounded-lg border border-gray-200 last:mb-0 dark:border-gray-700"},Ci={class:"font-semibold"},Vi={key:0,class:"relative flex -space-x-2 overflow-hidden py-1"},Mi={class:"text-sm"},Si={class:"me-4 inline cursor-pointer"},Ii=["onClick"],ji={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Ui=["alt"],Ti={class:"px-5 pb-5 pt-2 text-center"};function Pi(t,a,f,_,u,$){const V=P("pretty-button"),I=P("errors"),C=P("dropdown"),d=P("text-input"),k=P("pretty-span"),w=P("avatar"),h=P("InertiaLink");return s(),o("div",bi,[e("div",pi,[e("div",hi,[a[10]||(a[10]=e("span",{class:"relative me-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})])],-1)),e("span",yi,r(t.$t("Groups")),1)]),m(V,{text:t.$t("Add to group"),icon:"plus",class:S("w-full sm:w-fit"),onClick:a[0]||(a[0]=x=>u.addGroupMode=!0)},null,8,["text"])]),u.addGroupMode?(s(),o("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:a[9]||(a[9]=N(x=>$.submit(),["prevent"]))},[e("div",gi,[u.form.errors.length>0?(s(),o("div",fi,[m(I,{errors:u.form.errors},null,8,["errors"])])):b("",!0),e("div",vi,[m(C,{modelValue:u.form.group_id,"onUpdate:modelValue":a[1]||(a[1]=x=>u.form.group_id=x),modelModifiers:{number:!0},data:u.localAvailableGroups,required:!0,placeholder:t.$t("Choose a value"),"dropdown-class":"block w-full",label:t.$t("Select a group or create a new one"),onChange:a[2]||(a[2]=x=>$.toggleCreateGroup())},null,8,["modelValue","data","placeholder","label"])]),u.chooseGroupTypeShown?(s(),o("div",ki,[m(d,{ref:"newName",modelValue:u.form.name,"onUpdate:modelValue":a[3]||(a[3]=x=>u.form.name=x),label:t.$t("Name"),type:"text",autofocus:!0,"input-class":"block w-full",autocomplete:!1,maxlength:255,required:!0,onEscKeyPressed:a[4]||(a[4]=x=>t.addPetModalShown=!1)},null,8,["modelValue","label"])])):b("",!0),u.chooseGroupTypeShown?(s(),o("div",_i,[m(C,{modelValue:u.form.group_type_id,"onUpdate:modelValue":a[5]||(a[5]=x=>u.form.group_type_id=x),modelModifiers:{number:!0},data:f.data.group_types,placeholder:t.$t("Choose a value"),"dropdown-class":"block w-full",label:t.$t("Group type"),onChange:a[6]||(a[6]=x=>$.loadGroupTypeRoles())},null,8,["modelValue","data","placeholder","label"])])):b("",!0),u.localGroupTypeRoles.length>0||u.chooseGroupTypeRoleShown?(s(),o("div",$i,[m(C,{modelValue:u.form.group_type_role_id,"onUpdate:modelValue":a[7]||(a[7]=x=>u.form.group_type_role_id=x),modelModifiers:{number:!0},data:u.localGroupTypeRoles,required:!1,placeholder:t.$t("Choose a value"),"dropdown-class":"block w-full",label:t.$t("Role")},null,8,["modelValue","data","placeholder","label"])])):b("",!0)]),e("div",wi,[m(k,{text:t.$t("Cancel"),class:S("me-3"),onClick:a[8]||(a[8]=x=>u.addGroupMode=!1)},null,8,["text"]),m(V,{text:t.$t("Save"),state:u.loadingState,icon:"plus",class:S("save")},null,8,["text","state"])])],32)):b("",!0),$.filteredGroups.length>0?(s(),o("ul",xi,[(s(!0),o(D,null,E($.filteredGroups,x=>(s(),o("li",{key:x.id,class:"item-list flex items-center justify-between border-b border-gray-200 px-5 py-2 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[e("div",null,[e("p",Ci,r(x.name),1),x.contacts?(s(),o("div",Vi,[(s(!0),o(D,null,E(x.contacts,U=>(s(),o("div",{key:U.id,class:"inline-block"},[m(h,{href:U.url.show},{default:T(()=>[m(w,{data:U.avatar,class:S("h-8 w-8 rounded-full ring-2 ring-white")},null,8,["data"])]),_:2},1032,["href"])]))),128))])):b("",!0)]),e("ul",Mi,[e("li",Si,[m(h,{href:x.url.show,class:"text-blue-500 hover:underline"},{default:T(()=>[q(r(t.$t("View")),1)]),_:2},1032,["href"])]),e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:U=>$.destroy(x)},r(t.$t("Leave")),9,Ii)])]))),128))])):b("",!0),u.localGroups.length===0?(s(),o("div",ji,[e("img",{src:"/img/contact_blank_group.svg",alt:t.$t("Groups"),class:"mx-auto mt-4 h-14 w-14"},null,8,Ui),e("p",Ti,r(t.$t("The contact does not belong to any group yet.")),1)])):b("",!0)])}const Li=z(mi,[["render",Pi],["__scopeId","data-v-f09cb644"]]),qi={components:{PrettyButton:K,PrettySpan:Y,TextInput:G,Dropdown:O,Errors:R},props:{data:{type:Object,default:null}},data(){return{loadingState:"",addContactInformationModalShown:!1,localContactInformation:[],editedContactInformationId:0,form:{data:"",contact_information_type_id:0,errors:[]}}},created(){this.localContactInformation=this.data.contact_information},methods:{showCreateContactInformationModal(){this.addContactInformationModalShown=!0,this.form.errors=[],this.form.data="",this.form.contact_information_type_id=this.data.contact_information_types[0].id,this.$nextTick().then(()=>{this.$refs.newData.focus()})},showEditContactInformationModal(t){this.form.errors=[],this.editedContactInformationId=t.id,this.form.contact_information_type_id=t.contact_information_type.id,this.form.data=t.data,this.$nextTick().then(()=>{this.$refs.rename[0].focus()})},submit(){this.loadingState="loading",axios.post(this.data.url.store,this.form).then(t=>{this.flash(this.$t("The contact information has been created"),"success"),this.localContactInformation.unshift(t.data.data),this.loadingState="",this.addContactInformationModalShown=!1}).catch(t=>{this.loadingState="",this.form.errors=t.response.data})},update(t){this.loadingState="loading",axios.put(t.url.update,this.form).then(a=>{this.loadingState="",this.flash(this.$t("The contact information has been edited"),"success"),this.localContactInformation[this.localContactInformation.findIndex(f=>f.id===t.id)]=a.data.data,this.editedContactInformationId=0}).catch(a=>{this.loadingState="",this.form.errors=a.response.data})},destroy(t){confirm(this.$t("Are you sure? This will delete the contact information permanently."))&&axios.delete(t.url.destroy).then(()=>{this.flash(this.$t("The contact information has been deleted"),"success");var a=this.localContactInformation.findIndex(f=>f.id===t.id);this.localContactInformation.splice(a,1)}).catch(a=>{this.loadingState=null,this.form.errors=a.response.data})}}},Di={class:"mb-10"},Ei={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},Ai={class:"mb-2 sm:mb-0"},Gi={class:"font-semibold"},Hi={class:"border-b border-gray-200 dark:border-gray-700"},Ki={key:0,class:"p-5"},Ni={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Bi={class:"p-5"},zi={class:"flex justify-between p-5"},Fi={key:1},Ri={class:"mb-4 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Oi={key:0,class:"flex items-center justify-between px-3 py-2"},Yi=["href"],Wi={class:"ms-2 text-xs text-gray-500"},Ji={class:"text-sm"},Zi=["onClick"],Qi=["onClick"],Xi=["onSubmit"],eu={class:"border-b border-gray-200 dark:border-gray-700"},tu={key:0,class:"p-5"},su={class:"border-b border-gray-200 p-5 dark:border-gray-700"},ou={class:"p-5"},au={class:"flex justify-between p-5"},ru={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},lu=["alt"],nu={class:"px-5 pb-5 pt-2 text-center"};function du(t,a,f,_,u,$){const V=P("pretty-button"),I=P("errors"),C=P("text-input"),d=P("dropdown"),k=P("pretty-span");return s(),o("div",Di,[e("div",Ei,[e("div",Ai,[a[9]||(a[9]=e("span",{class:"relative me-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("span",Gi,r(t.$t("Contact information")),1)]),m(V,{text:t.$t("Add a contact information"),icon:"plus",class:S("w-full sm:w-fit"),onClick:$.showCreateContactInformationModal},null,8,["text","onClick"])]),u.addContactInformationModalShown?(s(),o("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:a[4]||(a[4]=N(w=>$.submit(),["prevent"]))},[e("div",Hi,[u.form.errors.length>0?(s(),o("div",Ki,[m(I,{errors:u.form.errors},null,8,["errors"])])):b("",!0),e("div",Ni,[m(C,{ref:"newData",modelValue:u.form.data,"onUpdate:modelValue":a[0]||(a[0]=w=>u.form.data=w),label:t.$t("Content"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:a[1]||(a[1]=w=>u.addContactInformationModalShown=!1)},null,8,["modelValue","label"])]),e("div",Bi,[m(d,{modelValue:u.form.contact_information_type_id,"onUpdate:modelValue":a[2]||(a[2]=w=>u.form.contact_information_type_id=w),modelModifiers:{number:!0},data:f.data.contact_information_types,required:!0,placeholder:t.$t("Choose a value"),"dropdown-class":"block w-full",label:t.$t("Type")},null,8,["modelValue","data","placeholder","label"])])]),e("div",zi,[m(k,{text:t.$t("Cancel"),class:S("me-3"),onClick:a[3]||(a[3]=w=>u.addContactInformationModalShown=!1)},null,8,["text"]),m(V,{text:t.$t("Save"),state:u.loadingState,icon:"plus",class:S("save")},null,8,["text","state"])])],32)):b("",!0),u.localContactInformation.length>0?(s(),o("div",Fi,[e("ul",Ri,[(s(!0),o(D,null,E(u.localContactInformation,w=>(s(),o("li",{key:w.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[u.editedContactInformationId!==w.id?(s(),o("div",Oi,[e("div",null,[e("a",{href:w.data_with_protocol,class:"text-blue-500 hover:underline"},r(w.data),9,Yi),e("span",Wi,"("+r(w.label)+")",1)]),e("ul",Ji,[e("li",{class:"me-4 inline cursor-pointer text-blue-500 hover:underline",onClick:h=>$.showEditContactInformationModal(w)},r(t.$t("Edit")),9,Zi),e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:h=>$.destroy(w)},r(t.$t("Delete")),9,Qi)])])):b("",!0),u.editedContactInformationId===w.id?(s(),o("form",{key:1,class:"bg-gray-50 dark:bg-gray-900",onSubmit:N(h=>$.update(w),["prevent"])},[e("div",eu,[u.form.errors.length>0?(s(),o("div",tu,[m(I,{errors:u.form.errors},null,8,["errors"])])):b("",!0),e("div",su,[m(C,{ref_for:!0,ref:"rename",modelValue:u.form.data,"onUpdate:modelValue":a[5]||(a[5]=h=>u.form.data=h),label:t.$t("Content"),type:"text",autofocus:!0,"input-class":"block w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:a[6]||(a[6]=h=>u.editedContactInformationId=0)},null,8,["modelValue","label"])]),e("div",ou,[m(d,{modelValue:u.form.contact_information_type_id,"onUpdate:modelValue":a[7]||(a[7]=h=>u.form.contact_information_type_id=h),modelModifiers:{number:!0},data:f.data.contact_information_types,required:!0,placeholder:t.$t("Choose a value"),"dropdown-class":"block w-full",label:t.$t("Type")},null,8,["modelValue","data","placeholder","label"])])]),e("div",au,[m(k,{text:t.$t("Cancel"),class:S("me-3"),onClick:a[8]||(a[8]=h=>u.editedContactInformationId=0)},null,8,["text"]),m(V,{text:t.$t("Save"),state:u.loadingState,icon:"check",class:S("save")},null,8,["text","state"])])],40,Xi)):b("",!0)]))),128))])])):b("",!0),u.localContactInformation.length===0?(s(),o("div",ru,[e("img",{src:"/img/contact_blank_contact.svg",alt:t.$t("Contact informations"),class:"mx-auto mt-4 h-20 w-20"},null,8,lu),e("p",nu,r(t.$t("There are no contact information yet.")),1)])):b("",!0)])}const iu=z(qi,[["render",du],["__scopeId","data-v-b804acb5"]]),uu={components:{PrettyButton:K,Uploadcare:ce},props:{data:{type:Object,default:null}},data(){return{localDocuments:[],form:{uuid:null,name:null,original_url:null,cdn_url:null,mime_type:null,size:null,errors:[]}}},created(){this.localDocuments=this.data.documents},methods:{onSuccess(t){this.form.uuid=t.uuid,this.form.name=t.name,this.form.original_url=t.originalUrl,this.form.cdn_url=t.cdnUrl,this.form.mime_type=t.mimeType,this.form.size=t.size,this.upload()},upload(){axios.post(this.data.url.store,this.form).then(t=>{this.localDocuments.unshift(t.data.data),this.flash(this.$t("The document has been added"),"success")}).catch(t=>{this.form.errors=t.response.data})},destroy(t){confirm(this.$t("Are you sure? This will delete the document permanently."))&&axios.delete(t.url.destroy).then(()=>{this.flash(this.$t("Are you sure? This will delete the document permanently."),"success");var a=this.localDocuments.findIndex(f=>f.id===t.id);this.localDocuments.splice(a,1)}).catch(a=>{this.form.errors=a.response.data})}}},cu={class:"mb-10"},mu={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},bu={class:"mb-2 sm:mb-0"},pu={class:"font-semibold"},hu={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},yu={class:"bg-gray-100 p-3 text-center"},gu={key:1},fu={class:"mb-4 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},vu={class:"flex items-center justify-between px-3 py-2"},ku={class:"flex items-center"},_u={class:"max-w-sm truncate"},$u={class:"ms-2 rounded border bg-blue-50 px-1 py-0 font-mono text-xs text-blue-500"},wu={class:"text-sm"},xu={class:"me-4 inline"},Cu=["href"],Vu=["onClick"],Mu={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Su=["alt"],Iu={class:"px-5 pb-5 pt-2 text-center"},ju={key:3,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Uu={class:"p-5 text-center"};function Tu(t,a,f,_,u,$){const V=P("pretty-button"),I=P("uploadcare");return s(),o("div",cu,[e("div",mu,[e("div",bu,[a[0]||(a[0]=e("span",{class:"relative me-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})])],-1)),e("span",pu,r(t.$t("Documents")),1)]),f.data.uploadcare.publicKey&&f.data.canUploadFile?(s(),L(I,{key:0,"public-key":f.data.uploadcare.publicKey,"secure-signature":f.data.uploadcare.signature,"secure-expire":f.data.uploadcare.expire,tabs:"file","preview-step":!1,onSuccess:$.onSuccess,onError:t.onError},{default:T(()=>[m(V,{text:t.$t("Add a document"),icon:"plus",class:S("w-full sm:w-fit")},null,8,["text"])]),_:1},8,["public-key","secure-signature","secure-expire","onSuccess","onError"])):b("",!0)]),f.data.canUploadFile?b("",!0):(s(),o("div",hu,[e("p",yu,[a[1]||(a[1]=e("span",{class:"me-1"},"âš ï¸",-1)),q(" "+r(t.$t("You donâ€™t have enough space left in your account. Please upgrade.")),1)])])),u.localDocuments.length>0?(s(),o("div",gu,[e("ul",fu,[(s(!0),o(D,null,E(u.localDocuments,C=>(s(),o("li",{key:C.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[e("div",vu,[e("span",ku,[e("span",_u,r(C.name),1),e("span",$u,r(C.size),1)]),e("ul",wu,[e("li",xu,[e("a",{href:C.url.download,class:"text-blue-500 hover:underline"},r(t.$t("Download")),9,Cu)]),e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:d=>$.destroy(C)},r(t.$t("Delete")),9,Vu)])])]))),128))])])):b("",!0),u.localDocuments.length===0?(s(),o("div",Mu,[e("img",{src:"/img/contact_blank_document.svg",alt:t.$t("Documents"),class:"mx-auto mt-4 h-16 w-16"},null,8,Su),e("p",Iu,r(t.$t("There are no documents yet.")),1)])):b("",!0),f.data.uploadcare.publicKey?b("",!0):(s(),o("div",ju,[e("p",Uu,r(t.$t("The keys to manage uploads have not been set in this Monica instance.")),1)]))])}const Pu=z(uu,[["render",Tu],["__scopeId","data-v-0cfce406"]]),Lu={components:{InertiaLink:F,PrettyButton:K,Uploadcare:ce},props:{data:{type:Object,default:null}},data(){return{localPhotos:[],form:{searchTerm:null,uuid:null,name:null,original_url:null,cdn_url:null,mime_type:null,size:null,errors:[]}}},created(){this.localPhotos=this.data.photos},methods:{onSuccess(t){this.form.uuid=t.uuid,this.form.name=t.name,this.form.original_url=t.originalUrl,this.form.cdn_url=t.cdnUrl,this.form.mime_type=t.mimeType,this.form.size=t.size,this.upload()},upload(){axios.post(this.data.url.store,this.form).then(t=>{this.localPhotos.unshift(t.data.data),this.flash(this.$t("The photo has been added"),"success")}).catch(t=>{this.form.errors=t.response.data})},destroy(t){confirm(this.$t("Are you sure? This action cannot be undone."))&&axios.delete(t.url.destroy).then(()=>{this.flash(this.$t("The photo has been deleted"),"success");var a=this.localPhotos.findIndex(f=>f.id===t.id);this.localPhotos.splice(a,1)}).catch(a=>{this.form.errors=a.response.data})}}},qu={class:"mb-10"},Du={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},Eu={class:"mb-2 sm:mb-0"},Au={class:"font-semibold"},Gu={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Hu={class:"bg-gray-100 p-3 text-center"},Ku={key:1},Nu={class:"mb-4 grid grid-cols-3 gap-4"},Bu=["src","alt"],zu={class:"text-center"},Fu={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Ru=["alt"],Ou={class:"px-5 pb-5 pt-2 text-center"},Yu={key:3,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Wu={class:"p-5 text-center"};function Ju(t,a,f,_,u,$){const V=P("pretty-button"),I=P("uploadcare"),C=P("InertiaLink");return s(),o("div",qu,[e("div",Du,[e("div",Eu,[a[0]||(a[0]=e("span",{class:"relative me-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("span",Au,r(t.$t("Photos")),1)]),f.data.uploadcare.publicKey&&f.data.canUploadFile?(s(),L(I,{key:0,"public-key":f.data.uploadcare.publicKey,"secure-signature":f.data.uploadcare.signature,"secure-expire":f.data.uploadcare.expire,tabs:"file","preview-step":!1,onSuccess:$.onSuccess,onError:t.onError},{default:T(()=>[m(V,{text:t.$t("Add a photo"),icon:"plus",class:S("w-full sm:w-fit")},null,8,["text"])]),_:1},8,["public-key","secure-signature","secure-expire","onSuccess","onError"])):b("",!0)]),f.data.canUploadFile?b("",!0):(s(),o("div",Gu,[e("p",Hu,[a[1]||(a[1]=e("span",{class:"me-1"},"âš ï¸",-1)),q(" "+r(t.$t("You donâ€™t have enough space left in your account.")),1)])])),u.localPhotos.length>0?(s(),o("div",Ku,[e("div",Nu,[(s(!0),o(D,null,E(u.localPhotos,d=>(s(),o("div",{key:d.id,class:"rounded-md border border-gray-200 p-2 shadow-sm hover:bg-slate-50 hover:shadow-lg dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[m(C,{href:d.url.show},{default:T(()=>[e("img",{src:d.url.display,alt:d.name},null,8,Bu)]),_:2},1032,["href"])]))),128))]),e("div",zu,[m(C,{href:f.data.url.index,class:"rounded border border-gray-200 px-3 py-1 text-sm text-blue-500 hover:border-gray-500 dark:border-gray-700"},{default:T(()=>[q(r(t.$t("View all")),1)]),_:1},8,["href"])])])):b("",!0),u.localPhotos.length===0?(s(),o("div",Fu,[e("img",{src:"/img/contact_blank_photo.svg",alt:t.$t("Photos"),class:"mx-auto mt-4 h-16 w-16"},null,8,Ru),e("p",Ou,r(t.$t("There are no photos yet.")),1)])):b("",!0),f.data.uploadcare.publicKey?b("",!0):(s(),o("div",Yu,[e("p",Wu,r(t.$t("The keys to manage uploads have not been set in this Monica instance.")),1)]))])}const Zu=z(Lu,[["render",Ju],["__scopeId","data-v-2c11433f"]]),Qu={class:"mb-4"},Xu={class:"mb-3 items-center justify-between border-b border-gray-200 dark:border-gray-700 sm:flex"},e0={class:"mb-2 text-xs sm:mb-0"},t0={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900"},s0={class:"border-b border-gray-200 p-2 dark:border-gray-700"},o0={class:"flex justify-between p-2"},a0={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},r0={key:2},l0={__name:"Religion",props:{data:Object},setup(t){var d,k;const a=t,f=X({religion_id:(d=a.data.religion)==null?void 0:d.id}),_=j(!1),u=j(!1),$=j(a.data.religions),V=j((k=a.data.religion)==null?void 0:k.name),I=()=>{_.value="loading",axios.put(a.data.url.update,f).then(w=>{u.value=!1,_.value="",V.value=w.data.data.religion.name}).catch(()=>{_.value=""})},C=()=>{u.value=!0};return(w,h)=>(s(),o("div",Qu,[e("div",Xu,[e("div",e0,r(w.$t("Religion")),1),u.value?b("",!0):(s(),o("span",{key:0,class:"relative cursor-pointer",onClick:h[0]||(h[0]=x=>C())},h[5]||(h[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-sidebar relative inline h-3 w-3 text-gray-300 hover:text-gray-600 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]))),u.value?(s(),o("span",{key:1,class:"cursor-pointer text-xs text-gray-600 dark:text-gray-400",onClick:h[1]||(h[1]=x=>u.value=!1)},r(w.$t("Close")),1)):b("",!0)]),u.value?(s(),o("div",t0,[e("form",{onSubmit:h[4]||(h[4]=N(x=>I(),["prevent"]))},[e("div",s0,[m(R,{errors:l(f).errors},null,8,["errors"]),m(O,{modelValue:l(f).religion_id,"onUpdate:modelValue":h[2]||(h[2]=x=>l(f).religion_id=x),data:$.value,required:!1,class:S("mb-2"),placeholder:w.$t("Choose a value"),"dropdown-class":"block w-full"},null,8,["modelValue","data","placeholder"])]),e("div",o0,[m(Y,{text:w.$t("Cancel"),class:S("me-3"),onClick:h[3]||(h[3]=x=>u.value=!1)},null,8,["text"]),m(K,{href:"data.url.vault.create",text:w.$t("Save"),state:_.value,icon:"check",class:S("save")},null,8,["text","state"])])],32)])):b("",!0),V.value?(s(),o("p",r0,r(V.value),1)):(s(),o("p",a0,r(w.$t("Not set")),1))]))}},n0=z(l0,[["__scopeId","data-v-e8158e49"]]),d0={class:"mb-10"},i0={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},u0={class:"mb-2 sm:mb-0"},c0={class:"font-semibold"},m0={key:0},b0={class:"mb-4 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},p0={class:"flex items-center text-sm"},h0={class:"me-2"},y0={class:"relative me-3 inline"},g0={key:1,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},f0=["alt"],v0={class:"px-5 pb-5 pt-2 text-center"},k0={__name:"Posts",props:{data:Object},setup(t){return(a,f)=>(s(),o("div",d0,[e("div",i0,[e("div",u0,[f[0]||(f[0]=e("span",{class:"relative me-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"icon-sidebar relative inline h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 3.75V16.5L12 14.25 7.5 16.5V3.75m9 0H18A2.25 2.25 0 0120.25 6v12A2.25 2.25 0 0118 20.25H6A2.25 2.25 0 013.75 18V6A2.25 2.25 0 016 3.75h1.5m9 0h-9"})])],-1)),e("span",c0,r(a.$t("Posts")),1)])]),t.data.length>0?(s(),o("div",m0,[e("ul",b0,[(s(!0),o(D,null,E(t.data,_=>(s(),o("li",{key:_.id,class:"item-list border-b border-gray-200 px-3 py-2 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[m(l(F),{href:_.url.show,class:"mb-2 block text-blue-500 hover:underline"},{default:T(()=>[q(r(_.title),1)]),_:2},1032,["href"]),e("div",p0,[e("p",h0,[q(r(a.$t("in"))+" ",1),m(l(F),{href:_.journal.url.show,class:"text-blue-500 hover:underline"},{default:T(()=>[q(r(_.journal.name),1)]),_:2},1032,["href"])]),e("div",y0,[f[1]||(f[1]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-note relative inline h-3 w-3 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),q(" "+r(_.written_at),1)])])]))),128))])])):b("",!0),t.data.length===0?(s(),o("div",g0,[e("img",{src:"/img/contact_blank_posts.svg",alt:a.$t("Notes"),class:"mx-auto mt-4 h-20 w-20"},null,8,f0),e("p",v0,r(a.$t("There are no posts yet.")),1)])):b("",!0)]))}},_0=z(k0,[["__scopeId","data-v-a02b9102"]]),$0={class:"mb-8 rounded-lg border border-gray-200 bg-gray-50 p-3 shadow-sm dark:border-gray-700 dark:bg-gray-900"},w0={class:"me-1 flex items-center"},x0={class:"text-sm font-bold"},C0={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"me-2 h-4 w-4 cursor-pointer text-gray-400"},V0={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"me-2 h-4 w-4 cursor-pointer text-gray-400"},M0={key:0},S0={class:"mb-4 flex"},I0={class:"list"},j0=["onClick"],U0={key:0},T0={key:0,class:"flex items-center justify-between"},P0={class:"flex items-center"},L0={class:"grow"},q0=["onSubmit"],D0={class:"border-b border-gray-200 p-5 dark:border-gray-700"},E0={class:"flex justify-between p-5"},A0={key:0,class:"ms-2 mt-1"},G0={key:1,class:"mb-2"},H0={class:"px-5 pb-2 text-center"},K0=["alt"],N0={key:2,class:"px-20 py-5 text-center"},B0={class:"border-b border-gray-200 p-5 dark:border-gray-700"},z0={class:"flex justify-between p-5"},F0={__name:"QuickFacts",props:{data:Object},setup(t){const a=t,f=X({content:""}),_=j(!1),u=j(!1),$=j(!1),V=j(a.data.show_quick_facts),I=j(a.data.quick_facts.quick_facts),C=j(a.data.quick_facts.template),d=j(null),k=j(null),w=()=>{axios.put(a.data.url.toggle).then(()=>{V.value=!V.value})},h=()=>{$.value=!0,f.content="",Q().then(()=>d.value.focus())},x=v=>{k.value=v.id,f.content=v.content,Q().then(()=>d.value.focus())},U=v=>{_.value=!0,axios.get(v.url.show).then(c=>{C.value=c.data.data.template,I.value=c.data.data.quick_facts,_.value=!1})},y=()=>{u.value="loading",axios.post(C.value.url.store,f).then(v=>{u.value="",$.value=!1,I.value.push(v.data.data)}).catch(()=>{u.value=""})},M=v=>{u.value="loading",axios.put(v.url.update,f).then(c=>{u.value="",k.value=0,I.value[I.value.findIndex(n=>n.id===v.id)]=c.data.data}).catch(()=>{u.value=""})},W=v=>{axios.delete(v.url.destroy).then(()=>{var c=I.value.findIndex(n=>n.id===v.id);I.value.splice(c,1)})};return(v,c)=>(s(),o("div",$0,[e("div",{onClick:c[0]||(c[0]=n=>w()),class:S(["flex cursor-pointer items-center justify-between",V.value?" mb-4":""])},[e("div",w0,[c[9]||(c[9]=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"relative me-1 inline h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})],-1)),e("p",x0,r(v.$t("Quick facts")),1)]),e("div",null,[V.value?(s(),o("svg",V0,c[11]||(c[11]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"},null,-1)]))):(s(),o("svg",C0,c[10]||(c[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"},null,-1)])))])],2),V.value?(s(),o("div",M0,[e("div",S0,[e("ul",I0,[(s(!0),o(D,null,E(t.data.templates,n=>(s(),o("li",{key:n.id,class:"me-2 inline"},[e("span",{onClick:i=>U(n),class:S([C.value.id===n.id?"rounded border border-gray-200 bg-white font-semibold dark:bg-gray-800":"","cursor-pointer px-2 py-1 text-sm"])},r(n.label),11,j0)]))),128))])]),I.value.length>0&&!_.value?(s(),o("ul",U0,[(s(!0),o(D,null,E(I.value,n=>(s(),o("li",{key:n.id,class:"border-b border-dotted border-gray-300 px-2 py-2 hover:bg-gray-100 hover:dark:bg-gray-800"},[k.value!==n.id?(s(),o("div",T0,[e("div",P0,[c[12]||(c[12]=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"me-1 h-4 w-4 flex-none text-green-600"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",L0,r(n.content),1)]),m(ne,{"show-edit":!0,"show-delete":!0,onEdit:i=>x(n),onDelete:i=>W(n)},null,8,["onEdit","onDelete"])])):b("",!0),k.value===n.id?(s(),o("form",{key:1,class:"mt-2 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900",onSubmit:N(i=>M(n),["prevent"])},[e("div",D0,[m(R,{errors:l(f).errors},null,8,["errors"]),m(G,{ref_for:!0,ref_key:"contentField",ref:d,modelValue:l(f).content,"onUpdate:modelValue":c[1]||(c[1]=i=>l(f).content=i),label:v.$t("Content"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:c[2]||(c[2]=i=>k.value=0)},null,8,["modelValue","label"])]),e("div",E0,[m(Y,{text:v.$t("Cancel"),class:S("me-3"),onClick:c[3]||(c[3]=i=>k.value=0)},null,8,["text"]),m(K,{text:v.$t("Save"),state:u.value,icon:"plus",class:S("save")},null,8,["text","state"])])],40,q0)):b("",!0)]))),128)),$.value?b("",!0):(s(),o("li",A0,[e("span",{onClick:c[4]||(c[4]=n=>h()),class:"cursor-pointer text-blue-500 hover:underline"},r(v.$t("+ add another")),1)]))])):b("",!0),I.value.length===0&&!_.value&&!$.value?(s(),o("div",G0,[e("p",H0,[q(r(v.$t("There are no quick facts here yet."))+" ",1),e("span",{onClick:h,class:"cursor-pointer text-blue-500 hover:underline"},r(v.$t("Add one now")),1)]),e("img",{src:"/img/contact_blank_quick_facts.svg",alt:v.$t("Activity feed"),class:"mx-auto h-20 w-20"},null,8,K0)])):b("",!0),_.value?(s(),o("div",N0,[m(we)])):b("",!0),$.value?(s(),o("form",{key:3,class:"mt-2 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900",onSubmit:c[8]||(c[8]=N(n=>y(),["prevent"]))},[e("div",B0,[m(R,{errors:l(f).errors},null,8,["errors"]),m(G,{ref_key:"contentField",ref:d,modelValue:l(f).content,"onUpdate:modelValue":c[5]||(c[5]=n=>l(f).content=n),label:v.$t("Content"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:c[6]||(c[6]=n=>$.value=!1)},null,8,["modelValue","label"])]),e("div",z0,[m(Y,{text:v.$t("Cancel"),class:S("me-3"),onClick:c[7]||(c[7]=n=>$.value=!1)},null,8,["text"]),m(K,{text:v.$t("Save"),state:u.value,icon:"plus",class:S("save")},null,8,["text","state"])])],32)):b("",!0)])):b("",!0)]))}},R0={class:"bg-white dark:bg-gray-900 sm:mt-20 sm:border-b"},O0={class:"max-w-8xl mx-auto hidden px-4 py-2 sm:px-6 md:block"},Y0={class:"flex items-baseline justify-between space-x-6"},W0={class:"text-sm"},J0={class:"me-2 inline text-gray-600 dark:text-gray-400"},Z0={class:"me-2 inline"},Q0={class:"inline"},X0={class:"sm:mt-18 relative"},ec={class:"mx-auto max-w-6xl px-2 py-2 sm:px-6 sm:py-6 lg:px-8"},tc={key:0,class:"mb-8 rounded-lg border border-gray-300 px-3 py-2 text-center"},sc={class:"special-grid grid grid-cols-1 gap-6 sm:grid-cols-3"},oc={class:"p-3 sm:p-3"},ac={key:0,class:"mb-8"},rc={class:"text-xs"},lc={key:0,class:"mb-2"},nc={key:1,class:"mb-2"},dc={class:"cursor-pointer text-blue-500 hover:underline"},ic={key:2,class:"mb-2"},uc={key:3,class:"mb-2"},cc={class:"mb-2"},mc={class:"mb-2"},bc={class:"mb-2"},pc={key:4},hc={class:"p-3 sm:px-3 sm:py-0"},yc={key:1},gc={class:"mb-6 flex rounded border border-gray-200 p-3 dark:border-gray-700"},fc={class:"me-2 inline"},vc={class:"mb-8 w-full border-b border-gray-200 dark:border-gray-700"},kc={class:"flex overflow-x-hidden"},_c={class:"mb-0 block rounded-sm px-3 py-1 hover:bg-gray-100 hover:dark:bg-gray-900"},$c={key:2},wc={__name:"Show",props:{layoutData:Object,data:Object},setup(t){const a=t,f=X({searchTerm:null,uuid:null,name:null,original_url:null,cdn_url:null,mime_type:null,size:null,errors:[]}),_=j(!1),u=be({processing:!1}),$=j(!1),V=be({processing:!1}),I=()=>{u.processing=!0,axios.delete(a.data.url.destroy).then(x=>{u.processing=!1,localStorage.success=B("The contact has been deleted"),ae.visit(x.data.data)}).catch(x=>{u.processing=!1,f.errors=x.response.data})},C=()=>{V.processing=!0,axios.put(a.data.url.toggle_archive).then(x=>{V.processing=!1,localStorage.success=B("Changes saved"),ae.visit(x.data.data)}).catch(x=>{V.processing=!1,f.errors=x.response.data})},d=x=>{f.uuid=x.uuid,f.name=x.name,f.original_url=x.originalUrl,f.cdn_url=x.cdnUrl,f.mime_type=x.mimeType,f.size=x.size,k()},k=()=>{axios.put(a.data.url.update_avatar,f).then(x=>{ae.visit(x.data.data),J(B("The photo has been added"),"success")}).catch(x=>{f.errors=x.response.data})},w=()=>{axios.delete(a.data.url.destroy_avatar).then(x=>{ae.visit(x.data.data),J(B("Changes saved"),"success")}).catch(x=>{f.errors=x.response.data})},h=()=>{ae.post(a.data.url.download_vcard,null,{preserveScroll:!0,onSuccess:x=>{const U=x.props.jetstream.flash.filename;if(U!==void 0){const y=window.URL.createObjectURL(new Blob([x.props.jetstream.flash.data])),M=document.createElement("a");M.href=y,M.setAttribute("download",U);try{document.body.appendChild(M),M.click()}catch{document.body.removeChild(M)}}}})};return(x,U)=>(s(),L(_e,{"layout-data":t.layoutData,"inside-vault":!0},{default:T(()=>[e("nav",R0,[e("div",O0,[e("div",Y0,[e("ul",W0,[e("li",J0,r(x.$t("You are here:")),1),e("li",Z0,[m(l(F),{href:t.layoutData.vault.url.contacts,class:"text-blue-500 hover:underline"},{default:T(()=>[q(r(x.$t("Contacts")),1)]),_:1},8,["href"])]),U[9]||(U[9]=e("li",{class:"relative me-2 inline"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-breadcrumb relative inline h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1)),e("li",Q0,r(x.$t("Profile of :name",{name:t.data.contact_name.name})),1)])])])]),e("main",X0,[e("div",ec,[t.data.listed?b("",!0):(s(),o("div",tc,[U[10]||(U[10]=e("span",{class:"me-4"}," ðŸ•¸ï¸ ",-1)),q(" "+r(x.$t("The contact is archived"))+" ",1),U[11]||(U[11]=e("span",{class:"ms-4"}," ðŸ•·ï¸ ",-1))])),e("div",sc,[e("div",oc,[t.data.contact_information.length>0?(s(),o("div",ac,[(s(!0),o(D,null,E(t.data.contact_information,y=>(s(),o("div",{key:y.id},[y.type==="avatar"?(s(),L(Ee,{key:0,data:y.data},null,8,["data"])):y.type==="contact_names"?(s(),L(Le,{key:1,data:y.data},null,8,["data"])):y.type==="family_summary"?(s(),L(at,{key:2,data:y.data},null,8,["data"])):y.type==="gender_pronoun"?(s(),L(Ye,{key:3,data:y.data},null,8,["data"])):y.type==="important_dates"?(s(),L(pt,{key:4,data:y.data},null,8,["data"])):y.type==="labels"?(s(),L(St,{key:5,data:y.data},null,8,["data"])):y.type==="company"?(s(),L(ra,{key:6,data:y.data},null,8,["data"])):y.type==="religions"?(s(),L(n0,{key:7,data:y.data},null,8,["data"])):b("",!0)]))),128))])):b("",!0),e("ul",rc,[t.data.avatar.hasFile?(s(),o("li",lc,[e("span",{onClick:U[0]||(U[0]=N(y=>w(),["prevent"])),class:"cursor-pointer text-blue-500 hover:underline"},r(x.$t("Remove avatar")),1)])):b("",!0),t.data.avatar.hasFile?b("",!0):(s(),o("li",nc,[t.data.avatar.uploadcare.publicKey&&t.data.avatar.canUploadFile?(s(),L(ce,{key:0,"public-key":t.data.avatar.uploadcare.publicKey,"secure-signature":t.data.avatar.uploadcare.signature,"secure-expire":t.data.avatar.uploadcare.expire,tabs:"file","preview-step":!1,onSuccess:d,onError:x.onError},{default:T(()=>[e("span",dc,r(x.$t("Upload photo as avatar")),1)]),_:1},8,["public-key","secure-signature","secure-expire","onError"])):b("",!0)])),t.data.listed&&t.data.options.can_be_archived?(s(),o("li",ic,[e("span",{class:"cursor-pointer text-blue-500 hover:underline",onClick:U[1]||(U[1]=y=>$.value=!0)},r(x.$t("Archive contact")),1)])):b("",!0),t.data.listed?b("",!0):(s(),o("li",uc,[e("span",{class:"cursor-pointer text-blue-500 hover:underline",onClick:U[2]||(U[2]=y=>$.value=!0)},r(x.$t("Unarchive contact")),1)])),e("li",cc,[m(l(F),{href:t.data.url.update_template,class:"cursor-pointer text-blue-500 hover:underline"},{default:T(()=>[q(r(x.$t("Change template")),1)]),_:1},8,["href"])]),e("li",mc,[m(l(F),{href:t.data.url.move_contact,class:"cursor-pointer text-blue-500 hover:underline"},{default:T(()=>[q(r(x.$t("Move contact")),1)]),_:1},8,["href"])]),e("li",bc,[m(l(F),{onClick:U[3]||(U[3]=N(y=>h(),["prevent"])),class:"cursor-pointer text-blue-500 hover:underline"},{default:T(()=>[q(r(x.$t("Download as vCard")),1)]),_:1})]),t.data.options.can_be_deleted?(s(),o("li",pc,[e("span",{class:"cursor-pointer text-blue-500 hover:underline",onClick:U[4]||(U[4]=y=>_.value=!0)},r(x.$t("Delete contact")),1)])):b("",!0)])]),e("div",hc,[t.data.quick_fact_template_entries.templates.length>0?(s(),L(F0,{key:0,data:t.data.quick_fact_template_entries},null,8,["data"])):b("",!0),t.data.group_summary_information.length>0?(s(),o("div",yc,[e("div",gc,[U[12]||(U[12]=e("img",{src:"/img/group.svg",class:"me-2 h-6 w-6"},null,-1)),e("ul",null,[e("li",fc,r(x.$t("Part of")),1),(s(!0),o(D,null,E(t.data.group_summary_information,y=>(s(),o("li",{key:y.id,class:"group-list-item me-2 inline"},[m(l(F),{href:y.url.show,class:"text-blue-500 hover:underline"},{default:T(()=>[q(r(y.name),1)]),_:2},1032,["href"])]))),128))])])])):b("",!0),e("div",vc,[e("div",kc,[(s(!0),o(D,null,E(t.data.template_pages,y=>(s(),o("div",{key:y.id,class:"me-2 flex-none"},[m(l(F),{href:y.url.show,class:S([y.selected?"border-orange-500 hover:border-orange-500":"border-transparent hover:border-gray-200 hover:dark:border-gray-700","inline-block border-b-2 px-2 pb-2"])},{default:T(()=>[e("span",_c,r(y.name),1)]),_:2},1032,["href","class"])]))),128))])]),t.data.modules.length>0?(s(),o("div",$c,[(s(!0),o(D,null,E(t.data.modules,y=>(s(),o("div",{key:y.id},[y.type==="notes"?(s(),L($e,{key:0,data:y.data},null,8,["data"])):y.type==="reminders"?(s(),L(qs,{key:1,data:y.data},null,8,["data"])):y.type==="feed"?(s(),L(xe,{key:2,url:y.data},null,8,["url"])):y.type==="loans"?(s(),L(Bo,{key:3,data:y.data,"layout-data":t.layoutData},null,8,["data","layout-data"])):y.type==="relationships"?(s(),L(xa,{key:4,data:y.data},null,8,["data"])):y.type==="tasks"?(s(),L(Qa,{key:5,data:y.data},null,8,["data"])):y.type==="calls"?(s(),L(Pl,{key:6,data:y.data},null,8,["data"])):y.type==="pets"?(s(),L(pn,{key:7,data:y.data},null,8,["data"])):y.type==="goals"?(s(),L(Bn,{key:8,data:y.data},null,8,["data"])):y.type==="addresses"?(s(),L(ci,{key:9,data:y.data},null,8,["data"])):y.type==="groups"?(s(),L(Li,{key:10,data:y.data},null,8,["data"])):y.type==="contact_information"?(s(),L(iu,{key:11,data:y.data},null,8,["data"])):y.type==="documents"?(s(),L(Pu,{key:12,data:y.data},null,8,["data"])):y.type==="photos"?(s(),L(Zu,{key:13,data:y.data},null,8,["data"])):y.type==="posts"?(s(),L(_0,{key:14,data:y.data},null,8,["data"])):y.type==="life_events"?(s(),L(Ce,{key:15,data:y.data,"layout-data":t.layoutData},null,8,["data","layout-data"])):b("",!0)]))),128))])):b("",!0)])])]),m(he,{show:_.value,onClose:U[6]||(U[6]=y=>_.value=!1)},{title:T(()=>[q(r(x.$t("Delete contact")),1)]),content:T(()=>[q(r(x.$t("Are you sure you would like to delete this contact? This will remove everything we know about this contact.")),1)]),footer:T(()=>[m(ie,{onClick:U[5]||(U[5]=y=>_.value=!1)},{default:T(()=>[q(r(x.$t("Cancel")),1)]),_:1}),m(ye,{class:S(["ms-3",{"opacity-25":u.processing}]),disabled:u.processing,onClick:I},{default:T(()=>[q(r(x.$t("Delete")),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"]),m(ve,{show:$.value,onClose:U[8]||(U[8]=y=>$.value=!1)},{title:T(()=>[q(r(x.$t("Archive contact")),1)]),content:T(()=>[q(r(x.$t("Are you sure you would like to archive this contact?")),1)]),footer:T(()=>[m(ie,{onClick:U[7]||(U[7]=y=>$.value=!1)},{default:T(()=>[q(r(x.$t("Cancel")),1)]),_:1}),m(ke,{class:S(["ms-3",{"opacity-25":V.processing}]),disabled:V.processing,onClick:C},{default:T(()=>[q(r(x.$t("Archive")),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])])]),_:1},8,["layout-data"]))}},Zc=z(wc,[["__scopeId","data-v-83ba8db9"]]);export{Zc as default};
