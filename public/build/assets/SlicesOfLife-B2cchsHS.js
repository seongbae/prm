import{T as $,r as v,h as s,a as i,t as d,j as p,b as c,u as m,n as y,l as w,w as S,o as l,d as C,i as V}from"./app-BmMnv7Hf.js";import{E as N}from"./Errors-DkF-M9C7.js";import{P as j}from"./PrettyButton-DJ97II5T.js";import{P as B}from"./PrettySpan-DbeWKi_L.js";import{D as E}from"./Dropdown-fLyjUirY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"mb-8"},D={class:"mb-2 flex items-center justify-between font-bold"},M={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900"},O={class:"border-b border-gray-200 p-2 dark:border-gray-700"},T={class:"flex justify-between p-2"},q={key:0,class:"border-t border-gray-200 p-2 dark:border-gray-700"},z={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},L={key:2},J={__name:"SlicesOfLife",props:{data:Object},setup(k){var g;const n=k,r=$({slice_of_life_id:(g=n.data.slice)==null?void 0:g.id}),f=v(!1),a=v(!1),b=v(n.data.slices),o=v(n.data.slice),h=()=>{a.value=!0},_=()=>{f.value="loading",axios.put(n.data.url.slice_store,r).then(e=>{a.value=!1,f.value="",o.value=e.data.data}).catch(()=>{f.value=""})},x=()=>{r.slice_of_life_id=null,axios.delete(n.data.url.slice_reset,r).then(()=>{a.value=!1,o.value=null})};return(e,t)=>(l(),s("div",P,[i("p",D,[i("span",null,d(e.$t("Slices of life")),1),!a.value&&b.value.length>0?(l(),s("span",{key:0,class:"relative cursor-pointer text-xs text-gray-600 dark:text-gray-400",onClick:h},d(e.$t("Edit")),1)):p("",!0),a.value?(l(),s("span",{key:1,class:"cursor-pointer text-xs text-gray-600 dark:text-gray-400",onClick:t[0]||(t[0]=u=>a.value=!1)},d(e.$t("Close")),1)):p("",!0)]),a.value&&b.value.length>0?(l(),s("div",M,[i("form",{onSubmit:t[4]||(t[4]=w(u=>_(),["prevent"]))},[i("div",O,[c(N,{errors:m(r).errors},null,8,["errors"]),c(E,{modelValue:m(r).slice_of_life_id,"onUpdate:modelValue":t[1]||(t[1]=u=>m(r).slice_of_life_id=u),data:b.value,required:!1,class:y("mb-2"),placeholder:e.$t("Choose a value"),"dropdown-class":"block w-full"},null,8,["modelValue","data","placeholder"])]),i("div",T,[c(B,{text:e.$t("Cancel"),class:y("me-3"),onClick:t[2]||(t[2]=u=>a.value=!1)},null,8,["text"]),c(j,{href:"data.url.vault.create",text:e.$t("Save"),state:f.value,icon:"check",class:y("save")},null,8,["text","state"])]),o.value?(l(),s("div",q,[i("p",{class:"cursor-pointer text-sm text-blue-500 hover:underline",onClick:t[3]||(t[3]=u=>x())},d(e.$t("Or remove the slice")),1)])):p("",!0)],32)])):p("",!0),o.value?(l(),s("div",L,[c(m(V),{href:o.value.url.show,class:"text-blue-500 hover:underline"},{default:S(()=>[C(d(o.value.name),1)]),_:1},8,["href"])])):(l(),s("p",z,d(e.$t("Not set")),1))]))}};export{J as default};
