import{i as S,H as c,c as x,w as b,o as a,a as e,t as n,b as l,d as f,j as m,h as i,n as p,l as g,F as T,k as M}from"./app-BmMnv7Hf.js";import{L as C}from"./Layout-Csq83W0y.js";import{P as I}from"./PrettyButton-DJ97II5T.js";import{P as j}from"./PrettySpan-DbeWKi_L.js";import{T as V}from"./TextInput-DPfNN3hz.js";import{E as $}from"./Errors-DkF-M9C7.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={components:{InertiaLink:S,Layout:C,PrettyButton:I,PrettySpan:j,TextInput:V,Errors:$},props:{layoutData:{type:Object,default:null},data:{type:Object,default:null}},data(){return{loadingState:"",createAddressTypeModalShown:!1,renameAddressTypeModalShownId:0,localAddressTypes:[],form:{name:"",errors:[]}}},mounted(){this.localAddressTypes=this.data.address_types},methods:{showAddressTypeModal(){this.form.name="",this.createAddressTypeModalShown=!0,this.renameAddressTypeModalShownId=0,this.$nextTick().then(()=>{this.$refs.newAddressType.focus()})},updateAdressTypeModal(s){this.form.name=s.name,this.renameAddressTypeModalShownId=s.id,this.createAddressTypeModalShown=!1,this.$nextTick().then(()=>{this.$refs.rename[0].focus()})},submit(){this.loadingState="loading",axios.post(this.data.url.address_type_store,this.form).then(s=>{this.flash(this.$t("The address type has been created"),"success"),this.localAddressTypes.unshift(s.data.data),this.loadingState=null,this.createAddressTypeModalShown=!1}).catch(s=>{this.loadingState=null,this.form.errors=s.response.data})},update(s){this.loadingState="loading",axios.put(s.url.update,this.form).then(t=>{this.flash(this.$t("The address type has been updated"),"success"),this.localAddressTypes[this.localAddressTypes.findIndex(d=>d.id===s.id)]=t.data.data,this.loadingState=null,this.renameAddressTypeModalShownId=0}).catch(t=>{this.loadingState=null,this.form.errors=t.response.data})},destroy(s){confirm(this.$t("Are you sure? This will remove the address types from all contacts, but won’t delete the contacts themselves."))&&axios.delete(s.url.destroy).then(()=>{this.flash(this.$t("The address type has been deleted"),"success");var t=this.localAddressTypes.findIndex(d=>d.id===s.id);this.localAddressTypes.splice(t,1)}).catch(t=>{this.loadingState=null,this.form.errors=t.response.data})}}},L={class:"bg-white dark:bg-gray-900 sm:border-b"},N={class:"max-w-8xl mx-auto hidden px-4 py-2 sm:px-6 md:block"},E={class:"flex items-baseline justify-between space-x-6"},D={class:"text-sm"},z={class:"me-2 inline text-gray-600 dark:text-gray-400"},q={class:"me-2 inline"},F={class:"me-2 inline"},K={class:"inline"},O={class:"relative sm:mt-20"},R={class:"mx-auto max-w-3xl px-2 py-2 sm:px-6 sm:py-6 lg:px-8"},U={class:"mb-6 mt-8 items-center justify-between sm:mt-0 sm:flex"},H={class:"mb-4 sm:mb-0"},Y={class:"border-b border-gray-200 p-5 dark:border-gray-700"},G={class:"flex justify-between p-5"},J={key:1,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Q={key:0,class:"flex items-center justify-between px-5 py-2"},W={class:"text-base"},X={class:"text-sm"},Z=["onClick"],ee={class:"text-blue-500 hover:underline"},se=["onClick"],te=["onSubmit"],re={class:"border-b border-gray-200 p-5 dark:border-gray-700"},oe={class:"flex justify-between p-5"},le={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},ae={class:"p-5 text-center"};function ne(s,t,d,de,r,h){const k=c("InertiaLink"),y=c("pretty-button"),w=c("errors"),_=c("text-input"),v=c("pretty-span"),A=c("layout");return a(),x(A,{"layout-data":d.layoutData},{default:b(()=>[e("nav",L,[e("div",N,[e("div",E,[e("ul",D,[e("li",z,n(s.$t("You are here:")),1),e("li",q,[l(k,{href:d.data.url.settings,class:"text-blue-500 hover:underline"},{default:b(()=>[f(n(s.$t("Settings")),1)]),_:1},8,["href"])]),t[7]||(t[7]=e("li",{class:"relative me-2 inline"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-breadcrumb relative inline h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1)),e("li",F,[l(k,{href:d.data.url.personalize,class:"text-blue-500 hover:underline"},{default:b(()=>[f(n(s.$t("Personalize your account")),1)]),_:1},8,["href"])]),t[8]||(t[8]=e("li",{class:"relative me-2 inline"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-breadcrumb relative inline h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1)),e("li",K,n(s.$t("Address types")),1)])])])]),e("main",O,[e("div",R,[e("div",U,[e("h3",H,[t[9]||(t[9]=e("span",{class:"me-1"}," 🏖 ",-1)),f(" "+n(s.$t("All the address types")),1)]),r.createAddressTypeModalShown?m("",!0):(a(),x(y,{key:0,text:s.$t("Add an address type"),icon:"plus",onClick:h.showAddressTypeModal},null,8,["text","onClick"]))]),r.createAddressTypeModalShown?(a(),i("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900",onSubmit:t[3]||(t[3]=g(o=>h.submit(),["prevent"]))},[e("div",Y,[l(w,{errors:r.form.errors},null,8,["errors"]),l(_,{ref:"newAddressType",modelValue:r.form.name,"onUpdate:modelValue":t[0]||(t[0]=o=>r.form.name=o),label:s.$t("Name"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:t[1]||(t[1]=o=>r.createAddressTypeModalShown=!1)},null,8,["modelValue","label"])]),e("div",G,[l(v,{text:s.$t("Cancel"),class:p("me-3"),onClick:t[2]||(t[2]=o=>r.createAddressTypeModalShown=!1)},null,8,["text"]),l(y,{text:s.$t("Add"),state:r.loadingState,icon:"plus",class:p("save")},null,8,["text","state"])])],32)):m("",!0),r.localAddressTypes.length>0?(a(),i("ul",J,[(a(!0),i(T,null,M(r.localAddressTypes,o=>(a(),i("li",{key:o.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[r.renameAddressTypeModalShownId!==o.id?(a(),i("div",Q,[e("span",W,n(o.name),1),e("ul",X,[e("li",{class:"me-4 inline cursor-pointer",onClick:u=>h.updateAdressTypeModal(o)},[e("span",ee,n(s.$t("Rename")),1)],8,Z),e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:u=>h.destroy(o)},n(s.$t("Delete")),9,se)])])):m("",!0),r.renameAddressTypeModalShownId===o.id?(a(),i("form",{key:1,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800",onSubmit:g(u=>h.update(o),["prevent"])},[e("div",re,[l(w,{errors:r.form.errors},null,8,["errors"]),l(_,{ref_for:!0,ref:"rename",modelValue:r.form.name,"onUpdate:modelValue":t[4]||(t[4]=u=>r.form.name=u),label:s.$t("Name"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:t[5]||(t[5]=u=>r.renameAddressTypeModalShownId=0)},null,8,["modelValue","label"])]),e("div",oe,[l(v,{text:s.$t("Cancel"),class:p("me-3"),onClick:t[6]||(t[6]=g(u=>r.renameAddressTypeModalShownId=0,["prevent"]))},null,8,["text"]),l(y,{text:s.$t("Rename"),state:r.loadingState,icon:"check",class:p("save")},null,8,["text","state"])])],40,te)):m("",!0)]))),128))])):m("",!0),r.localAddressTypes.length===0?(a(),i("div",le,[e("p",ae,n(s.$t("Address types let you classify contact addresses.")),1)])):m("",!0)])])]),_:1},8,["layout-data"])}const be=B(P,[["render",ne],["__scopeId","data-v-4897db11"]]);export{be as default};
