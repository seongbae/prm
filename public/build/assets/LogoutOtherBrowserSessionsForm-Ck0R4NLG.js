import{r as y,T as $,c as b,w as r,o as l,d as n,t as e,a as o,h as i,F as x,k as B,j as S,b as d,u,B as C,n as L,A as _}from"./app-BmMnv7Hf.js";import{_ as M}from"./ActionMessage-CuI3AN2E.js";import{_ as O}from"./ActionSection-BsM9aqa2.js";import{_ as g}from"./Button-BWK-thSE.js";import{_ as V}from"./DialogModal-BdRnJ9VP.js";import{_ as F}from"./Input-CLHvIp3o.js";import{_ as I}from"./InputError-CqlclkzZ.js";import{_ as N}from"./SecondaryButton-3_x4XnxO.js";import"./SectionTitle-f8TQ5xLi.js";import"./PrettyButton-DJ97II5T.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-COqoaAX8.js";const T={class:"max-w-xl text-sm text-gray-600 dark:text-gray-400"},j={key:0,class:"mt-5 space-y-6"},z={key:0,fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor",class:"h-8 w-8 text-gray-500"},U={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"h-8 w-8 text-gray-500"},A={class:"ms-3"},D={class:"text-sm text-gray-600 dark:text-gray-400"},E={class:"text-xs text-gray-500"},H={key:0,class:"font-semibold text-green-500"},K={key:1},P={class:"mt-5 flex items-center"},q={class:"mt-4"},rs={__name:"LogoutOtherBrowserSessionsForm",props:{sessions:Array},setup(h){const m=y(!1),p=y(null),a=$({password:""}),v=()=>{m.value=!0,_().then(()=>p.value.focus())},w=()=>{a.delete(route("other-browser-sessions.destroy"),{preserveScroll:!0,onSuccess:()=>f(),onError:()=>_().then(()=>p.value.focus()),onFinish:()=>a.reset()})},f=()=>{m.value=!1,a.reset()};return(s,c)=>(l(),b(O,null,{title:r(()=>[n(e(s.$t("Browser Sessions")),1)]),description:r(()=>[n(e(s.$t("Manage and log out your active sessions on other browsers and devices.")),1)]),content:r(()=>[o("div",T,e(s.$t("If necessary, you may log out of all of your other browser sessions across all of your devices. Some of your recent sessions are listed below; however, this list may not be exhaustive. If you feel your account has been compromised, you should also update your password.")),1),h.sessions.length>0?(l(),i("div",j,[(l(!0),i(x,null,B(h.sessions,(t,k)=>(l(),i("div",{key:k,class:"flex items-center"},[o("div",null,[t.agent.is_desktop?(l(),i("svg",z,c[1]||(c[1]=[o("path",{d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},null,-1)]))):(l(),i("svg",U,c[2]||(c[2]=[o("path",{d:"M0 0h24v24H0z",stroke:"none"},null,-1),o("rect",{x:"7",y:"4",width:"10",height:"16",rx:"1"},null,-1),o("path",{d:"M11 5h2M12 17v.01"},null,-1)])))]),o("div",A,[o("div",D,e(t.agent.platform?t.agent.platform:s.$t("Unknown"))+" - "+e(t.agent.browser?t.agent.browser:s.$t("Unknown")),1),o("div",null,[o("div",E,[n(e(t.ip_address)+", ",1),t.is_current_device?(l(),i("span",H,e(s.$t("This device")),1)):(l(),i("span",K,e(s.$t("Last active :date",{date:t.last_active})),1))])])])]))),128))])):S("",!0),o("div",P,[d(g,{onClick:v},{default:r(()=>[n(e(s.$t("Log Out Other Browser Sessions")),1)]),_:1}),d(M,{on:u(a).recentlySuccessful,class:"ms-3"},{default:r(()=>[n(e(s.$t("Done.")),1)]),_:1},8,["on"])]),d(V,{show:m.value,onClose:f},{title:r(()=>[n(e(s.$t("Log Out Other Browser Sessions")),1)]),content:r(()=>[n(e(s.$t("Please enter your password to confirm you would like to log out of your other browser sessions across all of your devices."))+" ",1),o("div",q,[d(F,{ref_key:"passwordInput",ref:p,modelValue:u(a).password,"onUpdate:modelValue":c[0]||(c[0]=t=>u(a).password=t),type:"password",class:"mt-1 block w-3/4",placeholder:s.$t("Password"),onKeyup:C(w,["enter"])},null,8,["modelValue","placeholder"]),d(I,{message:u(a).errors.password,class:"mt-2"},null,8,["message"])])]),footer:r(()=>[d(N,{onClick:f},{default:r(()=>[n(e(s.$t("Cancel")),1)]),_:1}),d(g,{class:L(["ms-3",{"opacity-25":u(a).processing}]),disabled:u(a).processing,onClick:w},{default:r(()=>[n(e(s.$t("Log Out Other Browser Sessions")),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]),_:1}))}};export{rs as default};
