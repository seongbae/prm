import{T as x,c as b,w as m,o as s,a as e,d as n,t as r,h as o,b as i,u as c,i as f,j as u,F as _,k as g,n as k,p,q as w}from"./app-BmMnv7Hf.js";import{L as V}from"./Layout-Csq83W0y.js";import{P as $}from"./PrettyLink-DUWQkaT1.js";import{_ as D}from"./Avatar-D1zkgQk9.js";import{_ as j}from"./Pagination-nQbjI23B.js";import{D as C}from"./Dropdown-fLyjUirY.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"relative sm:mt-24"},B={class:"mx-auto max-w-6xl px-2 py-2 sm:px-6 sm:py-6 lg:px-8"},F={class:"special-grid grid grid-cols-1 gap-6 sm:grid-cols-3"},I={class:"mb-8"},O={class:"mb-3 border-b border-gray-200 dark:border-gray-700"},q={key:0},A={class:"mb-1"},P={key:0},S={key:1},T={key:0},z={class:"text-sm text-gray-500"},E={key:1},U={class:"text-sm text-gray-500"},G={key:1,class:"text-sm text-gray-500"},H={class:"p-3 sm:px-3 sm:py-0"},J={class:"mb-3 flex items-center justify-between"},K={class:"flex items-center"},M={class:"contact-list mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Q={__name:"Index",props:{layoutData:Object,data:Object,paginator:Object},setup(a){const y=a,h=x({sort_order:y.data.user_contact_sort_order}),v=()=>{axios.put(y.data.url.sort.update,h).then(d=>{localStorage.success=p("Changes saved"),w.visit(d.data.data)})};return(d,l)=>(s(),b(V,{"layout-data":a.layoutData,"inside-vault":!0},{default:m(()=>[e("main",N,[e("div",B,[e("div",F,[e("div",null,[e("div",I,[e("div",O,[l[2]||(l[2]=e("span",{class:"me-1"}," 🏷️ ",-1)),n(" "+r(d.$t("Labels")),1)]),a.data.labels.length>0?(s(),o("ul",q,[e("li",A,[a.data.current_label?(s(),o("div",P,[i(c(f),{href:a.data.url.contact.index,class:"text-blue-500 hover:underline"},{default:m(()=>[n(r(d.$t("View all")),1)]),_:1},8,["href"])])):u("",!0),a.data.current_label?u("",!0):(s(),o("div",S,r(d.$t("View all")),1))]),(s(!0),o(_,null,g(a.data.labels,t=>(s(),o("li",{key:t.id,class:"mb-1"},[t.id!==a.data.current_label?(s(),o("div",T,[i(c(f),{href:t.url.show,class:"text-blue-500 hover:underline"},{default:m(()=>[n(r(t.name),1)]),_:2},1032,["href"]),e("span",z,"("+r(t.count)+")",1)])):u("",!0),t.id===a.data.current_label?(s(),o("div",E,[n(r(t.name)+" ",1),e("span",U,"("+r(t.count)+")",1)])):u("",!0)]))),128))])):(s(),o("p",G,r(d.$t("No labels yet.")),1))])]),e("div",H,[e("div",J,[e("h3",null,[l[3]||(l[3]=e("span",{class:"me-1"}," 🥸 ",-1)),n(" "+r(d.$t("All contacts in the vault")),1)]),e("div",K,[i(C,{modelValue:c(h).sort_order,"onUpdate:modelValue":l[0]||(l[0]=t=>c(h).sort_order=t),data:a.data.contact_sort_orders,required:!1,"dropdown-class":"block w-full me-2",onChange:l[1]||(l[1]=t=>v())},null,8,["modelValue","data"]),a.layoutData.vault.permission.at_least_editor?(s(),b($,{key:0,href:a.data.url.contact.create,text:d.$t("Add a contact"),class:"ms-3",icon:"plus"},null,8,["href","text"])):u("",!0)])]),e("ul",M,[(s(!0),o(_,null,g(a.data.contacts,t=>(s(),o("li",{key:t.id,class:"flex items-center border-b border-gray-200 px-5 py-2 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[i(D,{data:t.avatar,class:k("me-2 h-5 w-5 rounded-full")},null,8,["data"]),i(c(f),{href:t.url.show,class:"text-blue-500 hover:underline"},{default:m(()=>[n(r(t.name),1)]),_:2},1032,["href"])]))),128))]),i(j,{items:a.paginator},null,8,["items"])])])])])]),_:1},8,["layout-data"]))}},at=L(Q,[["__scopeId","data-v-1312a238"]]);export{at as default};
