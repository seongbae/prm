import{r as m,T as k,h as u,a as t,t as c,b as r,c as h,j as _,l as x,u as p,n as f,o as d,m as $,p as C,b$ as w,c0 as L}from"./app-BmMnv7Hf.js";import{P as v}from"./PrettyButton-DJ97II5T.js";import{P as V}from"./PrettyLink-DUWQkaT1.js";import{E as B}from"./Errors-DkF-M9C7.js";import{_ as S}from"./Help-D0DKBJOE.js";import{D as j}from"./Dropdown-fLyjUirY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BX-obcj7.js";const E={class:"mb-16"},N={class:"mb-3 mt-8 items-center justify-between sm:mt-0 sm:flex"},P={class:"mb-4 flex font-semibold sm:mb-0"},A={class:"me-2"},D={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},M={class:"px-5 py-2"},q={class:"mb-2 block"},z={class:"mb-2 block rounded bg-slate-100 px-5 py-2 text-sm dark:bg-slate-900"},O={class:"border-b border-gray-200 px-5 py-2 dark:border-gray-700"},R={class:"flex justify-between p-5"},Q={__name:"Locale",props:{data:Object},setup(b){const i=b,l=m(""),o=m(!1),g=m(i.data.name),s=k({locale:i.data.id,errors:[]}),y=()=>{l.value="loading",axios.post(i.data.url.store,s.data()).then(e=>{$(C("Changes saved"),"success"),g.value=e.data.data.name,o.value=!1,l.value=null,w()!==s.locale&&(L(e.data.data.id),document.getRootNode().querySelector("html").setAttribute("dir",e.data.data.dir))}).catch(e=>{l.value=null,s.errors=e.response.data})};return(e,a)=>(d(),u("div",E,[t("div",N,[t("h3",P,[a[4]||(a[4]=t("span",{class:"me-1"}," ðŸ—“ ",-1)),t("span",A,c(e.$t("Language of the application")),1),r(S,{url:e.$page.props.help_links.settings_preferences_language,top:"5px"},null,8,["url"])]),o.value?_("",!0):(d(),h(v,{key:0,text:e.$t("Edit"),onClick:a[0]||(a[0]=n=>o.value=!0)},null,8,["text"]))]),o.value?(d(),u("form",{key:1,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 bg-white dark:border-gray-700 dark:bg-gray-900",onSubmit:a[3]||(a[3]=x(n=>y(),["prevent"]))},[t("div",O,[r(B,{errors:p(s).errors},null,8,["errors"]),r(j,{modelValue:p(s).locale,"onUpdate:modelValue":a[1]||(a[1]=n=>p(s).locale=n),name:"locale",data:b.data.locales},null,8,["modelValue","data"])]),t("div",R,[r(V,{text:e.$t("Cancel"),class:f("me-3"),onClick:a[2]||(a[2]=n=>o.value=!1)},null,8,["text"]),r(v,{text:e.$t("Save"),state:l.value,icon:"check",class:f("save")},null,8,["text","state"])])],32)):(d(),u("div",D,[t("p",M,[t("span",q,c(e.$t("Current language:")),1),t("span",z,c(g.value),1)])]))]))}};export{Q as default};
