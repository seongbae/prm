import{L as x}from"./Layout-Csq83W0y.js";import{T as k}from"./TextInput-DPfNN3hz.js";import v from"./Contact-CFHbWulB.js";import T from"./Note-D60AGH93.js";import S from"./Group-Bn33V5IP.js";import{H as o,c as w,w as V,o as n,a as r,l as j,t as u,b as s,h as d,j as i}from"./app-BmMnv7Hf.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={components:{Layout:x,TextInput:k,Contact:v,Note:T,Group:S},props:{layoutData:{type:Object,default:null},data:{type:Object,default:null}},data(){return{processingSearch:!1,form:{searchTerm:"",errors:[]},results:[]}},mounted(){this.$nextTick().then(()=>{this.$refs.searchField.focus()})},methods:{search:_.debounce(function(){this.form.searchTerm!==""&&this.form.searchTerm.length>=3?(this.processingSearch=!0,axios.post(this.data.url.search,this.form).then(t=>{this.results=t.data.data,this.processingSearch=!1}).catch(t=>{this.form.errors=t.response.data,this.processingSearch=!1})):this.results=[]},300)}},N={class:"relative sm:mt-24"},D={class:"mx-auto max-w-4xl px-2 py-2 sm:px-6 sm:py-6 lg:px-8"},O={class:"section-head border-b border-gray-200 bg-blue-50 p-5 dark:border-gray-700 dark:bg-blue-900"},F={class:"text-center text-2xl font-medium"},I={class:"p-5"},K={key:0},L={key:1,class:"mb-6 rounded-lg border border-gray-200 bg-white p-6 text-center text-gray-500 dark:border-gray-700 dark:bg-gray-900"},q={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white p-6 text-center text-gray-500 dark:border-gray-700 dark:bg-gray-900"};function E(t,a,m,G,e,c){const h=o("text-input"),p=o("contact"),g=o("group"),f=o("note"),b=o("loading"),y=o("layout");return n(),w(y,{"layout-data":m.layoutData,"inside-vault":!0},{default:V(()=>[r("main",N,[r("div",D,[r("form",{class:"mb-8 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900",onSubmit:a[1]||(a[1]=j((...l)=>c.search&&c.search(...l),["prevent"]))},[r("div",O,[r("h1",F,u(t.$t("Search something in the vault")),1)]),r("div",I,[s(h,{ref:"searchField",modelValue:e.form.searchTerm,"onUpdate:modelValue":a[0]||(a[0]=l=>e.form.searchTerm=l),type:"text",autofocus:!0,"input-class":"block w-full",placeholder:t.$t("Type something"),required:!0,autocomplete:!1,maxlength:255,onKeyup:c.search},null,8,["modelValue","placeholder","onKeyup"])])],32),!e.processingSearch&&Object.keys(e.results).length!==0?(n(),d("div",K,[s(p,{data:e.results.contacts},null,8,["data"]),s(g,{data:e.results.groups},null,8,["data"]),s(f,{data:e.results.notes},null,8,["data"])])):i("",!0),e.processingSearch?(n(),d("div",L,[s(b)])):i("",!0),e.form.searchTerm.length<3?(n(),d("div",q,[r("p",null,u(t.$t("Please enter at least 3 characters to initiate a search.")),1)])):i("",!0)])])]),_:1},8,["layout-data"])}const Q=B(C,[["render",E]]);export{Q as default};
