import{T as N,r as b,c as $,w as t,o as v,d as i,t as u,h as B,a as r,b as s,x as y,C as P,D as F,l as w,j as k,u as o,n as j,q as D}from"./app-BmMnv7Hf.js";import{_ as R}from"./Button-BWK-thSE.js";import{_ as T}from"./FormSection-Bek7E_Q1.js";import{_ as h}from"./Input-CLHvIp3o.js";import{_ as d}from"./InputError-CqlclkzZ.js";import{_ as f}from"./Label-DWTE4-tY.js";import{_ as z}from"./ActionMessage-CuI3AN2E.js";import{_ as V}from"./SecondaryButton-3_x4XnxO.js";import"./SectionTitle-f8TQ5xLi.js";import"./PrettyButton-DJ97II5T.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={key:0,class:"col-span-6 sm:col-span-4"},E={class:"mt-2"},L=["src","alt"],q={class:"mt-2"},M={class:"col-span-6 mb-4 sm:col-span-4"},O={class:"col-span-6 mb-4 sm:col-span-4"},G={class:"col-span-6 mb-4 sm:col-span-4"},se={__name:"UpdateProfileInformationForm",props:{user:Object},setup(p){const _=p,a=N({_method:"PUT",first_name:_.user.first_name,last_name:_.user.last_name,email:_.user.email,photo:null}),c=b(null),n=b(null),S=()=>{n.value&&(a.photo=n.value.files[0]),a.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>g()})},C=()=>{n.value.click()},I=()=>{const e=n.value.files[0];if(!e)return;const l=new FileReader;l.onload=m=>{c.value=m.target.result},l.readAsDataURL(e)},U=()=>{D.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{c.value=null,g()}})},g=()=>{var e;(e=n.value)!=null&&e.value&&(n.value.value=null)};return(e,l)=>(v(),$(T,{onSubmitted:S},{title:t(()=>[i(u(e.$t("Profile Information")),1)]),description:t(()=>[i(u(e.$t("Update your account's profile information and email address.")),1)]),form:t(()=>[e.$page.props.jetstream.managesProfilePhotos?(v(),B("div",A,[r("input",{ref_key:"photoInput",ref:n,type:"file",class:"hidden",onChange:I},null,544),s(f,{for:"photo",":value":e.$t("Photo")},null,8,[":value"]),y(r("div",E,[r("img",{src:p.user.profile_photo_url,alt:p.user.name,class:"h-20 w-20 rounded-full object-cover"},null,8,L)],512),[[P,!c.value]]),y(r("div",q,[r("span",{class:"block h-20 w-20 rounded-full bg-cover bg-center bg-no-repeat",style:F("background-image: url('"+c.value+"');")},null,4)],512),[[P,c.value]]),s(V,{class:"me-2 mt-2",type:"button",onClick:w(C,["prevent"])},{default:t(()=>[i(u(e.$t("Select A New Photo")),1)]),_:1}),p.user.profile_photo_path?(v(),$(V,{key:0,type:"button",class:"mt-2",onClick:w(U,["prevent"])},{default:t(()=>[i(u(e.$t("Remove Photo")),1)]),_:1})):k("",!0),s(d,{message:o(a).errors.photo,class:"mt-2"},null,8,["message"])])):k("",!0),r("div",M,[s(f,{for:"first_name",value:e.$t("First name")},null,8,["value"]),s(h,{id:"first_name",modelValue:o(a).first_name,"onUpdate:modelValue":l[0]||(l[0]=m=>o(a).first_name=m),type:"text",class:"mt-1 block w-full",autocomplete:"firstname"},null,8,["modelValue"]),s(d,{message:o(a).errors.first_name,class:"mt-2"},null,8,["message"])]),r("div",O,[s(f,{for:"last_name",value:e.$t("Last name")},null,8,["value"]),s(h,{id:"last_name",modelValue:o(a).last_name,"onUpdate:modelValue":l[1]||(l[1]=m=>o(a).last_name=m),type:"text",class:"mt-1 block w-full",autocomplete:"lastname"},null,8,["modelValue"]),s(d,{message:o(a).errors.last_name,class:"mt-2"},null,8,["message"])]),r("div",G,[s(f,{for:"email",value:e.$t("Email")},null,8,["value"]),s(h,{id:"email",modelValue:o(a).email,"onUpdate:modelValue":l[2]||(l[2]=m=>o(a).email=m),type:"email",class:"mt-1 block w-full",autocomplete:"email"},null,8,["modelValue"]),s(d,{message:o(a).errors.email,class:"mt-2"},null,8,["message"])])]),actions:t(()=>[s(z,{on:o(a).recentlySuccessful,class:"me-3"},{default:t(()=>[i(u(e.$t("Saved.")),1)]),_:1},8,["on"]),s(R,{class:j({"opacity-25":o(a).processing}),disabled:o(a).processing},{default:t(()=>[i(u(e.$t("Save")),1)]),_:1},8,["class","disabled"])]),_:1}))}};export{se as default};
