import{r as h,T as $,c as x,w as g,o as l,a as e,t as r,b as o,d as v,u as d,i as p,j as c,h as u,n as k,l as S,F as C,k as B}from"./app-BmMnv7Hf.js";import{L}from"./Layout-Csq83W0y.js";import{P as w}from"./PrettyButton-DJ97II5T.js";import{P as V}from"./PrettySpan-DbeWKi_L.js";import{T as O}from"./TextInput-DPfNN3hz.js";import{E as M}from"./Errors-DkF-M9C7.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"bg-white dark:bg-gray-900 sm:mt-20 sm:border-b"},D={class:"max-w-8xl mx-auto hidden px-4 py-2 sm:px-6 md:block"},E={class:"flex items-baseline justify-between space-x-6"},I={class:"text-sm"},T={class:"me-2 inline text-gray-600 dark:text-gray-400"},F={class:"me-2 inline"},J={class:"relative me-2 inline"},q={class:"inline"},z={class:"sm:mt-18 relative"},A={class:"mx-auto max-w-4xl px-2 py-2 sm:px-6 sm:py-6 lg:px-8"},G={class:"mb-6 flex items-center justify-between"},K={class:"border-b border-gray-200 p-5 dark:border-gray-700"},U={class:"flex justify-between p-5"},Y={key:1},H={class:"slice-list mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Q={key:0,class:"mt-1 block text-xs"},R={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},W=["alt"],X={class:"px-5 pb-5 pt-2 text-center"},Z={__name:"Index",props:{layoutData:Object,data:Object},setup(n){const y=n,f=h(y.data.slicesOfLife),b=h(""),i=h(!1),m=$({name:""}),_=()=>{m.name="",i.value=!0},j=()=>{b.value="loading",axios.post(y.data.url.store,m).then(a=>{i.value=!1,b.value="",f.value.unshift(a.data.data)}).catch(()=>{b.value=""})};return(a,t)=>(l(),x(L,{"layout-data":n.layoutData,"inside-vault":!0},{default:g(()=>[e("nav",P,[e("div",D,[e("div",E,[e("ul",I,[e("li",T,r(a.$t("You are here:")),1),e("li",F,[o(d(p),{href:n.layoutData.vault.url.journals,class:"text-blue-500 hover:underline"},{default:g(()=>[v(r(a.$t("Journals")),1)]),_:1},8,["href"])]),t[4]||(t[4]=e("li",{class:"relative me-2 inline"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-breadcrumb relative inline h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1)),e("li",J,[o(d(p),{href:n.data.journal.url.show,class:"text-blue-500 hover:underline"},{default:g(()=>[v(r(n.data.journal.name),1)]),_:1},8,["href"])]),t[5]||(t[5]=e("li",{class:"relative me-2 inline"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-breadcrumb relative inline h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1)),e("li",q,r(a.$t("Slices of life")),1)])])])]),e("main",z,[e("div",A,[e("div",G,[e("h3",null,[t[6]||(t[6]=e("span",{class:"me-1"}," 🍕 ",-1)),v(" "+r(a.$t("All the slices of life in :name",{name:n.data.journal.name})),1)]),i.value?c("",!0):(l(),x(w,{key:0,onClick:_,text:a.$t("Create a slice of life"),icon:"plus"},null,8,["text"]))]),i.value?(l(),u("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900",onSubmit:t[3]||(t[3]=S(s=>j(),["prevent"]))},[e("div",K,[o(M,{errors:d(m).errors},null,8,["errors"]),o(O,{ref:"newSliceOfLife",modelValue:d(m).name,"onUpdate:modelValue":t[0]||(t[0]=s=>d(m).name=s),label:a.$t("Name"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:t[1]||(t[1]=s=>i.value=!1)},null,8,["modelValue","label"])]),e("div",U,[o(V,{text:a.$t("Cancel"),class:k("me-3"),onClick:t[2]||(t[2]=s=>i.value=!1)},null,8,["text"]),o(w,{text:a.$t("Save"),state:b.value,icon:"plus",class:k("save")},null,8,["text","state"])])],32)):c("",!0),f.value.length!==0?(l(),u("div",Y,[e("ul",H,[(l(!0),u(C,null,B(f.value,s=>(l(),u("li",{key:s.id,class:"border-b border-gray-200 px-5 py-4 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[o(d(p),{href:s.url.show,class:"text-blue-500 hover:underline"},{default:g(()=>[v(r(s.name),1)]),_:2},1032,["href"]),s.date_range?(l(),u("span",Q,r(s.date_range),1)):c("",!0)]))),128))])])):c("",!0),f.value.length===0?(l(),u("div",R,[e("img",{src:"/img/journal_slice_of_life_blank.svg",alt:a.$t("Journal"),class:"mx-auto mt-4 h-44 w-44"},null,8,W),e("p",X,r(a.$t("Group journal entries together with slices of life.")),1)])):c("",!0)])])]),_:1},8,["layout-data"]))}},ne=N(Z,[["__scopeId","data-v-b361f972"]]);export{ne as default};
