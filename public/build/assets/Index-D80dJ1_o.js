import{r as c,c as h,w as p,o,a as e,t as r,b as f,d as b,u as w,i as C,j as u,h as i,F as M,k as E,A as $,m as y,p as v}from"./app-BmMnv7Hf.js";import{L as N}from"./Layout-Csq83W0y.js";import{P as V}from"./PrettyButton-DJ97II5T.js";import D from"./CreateOrEditImportantDate-B-Qb1UgV.js";import{E as L}from"./Errors-DkF-M9C7.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./style-ClCZSOx6.js";import"./PrettySpan-DbeWKi_L.js";import"./TextInput-DPfNN3hz.js";import"./Dropdown-fLyjUirY.js";const O={class:"bg-white dark:bg-gray-900 sm:mt-20 sm:border-b"},S={class:"max-w-8xl mx-auto hidden px-4 py-2 sm:px-6 md:block"},U={class:"flex items-baseline justify-between space-x-6"},Y={class:"text-sm"},q={class:"me-2 inline text-gray-600 dark:text-gray-400"},z={class:"me-2 inline"},G={class:"me-2 inline"},H={class:"inline"},J={class:"relative sm:mt-20"},K={class:"mx-auto max-w-3xl px-2 py-2 sm:px-6 sm:py-6 lg:px-8"},Q={class:"mb-6 mt-8 items-center justify-between sm:mt-0 sm:flex"},R={class:"mb-4 sm:mb-0"},W={key:1},X={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Z={key:0,class:"flex items-center justify-between px-5 py-2"},ee={class:"text-base"},te={class:"font-medium"},se={key:0,class:"ms-2 inline-block rounded bg-neutral-200 px-1 py-0 text-xs text-neutral-500 last:me-0"},ae={class:"text-sm"},oe=["onClick"],re={class:"text-blue-500 hover:underline"},le=["onClick"],ne={key:1,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},ie={class:"p-5 text-center"},de={__name:"Index",props:{layoutData:Object,data:Object},setup(l){const j=l,m=c(0),d=c(!1),n=c(j.data.dates),k=c(null),x=c([]),_=c(null),B=()=>{d.value=!0,$().then(()=>k.value.reset())},A=t=>{m.value=t.id,$().then(()=>x.value[0].reset())},F=t=>{y(v("The date has been added"),"success"),n.value.unshift(t),d.value=!1},I=t=>{y(v("The date has been updated"),"success"),n.value[n.value.findIndex(s=>s.id===t.id)]=t,m.value=0},T=t=>{confirm(v("Are you sure? This action cannot be undone."))&&axios.delete(t.url.destroy).then(()=>{y(v("The date has been deleted"),"success");let s=n.value.findIndex(a=>a.id===t.id);n.value.splice(s,1)}).catch(s=>{_.value=s.response.data})};return(t,s)=>(o(),h(N,{"layout-data":l.layoutData,"inside-vault":!0},{default:p(()=>[e("nav",O,[e("div",S,[e("div",U,[e("ul",Y,[e("li",q,r(t.$t("You are here:")),1),e("li",z,[f(w(C),{href:l.layoutData.vault.url.contacts,class:"text-blue-500 hover:underline"},{default:p(()=>[b(r(t.$t("Contacts")),1)]),_:1},8,["href"])]),s[2]||(s[2]=e("li",{class:"relative me-2 inline"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-breadcrumb relative inline h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1)),e("li",G,[f(w(C),{href:l.data.url.contact,class:"text-blue-500 hover:underline"},{default:p(()=>[b(r(t.$t("Profile of :name",{name:l.data.contact.name})),1)]),_:1},8,["href"])]),s[3]||(s[3]=e("li",{class:"relative me-2 inline"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-breadcrumb relative inline h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1)),e("li",H,r(t.$t("All the important dates")),1)])])])]),e("main",J,[e("div",K,[e("div",Q,[e("h3",R,[s[4]||(s[4]=e("span",{class:"me-1"}," ðŸ—“ ",-1)),b(" "+r(t.$t("All the important dates")),1)]),d.value?u("",!0):(o(),h(V,{key:0,text:t.$t("Add a date"),icon:"plus",onClick:B},null,8,["text"]))]),f(L,{errors:_.value},null,8,["errors"]),d.value?(o(),h(D,{key:0,class:"mb-6",ref_key:"createForm",ref:k,data:l.data,onClose:s[0]||(s[0]=a=>d.value=!1),onCreated:F},null,8,["data"])):u("",!0),d.value?u("",!0):(o(),i("div",W,[n.value.length>0?(o(),i("ul",X,[(o(!0),i(M,null,E(n.value,a=>(o(),i("li",{key:a.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[m.value===0?(o(),i("div",Z,[e("span",ee,[b(r(a.label)+": ",1),e("span",te,r(a.date),1),a.type?(o(),i("span",se,r(a.type.label),1)):u("",!0)]),e("ul",ae,[e("li",{class:"me-4 inline cursor-pointer",onClick:g=>A(a)},[e("span",re,r(t.$t("Edit")),1)],8,oe),e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:g=>T(a)},r(t.$t("Delete")),9,le)])])):u("",!0),m.value===a.id?(o(),h(D,{key:1,ref_for:!0,ref_key:"editForm",ref:x,date:a,data:l.data,onClose:s[1]||(s[1]=g=>m.value=0),"onUpdate:date":I},null,8,["date","data"])):u("",!0)]))),128))])):(o(),i("div",ne,[e("p",ie,r(t.$t("Add an important date to remember what matters to you about this person, like a birthdate or a deceased date.")),1)]))]))])])]),_:1},8,["layout-data"]))}},xe=P(de,[["__scopeId","data-v-7a48bf32"]]);export{xe as default};
