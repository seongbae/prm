import{r as d,T as M,h as g,a as e,t as o,b as m,c as P,j as y,d as i,l as T,u as n,x as p,bP as b,n as k,A as E,p as w,o as f,m as L}from"./app-BmMnv7Hf.js";import{P as O}from"./PrettyButton-DJ97II5T.js";import{P as j}from"./PrettyLink-DUWQkaT1.js";import{T as z}from"./TextInput-DPfNN3hz.js";import{E as J}from"./Errors-DkF-M9C7.js";import{_ as U}from"./Help-D0DKBJOE.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BX-obcj7.js";const D={class:"mb-16"},F={class:"mb-3 mt-8 items-center justify-between sm:mt-0 sm:flex"},H={class:"mb-4 flex font-semibold sm:mb-0"},I={class:"me-2"},q={class:"mb-6 flex rounded border bg-slate-50 px-3 py-2 text-sm dark:border-gray-700 dark:bg-slate-900"},A={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},R={class:"border-b border-gray-200 px-5 py-2 dark:border-gray-700"},Y={class:"mb-2 block"},G={class:"mb-2 block rounded bg-slate-100 px-5 py-2 text-sm dark:bg-slate-900"},K={class:"example bg-orange-50 px-5 py-2 text-sm font-medium dark:bg-orange-900"},Q={class:"font-light"},W={class:"border-b border-gray-200 px-5 py-2 dark:border-gray-700"},X={class:"mb-2 flex items-center"},Z={for:"first_name_last_name",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},ee={class:"mb-2 flex items-center"},ae={for:"last_name_first_name",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},te={class:"mb-2 flex items-center"},se={for:"first_name_last_name_nickname",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},re={class:"mb-2 flex items-center"},oe={for:"nickname",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},ne={class:"mb-2 flex items-center"},le={for:"custom",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},de={class:"ms-8"},me={class:"mb-4 text-sm"},ie=["innerHTML"],ce={class:"flex justify-between p-5"},ue={__name:"NameOrder",props:{data:Object},setup($){const c=$,_=d(null),u=d(""),l=d(!1),x=d(c.data.name_order),v=d(c.data.name_example),h=d(!0),s=M({nameOrder:c.data.name_order,choice:"",errors:[]}),C=()=>{l.value=!0},B=()=>{h.value=!1,E().then(()=>_.value.focus())},V=()=>w("Please read our <link>documentation</link> to know more about this feature, and which variables you have access to.").replace("<link>",'<a href="https://docs.monicahq.com/user-and-account-settings/manage-preferences#customize-contact-names" lang="en" target="_blank" rel="noopener noreferrer" class="text-blue-500 hover:underline">').replace("</link>","</a>"),N=()=>{u.value="loading",axios.post(c.data.url.store,s).then(t=>{L(w("Changes saved"),"success"),x.value=s.nameOrder,v.value=t.data.data.name_example,s.choice=s.nameOrder,l.value=!1,u.value=null}).catch(t=>{u.value=null,s.errors=t.response.data})};return(t,a)=>(f(),g("div",D,[e("div",F,[e("h3",H,[a[7]||(a[7]=e("span",{class:"me-1"}," ðŸ‘‰ ",-1)),e("span",I,o(t.$t("Customize how contacts should be displayed")),1),m(U,{url:t.$page.props.help_links.settings_preferences_contact_names,top:"5px"},null,8,["url"])]),l.value?y("",!0):(f(),P(O,{key:0,text:t.$t("Edit"),onClick:C},null,8,["text"]))]),e("div",q,[a[8]||(a[8]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 grow pe-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",null,[e("p",null,o(t.$t("You can customize how contacts should be displayed according to your own taste/culture. Perhaps you would want to use James Bond instead of Bond James. Here, you can define it at will.")),1)])]),l.value?y("",!0):(f(),g("div",A,[e("p",R,[e("span",Y,o(t.$t("Current way of displaying contact names:")),1),e("span",G,o(x.value),1)]),e("p",K,[e("span",Q,o(t.$t("Contacts will be shown as follow:")),1),i(" "+o(v.value),1)])])),l.value?(f(),g("form",{key:1,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 bg-white dark:border-gray-700 dark:bg-gray-900",onSubmit:a[6]||(a[6]=T(r=>N(),["prevent"]))},[e("div",W,[m(J,{errors:n(s).errors},null,8,["errors"]),e("div",X,[p(e("input",{id:"first_name_last_name","onUpdate:modelValue":a[0]||(a[0]=r=>n(s).nameOrder=r),value:"%first_name% %last_name%",name:"name-order",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[b,n(s).nameOrder]]),e("label",Z,[i(o(t.$t("First name Last name"))+" ",1),a[9]||(a[9]=e("span",{class:"ms-4 font-normal text-gray-500"}," James Bond ",-1))])]),e("div",ee,[p(e("input",{id:"last_name_first_name","onUpdate:modelValue":a[1]||(a[1]=r=>n(s).nameOrder=r),value:"%last_name% %first_name%",name:"name-order",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[b,n(s).nameOrder]]),e("label",ae,[i(o(t.$t("Last name First name"))+" ",1),a[10]||(a[10]=e("span",{class:"ms-4 font-normal text-gray-500"}," Bond James ",-1))])]),e("div",te,[p(e("input",{id:"first_name_last_name_nickname","onUpdate:modelValue":a[2]||(a[2]=r=>n(s).nameOrder=r),value:"%first_name% %last_name% (%nickname%)",name:"name-order",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[b,n(s).nameOrder]]),e("label",se,[i(o(t.$t("First name Last name (nickname)"))+" ",1),a[11]||(a[11]=e("span",{class:"ms-4 font-normal text-gray-500"}," James Bond (007) ",-1))])]),e("div",re,[p(e("input",{id:"nickname","onUpdate:modelValue":a[3]||(a[3]=r=>n(s).nameOrder=r),value:"%nickname%",name:"name-order",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[b,n(s).nameOrder]]),e("label",oe,[i(o(t.$t("nickname"))+" ",1),a[12]||(a[12]=e("span",{class:"ms-4 font-normal text-gray-500"}," 007 ",-1))])]),e("div",ne,[e("input",{id:"custom",name:"name-order",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700",onClick:B}),e("label",le,o(t.$t("Custom name order")),1)]),e("div",de,[m(z,{ref_key:"nameOrder",ref:_,modelValue:n(s).nameOrder,"onUpdate:modelValue":a[4]||(a[4]=r=>n(s).nameOrder=r),type:"text",autofocus:!0,"input-class":"block w-full",class:k("mb-2 block"),disabled:h.value,autocomplete:!1,maxlength:255},null,8,["modelValue","disabled"]),e("p",me,[e("span",{class:"mr-1",innerHTML:V()},null,8,ie)])])]),e("div",ce,[m(j,{text:t.$t("Cancel"),class:k("me-3"),onClick:a[5]||(a[5]=r=>l.value=!1)},null,8,["text"]),m(O,{text:t.$t("Save"),state:u.value,icon:"check",class:k("save")},null,8,["text","state"])])],32)):y("",!0)]))}},ve=S(ue,[["__scopeId","data-v-14e1070c"]]);export{ve as default};
