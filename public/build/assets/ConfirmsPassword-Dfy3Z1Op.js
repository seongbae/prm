import{p as d,r as w,O as C,h as k,a as _,z as $,b as o,w as a,A as m,o as v,d as r,t,B as b,n as P}from"./app-BmMnv7Hf.js";import{_ as V}from"./Button-BWK-thSE.js";import{_ as S}from"./DialogModal-BdRnJ9VP.js";import{_ as x}from"./Input-CLHvIp3o.js";import{_ as B}from"./InputError-CqlclkzZ.js";import{_ as N}from"./SecondaryButton-3_x4XnxO.js";const z={class:"mt-4"},F={__name:"ConfirmsPassword",props:{title:{type:String,default:d("Confirm Password")},content:{type:String,default:d("For your security, please confirm your password to continue.")},button:{type:String,default:d("Confirm")}},emits:["confirmed"],setup(n,{emit:g}){const f=g,i=w(!1),s=C({password:"",error:"",processing:!1}),l=w(null),h=()=>{axios.get(route("password.confirmation")).then(e=>{e.data.confirmed?f("confirmed"):(i.value=!0,m().then(()=>l.value.focus()))})},p=()=>{s.processing=!0,axios.post(route("password.confirm"),{password:s.password}).then(()=>{s.processing=!1,c(),m().then(()=>f("confirmed"))}).catch(e=>{s.processing=!1,s.error=e.response.data.errors.password[0],m().then(()=>l.value.focus())})},c=()=>{i.value=!1,s.password="",s.error=""};return(e,u)=>(v(),k("span",null,[_("span",{onClick:h},[$(e.$slots,"default")]),o(S,{show:i.value,onClose:c},{title:a(()=>[r(t(n.title),1)]),content:a(()=>[r(t(n.content)+" ",1),_("div",z,[o(x,{ref_key:"passwordInput",ref:l,modelValue:s.password,"onUpdate:modelValue":u[0]||(u[0]=y=>s.password=y),type:"password",class:"mt-1 block w-3/4",placeholder:e.$t("Password"),onKeyup:b(p,["enter"])},null,8,["modelValue","placeholder"]),o(B,{message:s.error,class:"mt-2"},null,8,["message"])])]),footer:a(()=>[o(N,{onClick:c},{default:a(()=>[r(t(e.$t("Cancel")),1)]),_:1}),o(V,{class:P(["ms-3",{"opacity-25":s.processing}]),disabled:s.processing,onClick:p},{default:a(()=>[r(t(n.button),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{F as _};
