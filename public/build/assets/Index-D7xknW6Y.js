import{i as M,H as c,c as $,w as _,o as n,a as t,t as o,b as h,d as m,h as l,k as j,j as u,l as y,x as b,bP as g,n as f,F as S}from"./app-BmMnv7Hf.js";import{L as U}from"./Layout-Csq83W0y.js";import{P as L}from"./PrettyLink-DUWQkaT1.js";import{P as B}from"./PrettyButton-DJ97II5T.js";import{P}from"./PrettySpan-DbeWKi_L.js";import{E as V}from"./Errors-DkF-M9C7.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={components:{InertiaLink:M,Layout:U,PrettyLink:L,PrettyButton:B,PrettySpan:P,Errors:V},props:{layoutData:{type:Object,default:null},data:{type:Object,default:null}},data(){return{loadingState:"",editModalshownId:0,localUsers:[],form:{administrator:!1,errors:[]}}},mounted(){this.localUsers=this.data.users},methods:{showEditModal(e){this.editModalshownId=e.id,this.form.administrator=e.is_account_administrator},update(e){this.loadingState="loading",axios.put(e.url.update,this.form).then(s=>{this.editModalshownId=0,this.flash(this.$t("The user has been updated"),"success"),this.localUsers[this.localUsers.findIndex(i=>i.id===e.id)]=s.data.data,this.loadingState=null}).catch(s=>{this.loadingState=null,this.form.errors=s.response.data})},destroy(e){confirm(this.$t("Are you sure? This action cannot be undone."))&&axios.delete(e.url.destroy).then(()=>{this.flash(this.$t("The user has been deleted"),"success");var s=this.localUsers.findIndex(i=>i.id===e.id);this.localUsers.splice(s,1)})}}},A={class:"bg-white dark:bg-gray-900 sm:border-b"},N={class:"max-w-8xl mx-auto hidden px-4 py-2 sm:px-6 md:block"},T={class:"flex items-baseline justify-between space-x-6"},z={class:"text-sm"},F={class:"me-2 inline text-gray-600 dark:text-gray-400"},H={class:"me-2 inline"},O={class:"inline"},R={class:"relative sm:mt-24"},W={class:"mx-auto max-w-3xl px-2 py-2 sm:px-6 sm:py-6 lg:px-8"},Y={class:"mb-6 flex items-center justify-between"},q={class:"user-list mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},G={key:0,class:"flex items-center justify-between px-5 py-2"},J={class:"block"},K={key:0,class:"ms-2 rounded bg-neutral-200 px-2 py-1 text-xs text-neutral-500"},Q={class:"relative text-sm text-gray-400"},X={key:1,class:"flex items-center justify-between px-5 py-2"},Z={class:"block"},tt={key:0,class:"ms-2 rounded bg-neutral-200 px-2 py-1 text-xs text-neutral-500"},et={class:"text-sm text-gray-400"},st={key:0,class:"text-sm"},ot=["onClick"],at={class:"text-blue-500 hover:underline"},rt=["onClick"],nt=["onSubmit"],it={class:"border-b border-gray-200 p-5 dark:border-gray-700"},lt={class:"mb-2 block text-sm"},dt={class:"mb-2 flex items-start"},ct={for:"viewer",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},mt={class:"flex items-start"},ut={for:"manager",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},ht={class:"ms-4 font-normal text-gray-500"},pt={class:"flex justify-between p-5"};function _t(e,s,i,yt,r,p){const x=c("InertiaLink"),k=c("pretty-link"),v=c("errors"),w=c("pretty-span"),I=c("pretty-button"),C=c("layout");return n(),$(C,{title:"Dashboard","layout-data":i.layoutData},{default:_(()=>[t("nav",A,[t("div",N,[t("div",T,[t("ul",z,[t("li",F,o(e.$t("You are here:")),1),t("li",H,[h(x,{href:i.data.url.settings.index,class:"text-blue-500 hover:underline"},{default:_(()=>[m(o(e.$t("Settings")),1)]),_:1},8,["href"])]),s[3]||(s[3]=t("li",{class:"relative me-2 inline"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-breadcrumb relative inline h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1)),t("li",O,o(e.$t("Users")),1)])])])]),t("main",R,[t("div",W,[t("div",Y,[t("h3",null,[s[4]||(s[4]=t("span",{class:"me-1"}," ðŸ¥¸ ",-1)),m(" "+o(e.$t("All users in this account")),1)]),h(k,{href:i.data.url.users.create,text:e.$t("Invite a new user"),icon:"plus"},null,8,["href","text"])]),t("ul",q,[(n(!0),l(S,null,j(i.data.users,a=>(n(),l("li",{key:a.id,class:"border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800"},[a.name?u("",!0):(n(),l("div",G,[t("div",null,[t("span",J,[m(o(a.email)+" ",1),a.is_account_administrator?(n(),l("span",K,o(e.$t("Administrator")),1)):u("",!0)]),t("span",Q,[s[5]||(s[5]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-mail relative inline h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),m(" "+o(e.$t("Invitation sent")),1)])])])),a.name&&r.editModalshownId!==a.id?(n(),l("div",X,[t("div",null,[t("span",Z,[m(o(a.name)+" ",1),a.is_account_administrator?(n(),l("span",tt,o(e.$t("Administrator")),1)):u("",!0)]),t("span",et,o(a.email),1)]),a.is_logged_user?u("",!0):(n(),l("ul",st,[t("li",{class:"me-4 inline cursor-pointer",onClick:d=>p.showEditModal(a)},[t("span",at,o(e.$t("Edit")),1)],8,ot),t("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:d=>p.destroy(a)},o(e.$t("Delete")),9,rt)]))])):u("",!0),r.editModalshownId===a.id?(n(),l("form",{key:2,onSubmit:y(d=>p.update(a),["prevent"])},[t("div",it,[h(v,{errors:r.form.errors},null,8,["errors"]),t("p",lt,o(e.$t("What permission should :name have?",{name:a.name})),1),t("div",dt,[b(t("input",{id:"viewer","onUpdate:modelValue":s[0]||(s[0]=d=>r.form.administrator=d),value:"false",name:"permission",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[g,r.form.administrator]]),t("label",ct,o(e.$t("Regular user")),1)]),t("div",mt,[b(t("input",{id:"manager","onUpdate:modelValue":s[1]||(s[1]=d=>r.form.administrator=d),value:"true",name:"permission",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[g,r.form.administrator]]),t("label",ut,[m(o(e.$t("Administrator"))+" ",1),t("span",ht,o(e.$t("Can do everything, including adding or removing other users, managing billing and closing the account.")),1)])])]),t("div",pt,[h(w,{text:e.$t("Cancel"),class:f("me-3"),onClick:s[2]||(s[2]=y(d=>r.editModalshownId=0,["prevent"]))},null,8,["text"]),h(I,{text:e.$t("Update"),state:r.loadingState,icon:"check",class:f("save")},null,8,["text","state"])])],40,nt)):u("",!0)]))),128))])])])]),_:1},8,["layout-data"])}const It=D(E,[["render",_t],["__scopeId","data-v-2f8c9707"]]);export{It as default};
