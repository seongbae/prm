import{r as m,T as F,h as a,a as e,d as v,t as n,b as u,j as i,l as E,u as d,F as H,k as N,w as $,n as x,o as l,x as B,bP as R,P as U,by as Y,i as j}from"./app-BmMnv7Hf.js";import{D as z}from"./style-ClCZSOx6.js";import{P as A}from"./PrettySpan-DbeWKi_L.js";import{T as I}from"./TextArea-Dl3jFH3I.js";import{P as V}from"./PrettyButton-DJ97II5T.js";import{T as L}from"./TextInput-DPfNN3hz.js";import{E as q}from"./Errors-DkF-M9C7.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"mb-10"},J={class:"mb-3 border-b border-gray-200 pb-1 font-medium dark:border-gray-700"},K={key:0,class:"mb-4 flex items-center rounded-lg border border-gray-200 bg-white p-3 dark:border-gray-700 dark:bg-gray-900"},Q=["alt"],W={class:"mb-2 flex flex-col px-5"},X={class:"mb-2"},Z={class:"border-b border-gray-200 p-5 dark:border-gray-700"},ee={key:0,class:"p-5"},te={class:"mb-2 block text-sm dark:text-gray-100"},se={class:"mb-4"},oe=["id","value"],re=["for"],ae={class:"flex"},le={key:1},de={class:"mb-2 mt-2 block text-sm dark:text-gray-100"},ne=["value"],ie={key:2,class:"mt-4"},ue={key:3,class:"mt-4"},me={class:"flex justify-between p-5"},ce={key:2,class:"mb-4 flex items-center rounded-lg border border-gray-200 bg-white p-3 dark:border-gray-700 dark:bg-gray-900"},be=["alt"],pe={class:"flex flex-col px-5"},ge={class:"mb-2"},he={__name:"MoodTrackingEvents",props:{data:Object},setup(w){const k=w,b=m(""),c=m(!1),p=m(!1),g=m(!1),h=m(!1),f=m(!1),M=m({modelValue:"YYYY-MM-DD"}),r=F({parameter_id:0,date:k.data.current_date,hours:null,note:null}),C=()=>{p.value=!1,g.value=!1,h.value=!1,c.value=!0,r.note="",r.hours=null},S=()=>{p.value=!0},P=()=>{g.value=!0},T=()=>{h.value=!0},D=()=>{b.value="loading",axios.post(k.data.url.store,r).then(()=>{c.value=!1,f.value=!0,b.value=null}).catch(t=>{b.value=null,r.errors=t.response.data})};return(t,s)=>{var _;return l(),a("div",G,[e("h3",J,[s[6]||(s[6]=e("span",{class:"relative"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"icon-sidebar relative inline h-4 w-4 text-gray-300 hover:text-gray-600 dark:text-gray-400 hover:dark:text-gray-400"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59"})])],-1)),v(" "+n(t.$t("Record your mood")),1)]),!c.value&&!f.value?(l(),a("div",K,[e("img",{src:"/img/dashboard_blank_how_are_you.svg",alt:t.$t("Reminders"),class:"me-2 h-14 w-14"},null,8,Q),e("div",W,[e("p",X,n(t.$t("How are you?")),1),u(V,{text:t.$t("Record your mood"),onClick:C},null,8,["text"])])])):i("",!0),c.value?(l(),a("form",{key:1,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:s[5]||(s[5]=E(o=>D(),["prevent"]))},[e("div",Z,[d(r).errors.length>0?(l(),a("div",ee,[u(q,{errors:d(r).errors},null,8,["errors"])])):i("",!0),e("p",te,n(t.$t("How do you feel right now?")),1),e("ul",se,[(l(!0),a(H,null,N(k.data.mood_tracking_parameters,o=>(l(),a("li",{key:o.id,class:"flex"},[B(e("input",{id:"input"+o.id,"onUpdate:modelValue":s[0]||(s[0]=y=>d(r).parameter_id=y),value:o.id,name:"date-format",type:"radio",class:"relative me-3 h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,8,oe),[[R,d(r).parameter_id]]),e("label",{for:"input"+o.id,class:"block cursor-pointer font-medium text-gray-700 dark:text-gray-300"},[e("div",{class:x(["me-2 inline-block h-4 w-4 rounded-full",o.hex_color])},null,2),v(" "+n(o.label),1)],8,re)]))),128))]),e("div",ae,[p.value?i("",!0):(l(),a("span",{key:0,class:"me-2 flex cursor-pointer flex-wrap rounded-lg border bg-slate-200 px-1 py-1 text-sm hover:bg-slate-300 dark:bg-slate-500 dark:text-white",onClick:S},n(t.$t("+ change date")),1)),g.value?i("",!0):(l(),a("span",{key:1,class:"me-2 flex cursor-pointer flex-wrap rounded-lg border bg-slate-200 px-1 py-1 text-sm hover:bg-slate-300 dark:bg-slate-500 dark:text-white",onClick:P},n(t.$t("+ note")),1)),h.value?i("",!0):(l(),a("span",{key:2,class:"me-2 flex cursor-pointer flex-wrap rounded-lg border bg-slate-200 px-1 py-1 text-sm hover:bg-slate-300 dark:bg-slate-500 dark:text-white",onClick:T},n(t.$t("+ number of hours slept")),1))]),p.value?(l(),a("div",le,[e("p",de,n(t.$t("Change date")),1),u(d(z),{modelValue:d(r).date,"onUpdate:modelValue":s[1]||(s[1]=o=>d(r).date=o),modelModifiers:{string:!0},timezone:"UTC",class:"inline-block h-full",masks:M.value,locale:(_=t.$page.props.auth.user)==null?void 0:_.locale_ietf,"is-dark":t.isDark()},{default:$(({inputValue:o,inputEvents:y})=>[e("input",U({class:"rounded border bg-white px-2 py-1 dark:bg-gray-900",value:o},Y(y,!0)),null,16,ne)]),_:1},8,["modelValue","masks","locale","is-dark"])])):i("",!0),g.value?(l(),a("div",ie,[u(I,{modelValue:d(r).note,"onUpdate:modelValue":s[2]||(s[2]=o=>d(r).note=o),label:t.$t("Add a note"),maxlength:65535,"textarea-class":"block w-full"},null,8,["modelValue","label"])])):i("",!0),h.value?(l(),a("div",ue,[u(L,{modelValue:d(r).hours,"onUpdate:modelValue":s[3]||(s[3]=o=>d(r).hours=o),label:t.$t("Number of hours slept"),autofocus:!0,"input-class":"block w-full",type:"number",min:0,max:24,required:!1,autocomplete:!1},null,8,["modelValue","label"])])):i("",!0)]),e("div",me,[u(A,{text:t.$t("Cancel"),class:x("me-3"),onClick:s[4]||(s[4]=o=>c.value=!1)},null,8,["text"]),u(V,{text:t.$t("Save"),state:b.value,icon:"plus",class:x("save")},null,8,["text","state"])])],32)):i("",!0),f.value?(l(),a("div",ce,[e("img",{src:"/img/dashboard_blank_how_are_you.svg",alt:t.$t("Reminders"),class:"me-2 h-14 w-14"},null,8,be),e("div",pe,[e("p",ge,[s[7]||(s[7]=e("span",{class:"me-1"},"ðŸŽ‰",-1)),v(" "+n(t.$t("Your mood has been recorded!")),1)]),u(d(j),{href:w.data.url.history,class:"text-center text-blue-500 hover:underline"},{default:$(()=>[v(n(t.$t("View history")),1)]),_:1},8,["href"])])])):i("",!0)])}}},Ve=O(he,[["__scopeId","data-v-236bea1c"]]);export{Ve as default};
